Metadata-Version: 2.1
Name: python3-cyberfusion-aptly-apicli
Version: 1.0.2.2.3
Summary: API library for Aptly.
Author-email: Cyberfusion <support@cyberfusion.io>
Project-URL: Source, https://github.com/CyberfusionIO/python3-cyberfusion-aptly-apicli
Description-Content-Type: text/markdown
Requires-Dist: certifi ==2022.9.24
Requires-Dist: requests ==2.28.1
Requires-Dist: python3-cyberfusion-common ~=2.0

# python3-cyberfusion-aptly-apicli

API library for [Aptly](https://www.aptly.info/).

# Install

## PyPI

Run the following command to install the package from PyPI:

    pip3 install python3-cyberfusion-aptly-apicli

## Debian

Run the following commands to build a Debian package:

    mk-build-deps -i -t 'apt -o Debug::pkgProblemResolver=yes --no-install-recommends -y'
    dpkg-buildpackage -us -uc

# Configure

## Config file options

* Section `aptly-api`, key `serverurl`
* Section `aptly-api`, key `username` (optional)
* Section `aptly-api`, key `apikey` (optional)

## Class options

* `config_file_path`. Non-default config file path.

# Usage

## Example

```python
from cyberfusion.AptlyApiCli import AptlyApiRequest

r = AptlyApiRequest()

# Upload temporary file

endpoint = "/api/files/aptly-0.9"

with open("aptly_0.9~dev+217+ge5d646c_i386.deb", "rb") as f:
    r.POST(endpoint, data={}, files={"file": f})

print(r.execute())

# Add package

endpoint = "/api/repos/repo1/file/aptly-0.9"

r = AptlyApiRequest()
r.POST(endpoint, data={})
print(r.execute())
```
