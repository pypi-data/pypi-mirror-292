(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-606855dd"],{"06c5":function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));r("a630"),r("fb6a"),r("b0c0"),r("d3b7"),r("ac1f"),r("00b4"),r("25f0"),r("3ca3");var n=r("6b75");function i(t,e){if(t){if("string"==typeof t)return Object(n["a"])(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(n["a"])(t,e):void 0}}},1148:function(t,e,r){"use strict";var n=r("a691"),i=r("1d80");t.exports="".repeat||function(t){var e=String(i(this)),r="",a=n(t);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(e+=e))1&a&&(r+=e);return r}},3778:function(t,e,r){"use strict";r("99af"),r("d3b7"),r("159b");var n=r("f756");e["a"]={queryDatasetGraph:function(t){return Object(n["b"])({method:"get",url:"v1/mindinsight/datasets/dataset_graph",params:t})},queryLineagesData:function(t){return Object(n["b"])({method:"post",url:"v1/mindinsight/lineagemgr/lineages",data:t.body})},putLineagesData:function(t){return Object(n["b"])({method:"put",url:"v1/mindinsight/lineagemgr/lineages?train_id="+Object(n["c"])(t.train_id),data:t.body})},queryTargetsData:function(t){return Object(n["b"])({method:"post",url:"v1/mindinsight/optimizer/targets/search",data:t.body})},querySummaryList:function(t,e){return Object(n["b"])({method:"get",url:"v1/mindinsight/datavisual/train-jobs",params:t,headers:{ignoreError:e}})},getScalarsSample:function(t){return Object(n["b"])({method:"get",url:"v1/mindinsight/datavisual/scalar/metadata",params:t,headers:{ignoreError:!0}})},getTensorsSample:function(t){return Object(n["b"])({method:"get",url:"v1/mindinsight/datavisual/tensors",params:t,headers:{ignoreError:!0}})},queryGraphData:function(t){return Object(n["b"])({method:"get",url:"v1/mindinsight/datavisual/graphs/nodes",params:t})},searchNodesNames:function(t){return Object(n["b"])({method:"get",url:"v1/mindinsight/datavisual/graphs/nodes/names",params:t})},querySingleNode:function(t){return Object(n["b"])({method:"get",url:"v1/mindinsight/datavisual/graphs/single-node",params:t})},getSingleTrainJob:function(t,e){return Object(n["b"])({method:"get",url:"v1/mindinsight/datavisual/single-job",params:t,headers:{ignoreError:e}})},trainJobsCaches:function(t){return Object(n["b"])({method:"post",url:"v1/mindinsight/datavisual/train-job-caches",data:t})},getSummarySample:function(t){var e=t.train_id,r="";return e.forEach((function(t){t&&(r+="train_id=".concat(Object(n["c"])(t),"&"))})),r+="tag=".concat(Object(n["c"])(t.tag)),Object(n["b"])({method:"get",url:"v1/mindinsight/datavisual/scalars?".concat(r)})},getImageMetadatas:function(t){return Object(n["b"])({method:"get",url:"v1/mindinsight/datavisual/image/metadata",params:t,headers:{ignoreError:!0}})},getImageData:function(t){return Object(n["b"])({method:"get",url:"v1/mindinsight/datavisual/image/single-image",params:t,headers:{ignoreError:!0}})},getDatavisualPlugins:function(t){return Object(n["b"])({method:"get",url:"v1/mindinsight/datavisual/plugins",params:t})},getHistogramData:function(t){return Object(n["b"])({method:"get",url:"v1/mindinsight/datavisual/histograms",params:t})},getProfilerDeviceData:function(t){return Object(n["b"])({method:"get",url:"v1/mindinsight/profile/devices",params:t})},getProfilerOpData:function(t){return Object(n["b"])({method:"post",url:"v1/mindinsight/profile/ops/search",params:t.params,data:t.body,headers:{ignoreError:!0}})},queryDataOfProfileHelper:function(t){return Object(n["b"])({method:"get",url:"v1/mindinsight/profile/summary/propose",params:t})},queryDataOfProfileClusterHelper:function(t){return Object(n["b"])({method:"get",url:"v1/mindinsight/profile/summary/cluster-propose",params:t,timeout:24e4})},queryTrainingTrace:function(t){return Object(n["b"])({method:"get",url:"v1/mindinsight/profile/training-trace/graph",params:t,headers:{ignoreError:!0}})},targetTimeInfo:function(t){return Object(n["b"])({method:"get",url:"v1/mindinsight/profile/training-trace/target-time-info",params:t,headers:{ignoreError:!0}})},queryTimeline:function(t){return Object(n["b"])({method:"get",url:"v1/mindinsight/profile/timeline",params:t,headers:{ignoreError:!0}})},queryTimelineInfo:function(t){return Object(n["b"])({method:"get",url:"v1/mindinsight/profile/timeline-summary",params:t,headers:{ignoreError:!0}})},queryMsprofTimelineOption:function(t){return Object(n["b"])({method:"get",url:"v1/mindinsight/profile/msprof_timeline_option",params:t,headers:{ignoreError:!0}})},queryMsprofTimeline:function(t){return Object(n["b"])({method:"get",url:"v1/mindinsight/profile/msprof_timeline",params:t,headers:{ignoreError:!0}})},queryOpQueue:function(t){return Object(n["b"])({method:"post",url:"v1/mindinsight/profile/minddata-pipeline/op-queue",params:t.params,data:t.body,headers:{ignoreError:!0}})},queryQueue:function(t){return Object(n["b"])({method:"get",url:"v1/mindinsight/profile/minddata-pipeline/queue",params:t,headers:{ignoreError:!0}})},queryProcessSummary:function(t){return Object(n["b"])({method:"get",url:"v1/mindinsight/profile/process_summary",params:t,headers:{ignoreError:!0}})},queueInfo:function(t){return Object(n["b"])({method:"get",url:"v1/mindinsight/profile/queue_info",params:t,headers:{ignoreError:!0}})},minddataOp:function(t){return Object(n["b"])({method:"get",url:"v1/mindinsight/profile/minddata_op",params:t,headers:{ignoreError:!0}})},getGraphData:function(t){return Object(n["b"])({method:"get",url:"v1/mindinsight/profile/parallel-strategy/graphs",params:t,headers:{ignoreError:!0},timeout:6e4})},getSession:function(t){return Object(n["b"])({method:"post",url:"v1/mindinsight/debugger/sessions",data:t})},deleteSession:function(t){return Object(n["b"])({method:"post",url:"v1/mindinsight/debugger/sessions/".concat(t,"/delete")})},checkSessions:function(){return Object(n["b"])({method:"get",url:"v1/mindinsight/debugger/sessions"})},pollData:function(t,e){return Object(n["b"])({method:"get",url:"v1/mindinsight/debugger/sessions/".concat(e,"/poll-data"),params:t,headers:{ignoreError:!0},timeout:0})},retrieve:function(t,e){return Object(n["b"])({method:"post",url:"v1/mindinsight/debugger/sessions/".concat(e,"/retrieve"),data:t})},createWatchpoint:function(t,e){return Object(n["b"])({method:"post",url:"v1/mindinsight/debugger/sessions/".concat(e,"/create-watchpoint"),data:t})},updateWatchpoint:function(t,e){return Object(n["b"])({method:"post",url:"v1/mindinsight/debugger/sessions/".concat(e,"/update-watchpoint"),data:t})},deleteWatchpoint:function(t,e){return Object(n["b"])({method:"post",url:"v1/mindinsight/debugger/sessions/".concat(e,"/delete-watchpoint"),data:t})},control:function(t,e){return Object(n["b"])({method:"post",url:"v1/mindinsight/debugger/sessions/".concat(e,"/control"),data:t})},search:function(t,e){return Object(n["b"])({method:"get",url:"v1/mindinsight/debugger/sessions/".concat(e,"/search"),params:t})},retrieveNodeByBfs:function(t){return Object(n["b"])({method:"get",url:"v1/mindinsight/debugger/retrieve_node_by_bfs",params:t})},tensorComparisons:function(t,e){return Object(n["b"])({method:"get",url:"v1/mindinsight/debugger/sessions/".concat(e,"/tensor-comparisons"),params:t})},tensors:function(t,e){return Object(n["b"])({method:"get",url:"v1/mindinsight/debugger/sessions/".concat(e,"/tensors"),params:t})},retrieveTensorHistory:function(t,e){return Object(n["b"])({method:"post",url:"v1/mindinsight/debugger/sessions/".concat(e,"/tensor-history"),data:t})},queryConditions:function(t){return Object(n["b"])({method:"get",url:"v1/mindinsight/debugger/sessions/".concat(t,"/condition-collections")})},recheckWatchPoints:function(t){return Object(n["b"])({method:"post",url:"v1/mindinsight/debugger/sessions/".concat(t,"/recheck")})},searchWatchpointHits:function(t,e){return Object(n["b"])({method:"post",url:"v1/mindinsight/debugger/sessions/".concat(e,"/search-watchpoint-hits"),data:t})},queryStackList:function(t,e){return Object(n["b"])({method:"get",url:"v1/mindinsight/debugger/sessions/".concat(e,"/stacks"),params:t})},loadTensor:function(t,e){return Object(n["b"])({method:"post",url:"v1/mindinsight/debugger/sessions/".concat(e,"/tensor-files/load"),data:t})},getGraphRuns:function(t,e){return Object(n["b"])({method:"get",url:"v1/mindinsight/debugger/sessions/".concat(t,"/ranks/").concat(e,"/graph-runs")})},getExplainList:function(t){return Object(n["b"])({method:"get",url:"v1/mindinsight/explainer/explain-jobs",params:t})},queryTrainInfo:function(t){return Object(n["b"])({method:"get",url:"v1/mindinsight/explainer/explain-job",params:t})},queryPageInfo:function(t){return Object(n["b"])({method:"post",url:"v1/mindinsight/explainer/saliency",data:t})},getEvaluation:function(t){return Object(n["b"])({method:"get",url:"v1/mindinsight/explainer/evaluation",params:t})},queryHOCData:function(t){return Object(n["b"])({method:"post",url:"v1/mindinsight/explainer/hoc",data:t})},tensorHitsData:function(t,e){return Object(n["b"])({method:"get",url:"v1/mindinsight/debugger/sessions/".concat(e,"/tensor-hits"),params:t})},getTensorGraphData:function(t,e){return Object(n["b"])({method:"get",url:"v1/mindinsight/debugger/sessions/".concat(e,"/tensor-graphs"),params:t})},getCpuUtilization:function(t){return Object(n["b"])({method:"post",url:"v1/mindinsight/profile/minddata-cpu-utilization-summary",params:t.params,data:t.body})},setRecommendWatchPoints:function(t,e){return Object(n["b"])({method:"post",url:"v1/mindinsight/debugger/sessions/".concat(e,"/set-recommended-watch-points"),data:t})},queryMemorySummary:function(t){return Object(n["b"])({method:"get",url:"v1/mindinsight/profile/memory-summary",params:t})},queryMemoryGraphics:function(t){return Object(n["b"])({method:"get",url:"v1/mindinsight/profile/memory-graphics",params:t})},queryMemoryBreakdowns:function(t){return Object(n["b"])({method:"get",url:"v1/mindinsight/profile/memory-breakdowns",params:t})},getClusterInfo:function(t){return Object(n["b"])({method:"post",params:t.params,data:t.body,url:"v1/mindinsight/profile/cluster-step-trace-summary"})},getCommInfo:function(t){return Object(n["b"])({method:"post",params:t.params,data:t.body,url:"v1/mindinsight/profile/search-cluster-communication"})},getLinkInfo:function(t){return Object(n["b"])({method:"post",params:t.params,data:t.body,url:"v1/mindinsight/profile/search-cluster-link"})},getClusterPeakMemory:function(t){return Object(n["b"])({method:"get",params:t,url:"v1/mindinsight/profile/cluster-peak-memory"})},getFlopsSummary:function(t){return Object(n["b"])({method:"get",params:t,url:"v1/mindinsight/profile/flops-summary"})},getClusterFlops:function(t){return Object(n["b"])({method:"get",params:t,url:"v1/mindinsight/profile/cluster-flops"})},getFlopsScope:function(t){return Object(n["b"])({method:"get",params:t,url:"v1/mindinsight/profile/flops-scope"})},queryLossGraph:function(t){var e=t.train_id,r="";return Array.isArray(e)?e.forEach((function(t){t&&(r+="train_id=".concat(Object(n["c"])(t),"&"))})):r+="train_id=".concat(Object(n["c"])(e),"&"),r+="type=".concat(t.type),(t.metadata||!1===t.metadata)&&(r+="&metadata=".concat(t.metadata)),(t.interval_id||0===t.interval_id)&&(r+="&interval_id=".concat(t.interval_id)),Object(n["b"])({method:"get",url:"v1/mindinsight/datavisual/landscape/landscapes?".concat(r)})},queryEpochIntervals:function(t){return Object(n["b"])({method:"get",url:"v1/mindinsight/datavisual/landscape/intervals",params:t})},queryDynamicShape:function(t){return Object(n["b"])({method:"post",url:"v1/mindinsight/profile/dynamic-shape-detail",data:t,headers:{ignoreError:!0}})},queryAllGraphNodesData:function(t){return Object(n["b"])({method:"get",url:"v1/mindinsight/datavisual/graphs/nodes/all",params:t})},getTimeLineData:function(t,e,r){var i={train_id:t,step:e,device_type:"ascend"};return null!=r&&(i["device_list"]=r),Object(n["b"])({method:"get",url:"v1/mindinsight/profile/marey-graph/timeline",params:i,headers:{ignoreError:!0},timeout:24e4})},getOverviewTime:function(t){return Object(n["b"])({method:"get",url:"v1/mindinsight/profile/marey-graph/overview-time",params:{train_id:t,device_type:"ascend"},headers:{ignoreError:!0},timeout:24e4})},getCommunicationGraph:function(t){return Object(n["b"])({method:"get",url:"v1/mindinsight/profile/communication-data",params:{train_id:t},headers:{ignoreError:!0},timeout:24e4})},getFLOPsData:function(t){return Object(n["b"])({method:"get",url:"v1/mindinsight/profile/marey-graph/flops-data",params:{train_id:t},headers:{ignoreError:!0},timeout:24e4})},getMemoryData:function(t){return Object(n["b"])({method:"get",url:"v1/mindinsight/profile/marey-graph/memory-data",params:{train_id:t,device_type:"ascend"},headers:{ignoreError:!0},timeout:24e4})},queryDynamicShapeGPU:function(t){return Object(n["b"])({method:"post",url:"v1/mindinsight/profile/dynamic-shape-detail",params:t.params,data:t.body,headers:{ignoreError:!0}})},getProfilerInfo:function(t){return Object(n["b"])({method:"get",url:"v1/mindinsight/profile/profile_info",params:t})}}},3835:function(t,e,r){"use strict";function n(t){if(Array.isArray(t))return t}r.d(e,"a",(function(){return s}));r("e01a"),r("d28b"),r("e260"),r("d3b7"),r("3ca3"),r("ddb0");function i(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=r["return"]&&(o=r["return"](),Object(o)!==o))return}finally{if(u)throw i}}return s}}var a=r("06c5");function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t,e){return n(t)||i(t,e)||Object(a["a"])(t,e)||o()}},"408a":function(t,e,r){var n=r("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=n(t))throw TypeError("Incorrect invocation");return+t}},4564:function(t,e,r){"use strict";r("a2cc")},"4df4":function(t,e,r){"use strict";var n=r("0366"),i=r("7b0b"),a=r("9bdd"),o=r("e95a"),s=r("50c4"),c=r("8418"),u=r("35a1");t.exports=function(t){var e,r,d,l,m,g,h=i(t),p="function"==typeof this?this:Array,f=arguments.length,b=f>1?arguments[1]:void 0,v=void 0!==b,y=u(h),O=0;if(v&&(b=n(b,f>2?arguments[2]:void 0,2)),void 0==y||p==Array&&o(y))for(e=s(h.length),r=new p(e);e>O;O++)g=v?b(h[O],O):h[O],c(r,O,g);else for(l=y.call(h),m=l.next,r=new p;!(d=m.call(l)).done;O++)g=v?a(l,b,[d.value,O],!0):d.value,c(r,O,g);return r.length=O,r}},"4e82":function(t,e,r){"use strict";var n=r("23e7"),i=r("1c0b"),a=r("7b0b"),o=r("d039"),s=r("a640"),c=[],u=c.sort,d=o((function(){c.sort(void 0)})),l=o((function(){c.sort(null)})),m=s("sort"),g=d||!l||!m;n({target:"Array",proto:!0,forced:g},{sort:function(t){return void 0===t?u.call(a(this)):u.call(a(this),i(t))}})},"5e89":function(t,e,r){var n=r("861d"),i=Math.floor;t.exports=function(t){return!n(t)&&isFinite(t)&&i(t)===t}},"60da":function(t,e,r){"use strict";var n=r("83ab"),i=r("d039"),a=r("df75"),o=r("7418"),s=r("d1e7"),c=r("7b0b"),u=r("44ad"),d=Object.assign,l=Object.defineProperty;t.exports=!d||i((function(){if(n&&1!==d({b:1},d(l({},"a",{enumerable:!0,get:function(){l(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol(),i="abcdefghijklmnopqrst";return t[r]=7,i.split("").forEach((function(t){e[t]=t})),7!=d({},t)[r]||a(d({},e)).join("")!=i}))?function(t,e){var r=c(t),i=arguments.length,d=1,l=o.f,m=s.f;while(i>d){var g,h=u(arguments[d++]),p=l?a(h).concat(l(h)):a(h),f=p.length,b=0;while(f>b)g=p[b++],n&&!m.call(h,g)||(r[g]=h[g])}return r}:d},"6b75":function(t,e,r){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}r.d(e,"a",(function(){return n}))},"8ba4":function(t,e,r){var n=r("23e7"),i=r("5e89");n({target:"Number",stat:!0},{isInteger:i})},9944:function(t,e,r){"use strict";r.d(e,"a",(function(){return i})),r.d(e,"c",(function(){return o})),r.d(e,"b",(function(){return s}));var n=r("3835");r("99af"),r("caad"),r("8ba4"),r("b680"),r("d3b7"),r("ac1f"),r("25f0"),r("2532"),r("466d");function i(t,e,r){t.toLowerCase().includes("rgb")||(t=a(t)),e.toLowerCase().includes("rgb")||(e=a(e));for(var i=t.match(/[0-9]\d*/g),o=Object(n["a"])(i,3),s=o[0],c=o[1],u=o[2],d=e.match(/[0-9]\d*/g),l=Object(n["a"])(d,3),m=l[0],g=l[1],h=l[2],p=(+m-+s)/r,f=(+g-+c)/r,b=(+h-+u)/r,v=[t],y=1;y<r;y++){var O=parseInt(p*y+ +s),j=parseInt(f*y+ +c),_=parseInt(b*y+ +u);v.push("rgb(".concat(O,",").concat(j,",").concat(_,")"))}return v}function a(t){var e=16;return 4===t.length?"rgb(".concat(parseInt(t[1]+t[1],e),", ").concat(parseInt(t[2]+t[2],e),", ").concat(parseInt(t[3]+t[3],e),")"):"rgb(".concat(parseInt(t[1]+t[2],e),", ").concat(parseInt(t[3]+t[4],e),", ").concat(parseInt(t[5]+t[6],e),")")}function o(t,e){if("number"!==typeof t&&(t=parseFloat(t)),isNaN(t))return"NaN";var r=t+"",n=r.indexOf(".");return n<0||r.length-n-1<=e?r:t.toFixed(e)}function s(t){if(Number.isInteger(t))return!0;if("string"!==typeof t)return!1;var e=+t;return e+""===t&&Number.isInteger(e)}},a2cc:function(t,e,r){},a630:function(t,e,r){var n=r("23e7"),i=r("4df4"),a=r("1c7e"),o=!a((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:o},{from:i})},b0c0:function(t,e,r){var n=r("83ab"),i=r("9bf2").f,a=Function.prototype,o=a.toString,s=/^\s*function ([^ (]*)/,c="name";n&&!(c in a)&&i(a,c,{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(t){return""}}})},b680:function(t,e,r){"use strict";var n=r("23e7"),i=r("a691"),a=r("408a"),o=r("1148"),s=r("d039"),c=1..toFixed,u=Math.floor,d=function(t,e,r){return 0===e?r:e%2===1?d(t,e-1,r*t):d(t*t,e/2,r)},l=function(t){var e=0,r=t;while(r>=4096)e+=12,r/=4096;while(r>=2)e+=1,r/=2;return e},m=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){c.call({})}));n({target:"Number",proto:!0,forced:m},{toFixed:function(t){var e,r,n,s,c=a(this),m=i(t),g=[0,0,0,0,0,0],h="",p="0",f=function(t,e){var r=-1,n=e;while(++r<6)n+=t*g[r],g[r]=n%1e7,n=u(n/1e7)},b=function(t){var e=6,r=0;while(--e>=0)r+=g[e],g[e]=u(r/t),r=r%t*1e7},v=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==g[t]){var r=String(g[t]);e=""===e?r:e+o.call("0",7-r.length)+r}return e};if(m<0||m>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(h="-",c=-c),c>1e-21)if(e=l(c*d(2,69,1))-69,r=e<0?c*d(2,-e,1):c/d(2,e,1),r*=4503599627370496,e=52-e,e>0){f(0,r),n=m;while(n>=7)f(1e7,0),n-=7;f(d(10,n,1),0),n=e-1;while(n>=23)b(1<<23),n-=23;b(1<<n),f(1,1),b(2),p=v()}else f(0,r),f(1<<-e,0),p=v()+o.call("0",m);return m>0?(s=p.length,p=h+(s<=m?"0."+o.call("0",m-s)+p:p.slice(0,s-m)+"."+p.slice(s-m))):p=h+p,p}})},cca6:function(t,e,r){var n=r("23e7"),i=r("60da");n({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},cf7b:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"cl-memory-heatmap"},[r("div",{staticClass:"profiling-content-title"},[t._v(" "+t._s(t.$t("profilingCluster.memoryHeatMapTitle"))+" "),r("el-tooltip",{attrs:{placement:"right-start",effect:"light"}},[r("div",{staticClass:"heatmap-tooltip-container",attrs:{slot:"content"},slot:"content"},[r("div",{staticClass:"cl-memory-heatmap-tip"},[r("div",{staticClass:"tip-title"},[t._v(" "+t._s(t.$t("profilingCluster.mainTipTitle"))+" ")]),r("div",{staticClass:"tip-part"},[t._v(" "+t._s(t.$t("profilingCluster.mainTipPartOne"))+" ")]),r("div",{staticClass:"tip-part"},[t._v(" "+t._s(t.$t("profilingCluster.mainTipPartTwo"))+" ")]),r("div",{staticClass:"tip-part"},[t._v(" "+t._s(t.$t("profilingCluster.mainTipPartThree"))+" ")]),r("div",{staticClass:"tip-part"},[t._v(" "+t._s(t.$t("profilingCluster.mainTipPartFour"))+" ")])])]),r("i",{staticClass:"el-icon-info"})])],1),r("div",{staticClass:"content"},[r("div",{staticClass:"legend-content"},t._l(t.colorArr,(function(e,n){return r("div",{key:n,staticClass:"legend-item"},[r("div",{staticClass:"color-item",style:{background:e.background}}),r("span",{staticClass:"text-item"},[t._v("≥"+t._s(e.range))])])})),0),r("div",[r("span",[t._v(t._s(t.$t("profilingCluster.granuLarity"))+" ")]),r("el-select",{staticClass:"select-granuLarity",on:{change:t.getColorValue},model:{value:t.granuLarity,callback:function(e){t.granuLarity=e},expression:"granuLarity"}},t._l(t.granuLarityList,(function(t,e){return r("el-option",{key:e,attrs:{value:t.value,label:t.label}})})),1)],1)]),r("div",{staticClass:"heatmap-content"},t._l(t.memoryHeatmapDataList,(function(e){return r("div",{key:e.rankID,staticClass:"heatmap-item"},[r("el-tooltip",{attrs:{placement:"top"}},[r("div",{attrs:{slot:"content"},slot:"content"},[r("div",[t._v(" "+t._s(t.$t("profilingCluster.peakMem")+t.$t("symbols.colon")+e.peakMem+t.$t("unit.GiB"))+" "),r("br"),t._v(" "+t._s(t.$t("profilingCluster.capaCity")+t.$t("symbols.colon")+e.capacity+t.$t("unit.GiB"))+" "),r("br"),t._v(" "+t._s(t.$t("profilingCluster.maximumPeakRatio")+t.$t("symbols.colon")+e.peakRatio)+" ")])]),r("div",{staticClass:"color-item",style:{background:e.background},on:{click:function(r){return t.jumpToMemory(e.rankID)}}})]),t._v(" "+t._s(t.$t("profilingCluster.rankID")+e.rankID)+" ")],1)})),0)])},i=[],a=(r("99af"),r("4e82"),r("a9e3"),r("b680"),r("cca6"),r("d3b7"),r("159b"),r("3778")),o=r("2dd7"),s=r("9944"),c={props:{},data:function(){return{trainInfo:{id:this.$route.query.id,path:this.$route.query.path,dir:this.$route.query.dir},memoryHeatmapInitOver:!1,memoryHeatmapDataList:[],granuLarityList:[],granuLarity:"0.1",colorArr:[]}},created:function(){this.granuLarityList=[{label:"0.1",value:"0.1"},{label:"0.05",value:"0.05"},{label:"0.02",value:"0.02"}],this.getColorValue()},mounted:function(){var t=this.trainInfo.id;t?(document.title="".concat(t,"-").concat(this.$t("profilingCluster.memoryHeatMapTitle"),"-MindInsight"),this.getHeatMapData()):(document.title="".concat(this.$t("profilingCluster.memoryHeatMapTitle"),"-MindInsight"),this.memoryHeatmapInitOver=!0,this.$message.error(this.$t("trainingDashboard.invalidId")))},methods:{getColorValue:function(){this.colorArr=[],this.index=0;for(var t=o["a"].clusterHeatmapColorArr,e=1/this.granuLarity/(t.length-1),r=this.granuLarity.length-(this.granuLarity.indexOf(".")+1),n=0;n<t.length-1;n++)for(var i=0;i<e;i++)this.colorArr.push({background:Object(s["a"])(t[n],t[n+1],e)[i],range:(this.index*this.granuLarity).toFixed(r)}),this.index++;this.memoryHeatmapDataList.length&&this.changeBackground()},getHeatMapData:function(){var t=this,e={train_id:this.trainInfo.id};a["a"].getClusterPeakMemory(e).then((function(e){if(e.data){var r=[];e.data.forEach((function(t){var e=t.capacity;r.push({rankID:t.rank_id,peakMem:Number(Math.floor(1e3*t.peak_mem)/1e3),capacity:e,peakRatio:Number(Math.floor(t.peak_mem/e*1e3)/1e3),background:""})})),t.memoryHeatmapDataList=r.sort((function(t,e){return t.rankID-e.rankID})),t.changeBackground()}else t.memoryHeatmapInitOver=!0})).catch((function(){t.memoryHeatmapInitOver=!0}))},jumpToMemory:function(t){this.$router.push({path:"/profiling/single/memory-utilization",query:Object.assign(this.trainInfo,{rankID:t})})},changeBackground:function(){var t=this,e=1;this.memoryHeatmapDataList.forEach((function(r){if(r.peakRatio!==e){var n=Math.floor(r.peakRatio/+t.granuLarity);r.background=t.colorArr[n].background}else r.background=t.colorArr[t.colorArr.length-1].background}))}}},u=c,d=(r("4564"),r("2877")),l=Object(d["a"])(u,n,i,!1,null,"23b9cea3",null);e["default"]=l.exports},d28b:function(t,e,r){var n=r("746f");n("iterator")},e01a:function(t,e,r){"use strict";var n=r("23e7"),i=r("83ab"),a=r("da84"),o=r("5135"),s=r("861d"),c=r("9bf2").f,u=r("e893"),d=a.Symbol;if(i&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var l={},m=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof m?new d(t):void 0===t?d():d(t);return""===t&&(l[e]=!0),e};u(m,d);var g=m.prototype=d.prototype;g.constructor=m;var h=g.toString,p="Symbol(test)"==String(d("test")),f=/^Symbol\((.*)\)[^)]+$/;c(g,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=h.call(t);if(o(l,t))return"";var r=p?e.slice(7,-1):e.replace(f,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:m})}},fb6a:function(t,e,r){"use strict";var n=r("23e7"),i=r("861d"),a=r("e8b5"),o=r("23cb"),s=r("50c4"),c=r("fc6a"),u=r("8418"),d=r("b622"),l=r("1dde"),m=r("ae40"),g=l("slice"),h=m("slice",{ACCESSORS:!0,0:0,1:2}),p=d("species"),f=[].slice,b=Math.max;n({target:"Array",proto:!0,forced:!g||!h},{slice:function(t,e){var r,n,d,l=c(this),m=s(l.length),g=o(t,m),h=o(void 0===e?m:e,m);if(a(l)&&(r=l.constructor,"function"!=typeof r||r!==Array&&!a(r.prototype)?i(r)&&(r=r[p],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return f.call(l,g,h);for(n=new(void 0===r?Array:r)(b(h-g,0)),d=0;g<h;g++,d++)g in l&&u(n,d,l[g]);return n.length=d,n}})}}]);