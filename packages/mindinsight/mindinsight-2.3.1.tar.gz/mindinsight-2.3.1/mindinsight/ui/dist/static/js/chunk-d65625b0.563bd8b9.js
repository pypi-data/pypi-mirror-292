(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d65625b0"],{"373a":function(t,i,e){"use strict";e("ab47")},"4bf6":function(t,i,e){"use strict";e.r(i);var a=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"pro-router-wrap"},[a("div",{staticClass:"pro-router-left"},[a("div",{staticClass:"step-trace"},[a("div",{staticClass:"title-wrap"},[a("div",{staticClass:"title"},[t._v(t._s(t.$t("profiling.stepTrace")))]),a("div",{staticClass:"view-detail"},[a("button",{class:{disabled:!0},attrs:{disabled:!0}},[t._v(t._s(t.$t("profiling.viewDetail"))+" "),a("i",{staticClass:"el-icon-d-arrow-right"})])])]),a("div",{staticClass:"trace-container"},[a("div",{staticClass:"image-noData"},[a("div",[a("img",{attrs:{src:e("9485"),alt:""}})]),a("p",[t._v(t._s(t.$t("public.noSupport")))])])])]),a("div",{staticClass:"minddata"},[a("div",{staticClass:"title-wrap"},[a("div",{staticClass:"title"},[t._v(t._s(t.$t("profiling.mindData")))]),a("div",{staticClass:"view-detail"},[a("button",{class:{disabled:!0},attrs:{disabled:!0}},[t._v(" "+t._s(t.$t("profiling.viewDetail"))+" "),a("i",{staticClass:"el-icon-d-arrow-right"})])])]),a("div",{staticClass:"image-noData"},[a("div",[a("img",{attrs:{src:e("9485"),alt:""}})]),a("p",[t._v(t._s(t.$t("public.noSupport")))])])])]),a("div",{staticClass:"pro-router-right"},[a("div",{staticClass:"op-time-consume"},[a("div",{staticClass:"title-wrap"},[a("div",{staticClass:"title"},[t._v(t._s(t.$t("profiling.rankOfOperator")))]),a("div",{staticClass:"view-detail"},[a("button",{class:{disabled:t.pieChart.noData&&0===t.pieChart.data.length},attrs:{disabled:t.pieChart.noData&&0===t.pieChart.data.length},on:{click:function(i){return t.viewDetail("operator")}}},[t._v(t._s(t.$t("profiling.viewDetail"))+" "),a("i",{staticClass:"el-icon-d-arrow-right"})])])]),t.pieChart.noData?a("div",{staticClass:"image-noData"},[a("div",[a("img",{attrs:{src:e("9485"),alt:""}})]),a("p",{directives:[{name:"show",rawName:"v-show",value:!t.pieChart.initOver,expression:"!pieChart.initOver"}]},[t._v(t._s(t.$t("public.dataLoading")))]),a("p",{directives:[{name:"show",rawName:"v-show",value:t.pieChart.initOver,expression:"pieChart.initOver"}]},[t._v(t._s(t.$t("public.noData")))])]):t._e(),a("div",{staticClass:"op-time-content"},[t.pieChart.data.length?a("div",{staticClass:"pie-chart",attrs:{id:"pieChart"}}):t._e(),t.pieChart.data.length?a("div",{staticClass:"time-list"},[a("ul",t._l(t.pieChart.topN,(function(i,e){return a("li",{key:e,staticClass:"item"},[a("span",{staticClass:"index",style:{"background-color":t.pieChart.colorList[e]}},[t._v(t._s(e+1))]),a("span",{staticClass:"name"},[t._v(t._s(i.name))]),a("span",{staticClass:"num"},[t._v(t._s(i.frequency+t.$t("profiling.times")))]),a("span",{staticClass:"time"},[a("span",{staticClass:"bar",style:{width:i.time/t.pieChart.topN[0].time*100+"%"}}),a("span",{staticClass:"value"},[t._v(t._s(i.time+t.$t("profiling.gpuunit")))])])])})),0)]):t._e()])]),a("div",{staticClass:"time-line"},[a("div",{staticClass:"title-wrap"},[a("div",{staticClass:"title"},[t._v(t._s(t.$t("profiling.timeLine")))]),a("div",{staticClass:"view-detail"},[a("button",{class:{disabled:!0},attrs:{disabled:!0}},[t._v(t._s(t.$t("profiling.downloadTimeline"))+" ")])]),a("div",{staticClass:"tip-icon"},[a("el-tooltip",{attrs:{placement:"bottom",effect:"light"}},[a("div",{staticClass:"tooltip-container",attrs:{slot:"content"},slot:"content"},[a("div",{staticClass:"pro-dash-tooltip"},[a("div",{staticClass:"font-size-style"},[t._v(t._s(t.$t("profiling.features")))]),a("div",{staticClass:"font-style"},[t._v(t._s(t.$t("profiling.timelineTips.title1")))]),a("div",[t._v(t._s(t.$t("profiling.timelineTips.content12")))]),a("div",[t._v(t._s(t.$t("profiling.timelineTips.content13")))]),a("div",[t._v(t._s(t.$t("profiling.timelineTips.content14")))]),a("br"),a("div",{staticClass:"font-style"},[t._v(t._s(t.$t("profiling.timelineTips.title2")))]),a("div",[t._v(" "+t._s(t.$t("profiling.timelineTips.content21.part1"))+" "),a("b",[t._v(t._s(t.$t("profiling.timelineTips.content21.part2")))]),t._v(" "+t._s(t.$t("profiling.timelineTips.content21.part3"))+" ")]),a("div",[t._v(t._s(t.$t("profiling.timelineTips.content22")))]),a("div",[t._v(" "+t._s(t.$t("profiling.timelineTips.content23.part1"))+" "),a("b",[t._v(t._s(t.$t("profiling.timelineTips.content23.part2")))]),t._v(" "+t._s(t.$t("profiling.timelineTips.content23.part3"))+" "),a("b",[t._v(t._s(t.$t("profiling.timelineTips.content23.part4")))]),t._v(" "+t._s(t.$t("profiling.timelineTips.content23.part5"))+" "),a("b",[t._v(t._s(t.$t("profiling.timelineTips.content23.part6")))]),t._v(" "+t._s(t.$t("profiling.timelineTips.content23.part7"))+" ")]),a("br"),a("div",{staticClass:"font-style"},[t._v(t._s(t.$t("profiling.timelineTips.title3")))]),a("div",[t._v(t._s(t.$t("profiling.timelineTips.content31")))]),a("div",[t._v(t._s(t.$t("profiling.timelineTips.content32")))]),a("br"),a("div",{staticClass:"font-style"},[t._v(t._s(t.$t("profiling.timelineTips.title4")))]),a("div",[t._v(t._s(t.$t("profiling.timelineTips.content41")))]),a("div",{staticClass:"indent"},[t._v(t._s(t.$t("profiling.timelineTips.content42")))]),a("div",{staticClass:"indent"},[t._v(t._s(t.$t("profiling.timelineTips.content43")))]),a("div",{staticClass:"indent"},[t._v(t._s(t.$t("profiling.timelineTips.content44")))]),a("div",[t._v(t._s(t.$t("profiling.timelineTips.content45")))]),a("div",[t._v(t._s(t.$t("profiling.timelineTips.content46")))]),a("div",[t._v(t._s(t.$t("profiling.timelineTips.content47")))]),a("div",[t._v(t._s(t.$t("profiling.timelineTips.content48")))]),a("div",{staticClass:"indent"},[t._v(t._s(t.$t("profiling.timelineTips.content49")))]),a("div",{staticClass:"indent"},[t._v(t._s(t.$t("profiling.timelineTips.content410")))]),a("div",{staticClass:"indent"},[t._v(t._s(t.$t("profiling.timelineTips.content411")))]),a("div",{staticClass:"indent"},[t._v(t._s(t.$t("profiling.timelineTips.content412")))])])]),a("i",{staticClass:"el-icon-info"})])],1)]),a("div",{staticClass:"image-noData"},[a("div",[a("img",{attrs:{src:e("9485"),alt:""}})]),a("p",[t._v(t._s(t.$t("public.noSupport")))])])])])])},n=[],s=(e("99af"),e("d81d"),e("fb6a"),e("b0c0"),e("d3b7"),e("159b"),e("9fac")),r=e("3778"),o=e("2dd7"),l={data:function(){return{trainInfo:{id:this.$route.query.id,dir:this.$route.query.dir,path:this.$route.query.path},currentCard:"",queueInfoShow:!1,deviceInfoShow:!1,fpBpPercent:"--",fpPercent:"--",iterationIntervalPercent:"--",totalSteps:"--",totalTime:"--",tailPercent:"--",pieChart:{chartDom:null,data:[],noData:!0,topN:[],colorList:o["a"].pieColorArr[this.$store.state.themeIndex],initOver:!1},themeIndex:this.$store.state.themeIndex}},watch:{"$parent.curDashboardInfo":{handler:function(t){""===t.curCardNum&&(this.pieChart.noData=!0,this.pieChart.initOver=!0),t.query.dir&&t.query.id&&t.query.path&&t.curCardNum&&(this.trainInfo=t.query,this.currentCard=t.curCardNum,this.trainingJobId?document.title="".concat(this.trainingJobId,"-").concat(this.$t("profiling.profilingDashboard"),"-MindInsight"):document.title="".concat(this.$t("profiling.profilingDashboard"),"-MindInsight"),this.pieChart.initOver=!1,this.init())},deep:!0,immediate:!0}},methods:{init:function(){this.initPieChart()},viewDetail:function(t){this.$router.push({path:t,query:this.trainInfo})},setPieOption:function(){var t=this,i={tooltip:{trigger:"item",formatter:function(t){return"".concat(t.data.name,"<br>").concat(t.marker).concat(t.percent,"%")},confine:!0,extraCssText:"white-space:normal; word-break:break-word;"}};i.series=[{type:"pie",center:["50%","50%"],data:this.pieChart.data,radius:"80%",label:{normal:{show:!1,positionL:"inner"}},itemStyle:{normal:{color:function(i){return o["a"].pieColorArr[t.$store.state.themeIndex][i.dataIndex]}}}}],this.$nextTick((function(){var e=document.getElementById("pieChart");e?(t.pieChart.chartDom=s["a"].init(e,null),t.pieChart.chartDom.setOption(i,!0),t.pieChart.chartDom.resize()):t.pieChart.chartDom&&t.pieChart.chartDom.clear()}),10)},initPieChart:function(){var t=this,i={params:{profile:this.trainInfo.dir,train_id:this.trainInfo.id},body:{op_type:"cpu_op_type",device_id:this.currentCard,filter_condition:{op_type:{not_in:[]}},sort_condition:{name:"avg_time",type:"descending"}}};r["a"].getProfilerOpData(i).then((function(i){t.pieChart.initOver=!0,i&&i.data&&i.data.object&&(t.pieChart.data=[],i.data.object.forEach((function(i){t.pieChart.data&&t.pieChart.data.length<5?t.pieChart.data.push({name:i[0],value:i[4],frequency:i[1],percent:i[3]}):(t.pieChart.data[5]||(t.pieChart.data[5]={name:"Other",value:0,percent:0}),t.pieChart.data[5].value+=i[4],t.pieChart.data[5].percent+=i[3])})),t.setPieOption(),t.pieChart.noData=!t.pieChart.data.length,t.pieChart.topN=t.pieChart.data.slice(0,Math.min(t.pieChart.data.length,5)).map((function(t){return{name:t.name,time:t.value,frequency:t.frequency}})))})).catch((function(){t.pieChart.data=[],t.pieChart.noData=!0,t.pieChart.initOver=!0}))}}},p=l,c=(e("373a"),e("2877")),d=Object(c["a"])(p,a,n,!1,null,null,null);i["default"]=d.exports},9485:function(t,i,e){t.exports=e.p+"static/img/nodata.8290bed9.png"},ab47:function(t,i,e){},b0c0:function(t,i,e){var a=e("83ab"),n=e("9bf2").f,s=Function.prototype,r=s.toString,o=/^\s*function ([^ (]*)/,l="name";a&&!(l in s)&&n(s,l,{configurable:!0,get:function(){try{return r.call(this).match(o)[1]}catch(t){return""}}})},d81d:function(t,i,e){"use strict";var a=e("23e7"),n=e("b727").map,s=e("1dde"),r=e("ae40"),o=s("map"),l=r("map");a({target:"Array",proto:!0,forced:!o||!l},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},fb6a:function(t,i,e){"use strict";var a=e("23e7"),n=e("861d"),s=e("e8b5"),r=e("23cb"),o=e("50c4"),l=e("fc6a"),p=e("8418"),c=e("b622"),d=e("1dde"),v=e("ae40"),h=d("slice"),f=v("slice",{ACCESSORS:!0,0:0,1:2}),u=c("species"),_=[].slice,m=Math.max;a({target:"Array",proto:!0,forced:!h||!f},{slice:function(t,i){var e,a,c,d=l(this),v=o(d.length),h=r(t,v),f=r(void 0===i?v:i,v);if(s(d)&&(e=d.constructor,"function"!=typeof e||e!==Array&&!s(e.prototype)?n(e)&&(e=e[u],null===e&&(e=void 0)):e=void 0,e===Array||void 0===e))return _.call(d,h,f);for(a=new(void 0===e?Array:e)(m(f-h,0)),c=0;h<f;h++,c++)h in d&&p(a,c,d[h]);return a.length=c,a}})}}]);