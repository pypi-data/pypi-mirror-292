(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-41eae091"],{2008:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mi-contour-map"},[n("div",{ref:"contour",staticClass:"map-content"}),t.showAnimation?n("div",{staticClass:"map-animation"},[n("span",{staticClass:"animation-button",on:{click:t.playPathAnimation}},[n("span",{staticClass:"el-icon-video-play"}),t._v(" "+t._s(t.$t("lossAnalysis.playTrackAnimation"))+" ")])]):t._e(),t.showLegend?n("div",{staticClass:"map-legend",style:{"grid-template-rows":"repeat("+(t.legendColors.length+1)+", 1fr)"}},[t._l(t.legendColors,(function(e,o){return n("div",{key:e[1],staticClass:"legend-item"},[n("div",{class:["legend-color",t.isArea?"topographic-color":"contour-color"]},[n("div",{staticClass:"color",style:{backgroundColor:e[1]}})]),n("div",{staticClass:"text"},[t._v(t._s((o+1)%~~(t.legendColors.length/5)===0?e[0]:""))])])})),n("div",{staticClass:"legend-title"},[t._v(t._s(t.$t("lossAnalysis.lossValue")))])],2):t._e()])},r=[],i=n("bee2"),a=n("d4ec"),c=n("ade3"),s=n("2909"),u=n("3835"),h=(n("99af"),n("a630"),n("caad"),n("e260"),n("a15b"),n("d81d"),n("fb6a"),n("4e82"),n("a434"),n("e9c4"),n("4ec9"),n("8ba4"),n("9129"),n("b680"),n("dca8"),n("b64b"),n("d3b7"),n("07ac"),n("ac1f"),n("6062"),n("2532"),n("3ca3"),n("5319"),n("1276"),n("159b"),n("ddb0"),n("9944")),l=n("9fac"),p=n("2dd7");function f(t,e,n,o){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return{name:Tt,zlevel:1,type:"custom",silent:!0,z:Mt[Tt],renderItem:function(t,i){return{type:"group",children:e.map((function(t){return{type:"polyline",shape:{points:[i.coord([t[0],t[1]]),i.coord([t[2],t[3]])]},transition:r?["shape"]:[],style:{stroke:o,lineWidth:n}}}))}},clip:!0,data:[t]}}function d(t,e,n,o){return{type:"scatter",zlevel:1,name:At,symbol:"circle",symbolSize:n,markPoint:{data:t},itemStyle:{opacity:1,color:"#FF8C00"},animation:!1,z:Mt[At],showSymbol:!0,data:e,tooltip:{formatter:function(t){var e=Object(u["a"])(t.data,4),n=e[0],r=e[1],i=e[2],a=e[3];return"\n          ".concat(o,": ").concat(a,"<br>\n          x: ").concat(n,"<br>\n          y: ").concat(r,"<br>\n          z: ").concat(i,"<br>\n        ")}}}}function m(t,e,n,o,r){var i=t.intervals,a=t.x,c=t.y,s=t.z,u=[],h=i.length-1,l=[],p=[];return i.forEach((function(t,e){0===e&&l.push({value:xt,xAxis:a[e],yAxis:c[e]}),e===h&&l.push({value:Ot,xAxis:a[e],yAxis:c[e]}),p.push([a[e],c[e],s[e],t]),e<h&&u.push([a[e],c[e],a[e+1],c[e+1]])})),[d(l,p,3*n,r),f(e,u,n,o)]}function v(t,e,n){return 0===e?"right":e===n?"left":0===t?"bottom":"top"}function b(t,e){var n=[],o=t.length-1;return t.forEach((function(t,e){n.push.apply(n,Object(s["a"])(t.map((function(t,n){return{name:"point,".concat(e,",").concat(n),value:[t.x,t.y,t.z],position:v(e,n,o)}}))))})),{name:St,type:"scatter",symbol:"rect",z:Mt[St],symbolSize:function(t,n){if(!e)return 50;var r=e._model.option.grid[0],i=r.top,a=r.left,c=r.bottom,s=r.right,u=(e.getWidth()-+a-+s)/o,h=(e.getHeight()-+i-+c)/o;return[u,h]},data:n,itemStyle:{opacity:0},animation:!1,tooltip:{formatter:function(){return""}}}}function g(t,e){return{name:jt,type:"scatter",symbol:"circle",symbolSize:10,z:Mt[jt],data:[t],itemStyle:{color:e},tooltip:{padding:[2,8],textStyle:{fontSize:8},formatter:function(t){var e=Object(u["a"])(t.data,2),n=e[0],o=e[1];return"\n        ".concat(zt,"<br>\n        x: ").concat(n,"<br>\n        y: ").concat(o,"<br>\n        ")}}}}function y(t){var e=[];return t.forEach((function(t){t.forEach((function(t){e.push([t.x,t.y,t.z])}))})),{name:"pointsTooltip",type:"scatter",z:Mt[St],zlevel:1,data:e,symbol:"circle",symbolSize:0,silent:!0,tooltip:{padding:[2,8],textStyle:{fontSize:8},formatter:function(t){var e=Object(u["a"])(t.data,3),n=e[0],o=e[1],r=e[2];return"\n        x: ".concat(n,"<br>\n        y: ").concat(o,"<br>\n        z: ").concat(r,"<br>\n        ")}}}}function x(t,e,n){return{type:n?"polygon":"polyline",shape:{points:t,smooth:.1},style:{fill:"none",stroke:e,lineWidth:1.2}}}function O(t,e,n){return{type:"polygon",z2:t,shape:{points:e,smooth:.2},style:{fill:n,stroke:"#666",lineWidth:1}}}var z="|";function w(t,e,n,o){var r=_(t,e),i=[];e.forEach((function(e){var o=j(e,t,r);i.push({z:o.z,index:-1,points:o.points,color:n.get(o.z)})}));var a=["top","bottom","left","right"].map((function(t){return $(t)}));return a.forEach((function(e){r[e].size&&r[e].forEach((function(a){if(r[e].has(a)){var c=a.split(z),s=Object(u["a"])(c,2),h=s[0],l=s[1],p=C(e),f=r[p].has(+h)?+h:+l;if(r[p].get(f)){var d,m=j(r[p].get(f),t,r,!0),v=o.indexOf(m.z),b=null!==(d=o[v+1])&&void 0!==d?d:1/0;i.push({z:b,index:-1,points:m.points,color:n.get(b)})}}}))})),i}function C(t){return t.replace("Section","")}function I(t,e){return t>e?"".concat(e).concat(z).concat(t):"".concat(t).concat(z).concat(e)}function j(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=t.z,i=t.borders,a=t.config,c=JSON.parse(JSON.stringify(t.points)),s=Object(u["a"])(i,2),h=s[0],l=s[1],p=W(h,c[0]),f=W(l,c[c.length-1]),d=o?!a.clockwise[1]:a.clockwise[1];A(c);var m=k(f,l,d,n,e),v=Object(u["a"])(m,2),b=v[0],g=v[1];if(h===b&&p===g){if(h===l)n[$(h)].delete(I(p,f));else{var y=M(l,h,e,d),x=y[0],O=W(h,x);n[$(h)].delete(I(p,O));var z=y[y.length-1],w=W(l,z);n[$(l)].delete(I(f,w)),c=c.concat(T(y))}return{points:c,z:r}}while(h!==b||p!==g){if(l!==b){var C=M(l,b,e,d),j=C[0],S=W(l,j);n[$(l)].delete(I(p,S));var N=C[C.length-1],E=W(b,N);n[$(b)].delete(I(g,E)),c=c.concat(T(C))}else n[$(b)].delete(I(f,g));var P=n[b].get(g),L=P.borders,_=JSON.parse(JSON.stringify(P.points));b===L[0]&&g===W(L[0],_[0])?(l=L[1],f=W(l,_[_.length-1])):(l=L[0],f=W(l,_[0]),_.reverse()),A(_),c=c.concat(_);var F=k(f,l,d,n,e),B=Object(u["a"])(F,2);b=B[0],g=B[1]}if(l!==b){var J=M(l,b,e,d),R=J[0],D=W(l,R);n[$(l)].delete(I(p,D));var H=J[J.length-1],q=W(b,H);n[$(b)].delete(I(g,q)),c=c.concat(T(J))}else n[$(b)].delete(I(f,g));return{points:c,z:r}}function A(t){var e=t[0],n=t[1];t.unshift(S(e,n));var o=t[t.length-1],r=t[t.length-2];t.push(S(o,r))}function T(t){return t.map((function(t){return t.map((function(t){return 1.1*t}))}))}function S(t,e){return[t[0]-(e[0]-t[0]),t[1]-(e[1]-t[1])]}function N(t,e){switch(t.join("")){case"middletop":return e?["right","top"]:["left","top"];case"rightmiddle":return e?["right","bottom"]:["right","top"];case"middlebottom":return e?["left","bottom"]:["right","bottom"];case"leftmiddle":return e?["left","top"]:["left","bottom"];case"lefttop":return e?["right","top"]:["left","bottom"];case"righttop":return e?["right","bottom"]:["left","top"];case"rightbottom":return e?["left","bottom"]:["right","top"];case"leftbottom":return e?["left","top"]:["right","bottom"]}}function M(t,e,n,o){var r=["top","bottom"].includes(t)?["middle",t]:[t,"middle"],i=[];do{r=N(r,o),i.push(r)}while(r.every((function(t){return t!==e})));var a=i.map((function(t){var e=Object(u["a"])(t,2),o=e[0],r=e[1];return[n[o],n[r]]}));return a}function k(t,e,n,o){var r=o[L(e)],i=r.indexOf(t),a=["top","left"].includes(e)?i+(n?1:-1):i+(n?-1:1);if(0<=a&&a<r.length)return[e,r[a]];var c,s=E(e,n);while(!o[s].size)s=E(s,n);switch(s){case"top":case"left":c=n?0:o[s].size-1;break;case"bottom":case"right":c=n?o[s].size-1:0;break}return[s,o[L(s)][c]]}function E(t,e){switch(t){case"top":return e?"right":"left";case"bottom":return e?"left":"right";case"left":return e?"top":"bottom";case"right":return e?"bottom":"top"}}function P(t){return t.replace("Order","")}function L(t){return"".concat(t,"Order")}function $(t){return"".concat(t,"Section")}function _(t,e){var n,o=["top","bottom","left","right"].map((function(t){return L(t)})),r=["top","bottom","left","right"].map((function(t){return $(t)})),i=(n={top:new Map},Object(c["a"])(Object(c["a"])(Object(c["a"])(Object(c["a"])(Object(c["a"])(Object(c["a"])(Object(c["a"])(Object(c["a"])(Object(c["a"])(Object(c["a"])(n,o[0],[]),r[0],new Set),"bottom",new Map),o[1],[]),r[1],new Set),"left",new Map),o[2],[]),r[2],new Set),"right",new Map),o[3],[]),Object(c["a"])(n,r[3],new Set));return e.forEach((function(t){var e=t.borders,n=t.points,o=Object(u["a"])(e,2),r=o[0],a=o[1],c=W(r,n[0]);i[r].set(c,t),i[L(r)].push(c);var s=W(a,n[n.length-1]);i[a].set(s,t),i[L(a)].push(s)})),o.forEach((function(e){var n=P(e),o=i[e].concat(F(n,t));o.sort((function(t,e){return t-e})),o.forEach((function(t,e){o[e+1]&&i[$(n)].add("".concat(t).concat(z).concat(o[e+1]))})),o.pop(),o.shift(),i[e]=o})),i}function F(t,e){switch(t){case"top":case"bottom":return[e.right,e.left];case"left":case"right":return[e.top,e.bottom]}}function W(t,e){return["top","bottom"].includes(t)?e[0]:e[1]}function B(t,e,n,o,r,i){var a=[];if(e.forEach((function(t){t.forEach((function(t){var e={};t.points=t.points.forEach((function(t){e[Object.values(t)]=Object.values(t)})),t.points=Object.values(e)}))})),i){var c=Object(u["a"])(n,2),h=c[0],l=c[1],p=Object(u["a"])(o,2),f=p[0],d=p[1],m={left:h,bottom:l,right:f,top:d},v=[];e.forEach((function(e,n){var o=t.indexOf(n),i=r.get(n);e.forEach((function(e){var c=e.points,s=e.config,u=s.circle;u?s.updateContour?a.push({iscircle:u,z:n,index:o+1,points:c,color:r.get(t[o+1])}):a.push({iscircle:u,z:n,index:o,points:c,color:i}):v.push(e)}))})),v.length&&a.push.apply(a,Object(s["a"])(w(m,v,r,t)))}else e.forEach((function(e,n){var o=t.indexOf(n),i=r.get(n);e.forEach((function(t){var e=t.points,r=t.config,c=r.circle;a.push({iscircle:c,z:n,index:o,points:e,color:i})}))}));return{type:"custom",clip:!0,zlevel:-1,name:"contour",data:[n,o],renderItem:function(t,e){var n=a.map((function(t){var n=t.index,o=t.points,r=t.color,a=t.iscircle;return o=o.map((function(t){return e.coord(t)})),i?O(n,o,r):x(o,r,a)}));return{type:"group",children:n,silent:!0}}}}function J(t,e){var n=Math.pow(10,e);return t<0?(parseInt(t*n)-1)/n:parseInt(t*n)/n}function R(t,e,n){for(var o=e.length/5,r=[],i=0;i<5;i++)r.push.apply(r,Object(s["a"])(Object(h["a"])(t[i],t[i+1],o)));r.push(t.slice(-1)[0]);var a=new Map;return e.forEach((function(t,e){a.set(t,r[e])})),n&&a.set(1/0,t[t.length-1]),{contourColorMap:a,legendColors:Array.from(a).reverse()}}function D(t,e){var n=t[0],o=t[t.length-1],r=(o-n)/(e+1),i=r,a=0;while(r<10)r*=10,a++;i=J(i,a);for(var c=[],s=1;s<=e;s++)c.push(+(n+i*s).toFixed(a));return c}function H(t){var e=t.x,n=t.y,o=t.z,r=[e[0],n[0]],i=[e[e.length-1],n[n.length-1]],a=[],c=[];return o.forEach((function(t,o){c.push([]),t.forEach((function(t,r){a.push(t),c[o].push({x:e[r],y:n[o],z:t})}))})),c.reverse(),a.sort((function(t,e){return t-e})),{pointMatrix:Object.freeze(c),zList:Object.freeze(a),leftBottom:r,rightTop:i}}var q,G,U=[];function V(t,e){G=e;var n=e.length-1,o=new Map;return t.forEach((function(t){q=t,U.splice(0,U.length);var e=[];o.set(t,e);for(var r=[],i=0;i<n;i++){r.push([]);for(var a=0;a<n;a++){var c=K(t,i,a);r[i].push({index:c,direction:Z(c)})}}nt(r,e)})),o}function Z(t){switch(t){case"0000":case"1111":return null;case"0001":case"1110":return"left->bottom";case"0010":case"1101":return"right->bottom";case"0011":case"1100":return"left->right";case"0100":case"1011":return"top->right";case"0111":case"1000":return"top->left";case"0110":case"1001":return"top->bottom";case"01010":case"10101":return["top->right","left->bottom"];case"01011":case"10100":return["top->left","right->bottom"]}}function K(t,e,n){var o=[G[e][n],G[e][n+1],G[e+1][n+1],G[e+1][n]],r=o[0],i=o[1],a=o[2],c=o[3],s="".concat(Q(r.z,t)).concat(Q(i.z,t)).concat(Q(a.z,t)).concat(Q(c.z,t));if(["0101","1010"].includes(s)){var u=(r.z+i.z+a.z+c.z)/4;s+=Q(u,t)}return s}function Q(t,e){return t>e?1:0}var X,Y=function(t,e){return"".concat(t,",").concat(e)},tt=new Set,et=new Set;function nt(t,e){tt.clear(),et.clear(),X=[];for(var n=0;n<t.length;n++)et.add(n);for(var o=0;o<t.length;o++)for(var r=0;r<t.length;r++)if(!tt.has(Y(o,r))){var i=vt(o,r,t);i&&i.config.complete&&e.push(i)}0!=U.length&&U.forEach((function(t){t&&t.config.complete&&e.push(t)}));while(X.length){var a=X.shift(),c=ot(a,X);c&&e.push(c)}}function ot(t,e){for(var n=0;n<e.length;n++){var o=rt(t,e[n]);if(o){e.splice(n,1);var r=new dt(o),i=r.borders,a=r.config;return 2===i.length?(a.clockwise=[pt(r,!0),pt(r,!1)],a.complete=!0,r):ot(o,e)}}}function rt(t,e){var n,o,r,i=t.points,a=e.points,c=i[0],s=i[i.length-1],u=a[0],h=a[a.length-1],l=t.borders,p=e.borders,f=t.indexes,d=e.indexes;if(c.x===u.x&&c.y===u.y&&(a.shift(),d.shift(),n=i.reverse().concat(a),o=l.concat(p),r=f.reverse().concat(d)),c.x===h.x&&c.y===h.y&&(i.shift(),f.shift(),n=a.concat(i),o=p.concat(l),r=d.concat(f)),s.x===u.x&&s.y===u.y&&(a.shift(),d.shift(),n=i.concat(a),o=l.concat(p),r=f.concat(d)),s.x===h.x&&s.y===h.y&&(i.pop(),f.pop(),n=i.concat(a.reverse()),o=l.concat(p),r=f.concat(d.reverse())),n)return{z:q,points:n,borders:o,indexes:r}}function it(t,e,n){var o=[G[t][e],G[t][e+1],G[t+1][e+1],G[t+1][e]],r=o[0],i=o[1],a=o[2],c=o[3];switch(n){case"top":return bt(r,i,q);case"bottom":return bt(c,a,q);case"left":return gt(r,c,q);case"right":return gt(i,a,q)}}function at(t,e,n,o,r){switch(n){case"top":ft(t-1,e,"bottom",o,r);break;case"bottom":ft(t+1,e,"top",o,r);break;case"left":ft(t,e-1,"right",o,r);break;case"right":ft(t,e+1,"left",o,r);break}}function ct(t,e){var n=e.split("->"),o=n.indexOf(t);n.splice(o,1);var r=n[0];return r}function st(t,e,n,o,r){var i=o.direction,a=ct(n,i),c=r.points,s=r.config;s.updateContour=ut(r),s.circle=!0,c.push(it(t,e,a))}function ut(t){var e=t.indexes.join("");return ht(e,"1")<ht(e,"0")}function ht(t,e){for(var n=0,o=0;o<t.length;o++)t[o]===e&&n++;return n}function lt(t,e,n){var o=et.size-1;return 0===t&&"top"===n?"top":t===o&&"bottom"===n?"bottom":0===e&&"left"===n?"left":e===o&&"right"===n?"right":void 0}function pt(t,e){var n=t.indexes,o=t.borders,r=e?o[0]:o[1],i=e?n[0]:n[n.length-1];switch(r){case"top":return["1000","1011","10100","1001","10101"].includes(i);case"bottom":return["0010","1110","0110","10100","10101"].includes(i);case"left":return["0001","0111","0011","01010","01011"].includes(i);case"right":return["0100","1110","01010","1100","01011"].includes(i)}}function ft(t,e,n,o,r){var i=r.indexes,a=r.points,c=r.borders,s=r.config;if(et.has(t)&&et.has(e)){var u=Y(t,e);if(tt.has(u))c.length?X.push(r):(st(t,e,n,o[t][e],r),s.complete=!0);else{var h=o[t][e].direction;if(Array.isArray(h)){for(var l=0;l<h.length;l++)if(h[l].includes(n)){o[t][e].direction=h[0===l?1:0],h=h[l];break}}else tt.add(u);i.push(o[t][e].index);var p=ct(n,h),f=it(t,e,p);a.push(f);var d=lt(t,e,p);d&&c.push(d),at(t,e,p,o,r)}}else 2===c.length?(s.clockwise=[pt(r,!0),pt(r,!1)],s.complete=!0):X.push(r)}var dt=Object(i["a"])((function t(e){var n=e.z,o=e.indexes,r=e.points,i=e.borders;Object(a["a"])(this,t),Object(c["a"])(this,"z",void 0),Object(c["a"])(this,"indexes",void 0),Object(c["a"])(this,"points",void 0),Object(c["a"])(this,"borders",void 0),Object(c["a"])(this,"config",{complete:null,circle:null,updateContour:null,clockwise:null}),this.z=n,this.indexes=null!==o&&void 0!==o?o:[],this.points=null!==r&&void 0!==r?r:[],this.borders=null!==i&&void 0!==i?i:[]}));function mt(t,e,n,o){if(et.has(t)&&et.has(e)){var r=new dt({z:q}),i=n.split("->"),a=Object(u["a"])(i,2),c=a[0],s=a[1],h=r.indexes,l=r.points,p=r.borders;h.push(o[t][e].index),l.push(it(t,e,c),it(t,e,s));var f=lt(t,e,c),d=lt(t,e,s);return f&&p.push(f),d&&p.push(d),at(t,e,s,o,r),r}}function vt(t,e,n){var o=Y(t,e),r=n[t][e].direction;if(r)return Array.isArray(r)?(U.push(mt(t,e,r[1],n)),r=r[0]):tt.add(o),mt(t,e,r,n)}function bt(t,e,n){var o=t.z>e.z?[e.z,t.z,e.x,t.x]:[t.z,e.z,t.x,e.x],r=Object(u["a"])(o,4),i=r[0],a=r[1],c=r[2],s=r[3],h=n-i,l=a-n,p=h+l,f=s-c;return{x:h/p*f+c,y:t.y}}function gt(t,e,n){var o=t.z>e.z?[e.z,t.z,e.y,t.y]:[t.z,e.z,t.y,e.y],r=Object(u["a"])(o,4),i=r[0],a=r[1],c=r[2],s=r[3],h=n-i,l=a-n,p=h+l,f=s-c;return{x:t.x,y:h/p*f+c}}function yt(t){return Number.isInteger(t)?0:(t+"").split(".")[1].length}var xt,Ot,zt,wt=p["a"].convergencePointColor,Ct="contour",It="topographic",jt="convergencePoint",At="pathPoints",Tt="pathLines",St="points",Nt="tooltip",Mt=Object(c["a"])(Object(c["a"])(Object(c["a"])(Object(c["a"])(Object(c["a"])({},jt,999),At,998),Tt,997),St,-1),Nt,9999),kt={name:"ContourMap",props:{showAnimation:Boolean,showConvergencePoint:Boolean,showLegend:Boolean,showFullScreen:Boolean,type:{type:String,required:!0,validator:function(t){return[Ct,It].includes(t)}}},data:function(){return{chartInstance:null,isArea:null,legendColors:[],setting:{},CONTOUR:Ct,TOPOGRAPHIC:It,legend:{},series:[],playNextAnimation:null,animationTimer:null}},beforeCreate:function(){xt=this.$t("components.startText"),Ot=this.$t("components.endText"),zt=this.$t("lossCompare.conpoint")},created:function(){this.isArea=this.type===It},methods:{showTooltip:function(t){var e=this;this.tooltipTimer&&clearTimeout(this.tooltipTimer),this.tooltipTimer=setTimeout((function(){if(t.seriesName===St){var n=t.seriesIndex,o=t.dataIndex,r=t.data.position;e.chartInstance.dispatchAction({type:"showTip",seriesIndex:n+1,dataIndex:o,position:r}),e.tooltipTimer=null}}),500)},hideTooltip:function(){this.tooltipTimer&&(clearTimeout(this.tooltipTimer),this.tooltipTimer=null),this.chartInstance.dispatchAction({type:"hideTip"})},stopPathAnimation:function(t){if(this.playNextAnimation&&(this.chartInstance&&this.chartInstance.off("finished"),this.playNextAnimation=null,this.animationTimer&&clearTimeout(this.animationTimer),t)){var e=this.path,n=this.rightTop,o=this.setting,r=o.pathWidth,i=o.pathColor,a=(e.intervals,e.x),c=e.y,s=[];a.forEach((function(t,e){e<a.length-1&&(s[e]=[a[e],c[e],a[e+1],c[e+1]])})),this.chartInstance.setOption({series:[f(n,s,r,i,!0)]})}},playPathAnimation:function(){var t=this,e=this.path,n=this.rightTop,o=this.setting,r=o.pathWidth,i=o.pathColor,a=e.intervals,c=e.x,s=e.y,u=[];c.forEach((function(t,e){e<c.length-1&&u.push([c[e],s[e],c[e],s[e]])}));var h=0;this.playNextAnimation=function(){t.animationTimer=setTimeout((function(){if(t.chartInstance){if(h===a.length-1)return t.chartInstance.setOption({series:[f(n,u,r,i,!1)]}),void t.chartInstance.off("finished");u[h]=[c[h],s[h],c[h+1],s[h+1]],h++,t.chartInstance.setOption({series:[f(n,u,r,i,!0)]})}}),100)},this.chartInstance&&(this.chartInstance.on("finished",this.playNextAnimation),this.chartInstance.setOption({series:[f(n,u,r,i)]}))},handlePathStyleChange:function(t){this.stopPathAnimation(!0);var e=this.setting,n=this.rightTop,o=this.path;e.pathWidth=t.pathWidth,e.pathColor=t.pathColor;var r=e.pathWidth,i=e.pathColor,a=e.unit;(this.chartInstance||this.initContourMap())&&this.chartInstance.setOption({series:Object(s["a"])(m(o,n,r,i,a))})},handleContoursNumberChange:function(t){this.stopPathAnimation(!0);var e=this.pointMatrix,n=this.setting,o=this.zList,r=this.leftBottom,i=this.rightTop,a=this.isArea,c=this.type;n.contoursNumber=t.contoursNumber;var s=n.contourColors,u=n.contoursNumber,h=D(o,u);this.contours=h;var l=R(s,h,c===It),p=l.contourColorMap,f=l.legendColors;this.legendColors=f;var d=V(h,e);this.contourPointMap=d,(this.chartInstance||this.initContourMap())&&(this.chartInstance.setOption({series:[B(h,d,r,i,p,a)]}),this.option=this.chartInstance.getOption())},handleContourColorsChange:function(t){this.stopPathAnimation(!0);var e=this.contours,n=this.contourPointMap,o=this.leftBottom,r=this.rightTop,i=this.isArea,a=this.setting,c=this.type;a.contourColors=t.contourColors;var s=a.contourColors,u=R(s,e,c===It),h=u.contourColorMap,l=u.legendColors;this.legendColors=l,(this.chartInstance||this.initContourMap())&&(this.chartInstance.setOption({series:[B(e,n,o,r,h,i)]}),this.option=this.chartInstance.getOption())},handleDataChange:function(t,e){this.stopPathAnimation();var n=t.path,o=t.points,r=t.convergence_point,i=e.contourColors,a=e.contoursNumber,c=e.pathWidth,u=e.pathColor,h=e.unit,l=this.isArea,p=this.chartInstance,f=this.showConvergencePoint,d=this.type;this.path=n,this.setting=e;var v=H(o),x=v.pointMatrix,O=v.zList,z=v.leftBottom,w=v.rightTop;this.pointMatrix=x,this.zList=O,this.leftBottom=z,this.rightTop=w;var C=D(O,a);this.contours=C;var I=R(i,C,d===It),j=I.contourColorMap,A=I.legendColors;this.legendColors=A;var T=V(C,x);if(this.contourPointMap=T,p)p.clear(),this.initContourMap();else if(!this.initContourMap())return;var S={data:[]},N=[];n&&(S.data=n.intervals,N.push.apply(N,Object(s["a"])(m(n,w,c,u,h)))),N.push(b(x,this.chartInstance)),N.push(y(x)),f&&r&&N.push(g(r,wt[this.$store.state.themeIndex])),N.push(B(C,T,z,w,j,l)),this.chartInstance.setOption({legend:S,series:N}),this.option=this.chartInstance.getOption(),this.chartInstance.on("mousemove",this.showTooltip),this.chartInstance.on("mouseout",this.hideTooltip)},initContourMap:function(){var t=this;if(!this.chartInstance){if(!this.$refs.contour)return!1;this.chartInstance=l["a"].init(this.$refs.contour,l["b"])}var e=function(t){var e=t.min;if("number"===typeof e&&!Number.isNaN(e)){var n=yt(e);return e=0==n?e:J(e,n-1),Math.abs(e)>1?e.toFixed(5):e.toPrecision(2)}},n=function(t){var e=t.max;if("number"===typeof e&&!Number.isNaN(e)){var n=yt(e);return e=0==n?e:J(e,n-1),Math.abs(e)>1?e.toFixed(5):e.toPrecision(2)}};return this.chartInstance.setOption({legend:{show:!1},tooltip:{trigger:"item",axisPointer:{type:"cross"},alwaysShowContent:!0},toolbox:{feature:{saveAsImage:{},dataZoom:{filterMode:"none"},myRestore:{show:!0,title:this.$t("lossAnalysis.restore"),icon:p["a"].restoreIcon[this.$store.state.themeIndex],onclick:function(){var e=t.option;t.chartInstance.clear(),t.initContourMap(),t.chartInstance.setOption(e),t.chartInstance.on("mousemove",t.showTooltip),t.chartInstance.on("mouseout",t.hideTooltip)}},myFullScreen:this.showFullScreen?{show:!0,title:this.$t("scalar.fullScreen"),icon:p["a"].fullScreenIcon[this.$store.state.themeIndex],onclick:function(){t.$emit("fullScreen")}}:{}},right:10},grid:{left:60,right:this.showLegend?120:10,top:30,bottom:20},xAxis:{type:"value",splitLine:{show:!1},axisLine:{show:!1},axisTick:{show:!1},min:function(t){return e(t)},max:function(t){return n(t)}},yAxis:{type:"value",axisLine:{show:!1},splitLine:{show:!1},axisTick:{show:!1},min:function(t){return e(t)},max:function(t){return n(t)}}}),!0},resize:function(){this.chartInstance&&this.chartInstance.resize()},beforeDestroy:function(){this.tooltipTimer&&clearTimeout(this.tooltipTimer),this.chartInstance&&(this.chartInstance.off("mousemove"),this.chartInstance.off("mouseout"))}}},Et=kt,Pt=(n("2e74"),n("2877")),Lt=Object(Pt["a"])(Et,o,r,!1,null,null,null);e["a"]=Lt.exports},"2e74":function(t,e,n){"use strict";n("56da")},"4ec9":function(t,e,n){"use strict";var o=n("6d61"),r=n("6566");t.exports=o("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r)},"56da":function(t,e,n){},"5e89":function(t,e,n){var o=n("861d"),r=Math.floor;t.exports=function(t){return!o(t)&&isFinite(t)&&r(t)===t}},"8ba4":function(t,e,n){var o=n("23e7"),r=n("5e89");o({target:"Number",stat:!0},{isInteger:r})},9129:function(t,e,n){var o=n("23e7");o({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},9944:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return c}));var o=n("3835");n("99af"),n("caad"),n("8ba4"),n("b680"),n("d3b7"),n("ac1f"),n("25f0"),n("2532"),n("466d");function r(t,e,n){t.toLowerCase().includes("rgb")||(t=i(t)),e.toLowerCase().includes("rgb")||(e=i(e));for(var r=t.match(/[0-9]\d*/g),a=Object(o["a"])(r,3),c=a[0],s=a[1],u=a[2],h=e.match(/[0-9]\d*/g),l=Object(o["a"])(h,3),p=l[0],f=l[1],d=l[2],m=(+p-+c)/n,v=(+f-+s)/n,b=(+d-+u)/n,g=[t],y=1;y<n;y++){var x=parseInt(m*y+ +c),O=parseInt(v*y+ +s),z=parseInt(b*y+ +u);g.push("rgb(".concat(x,",").concat(O,",").concat(z,")"))}return g}function i(t){var e=16;return 4===t.length?"rgb(".concat(parseInt(t[1]+t[1],e),", ").concat(parseInt(t[2]+t[2],e),", ").concat(parseInt(t[3]+t[3],e),")"):"rgb(".concat(parseInt(t[1]+t[2],e),", ").concat(parseInt(t[3]+t[4],e),", ").concat(parseInt(t[5]+t[6],e),")")}function a(t,e){if("number"!==typeof t&&(t=parseFloat(t)),isNaN(t))return"NaN";var n=t+"",o=n.indexOf(".");return o<0||n.length-o-1<=e?n:t.toFixed(e)}function c(t){if(Number.isInteger(t))return!0;if("string"!==typeof t)return!1;var e=+t;return e+""===t&&Number.isInteger(e)}},bee2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var o=n("a38e");function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Object(o["a"])(r.key),r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}},d4ec:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return o}))},d81d:function(t,e,n){"use strict";var o=n("23e7"),r=n("b727").map,i=n("1dde"),a=n("ae40"),c=i("map"),s=a("map");o({target:"Array",proto:!0,forced:!c||!s},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},dca8:function(t,e,n){var o=n("23e7"),r=n("bb2f"),i=n("d039"),a=n("861d"),c=n("f183").onFreeze,s=Object.freeze,u=i((function(){s(1)}));o({target:"Object",stat:!0,forced:u,sham:!r},{freeze:function(t){return s&&a(t)?s(c(t)):t}})},fb6a:function(t,e,n){"use strict";var o=n("23e7"),r=n("861d"),i=n("e8b5"),a=n("23cb"),c=n("50c4"),s=n("fc6a"),u=n("8418"),h=n("b622"),l=n("1dde"),p=n("ae40"),f=l("slice"),d=p("slice",{ACCESSORS:!0,0:0,1:2}),m=h("species"),v=[].slice,b=Math.max;o({target:"Array",proto:!0,forced:!f||!d},{slice:function(t,e){var n,o,h,l=s(this),p=c(l.length),f=a(t,p),d=a(void 0===e?p:e,p);if(i(l)&&(n=l.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?r(n)&&(n=n[m],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return v.call(l,f,d);for(o=new(void 0===n?Array:n)(b(d-f,0)),h=0;f<d;f++,h++)f in l&&u(o,h,l[f]);return o.length=h,o}})}}]);