(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-343a6574"],{1148:function(t,e,i){"use strict";var a=i("a691"),r=i("1d80");t.exports="".repeat||function(t){var e=String(r(this)),i="",s=a(t);if(s<0||s==1/0)throw RangeError("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(e+=e))1&s&&(i+=e);return i}},"408a":function(t,e,i){var a=i("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=a(t))throw TypeError("Incorrect invocation");return+t}},"4d06":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAptJREFUOBGllEFoE0EUhudtbRUvRuhFcognz4V6sSCSg7Ee2kNpoyhYAt1GULEr3YhWsL0oZrWJoOBmK7GCoov2oAWpRSJ4UZDi2ZM9BC8FgweRtmZ8f9wZpprSgAObee+f/32Z2Zkdyhf9IZLithDidWes43Qmk/nJccutXC7vWKmt3uOClCRx3hKSbCnFHn6GV2prc2EYdrRKgxc1qAUDLItnN0PEv9yklEeXq9+e+b7fvhUUHnhRAy8YYFnuhdFQCjqnAPxPfd9/iCeVSmWb0v7uMQYPvGoMDLBICV4hGJOyXlA5/2OYiMdOpNPpX0pDz8tsW67WHvPM0konshzXsYvILSU2BBIXVY6CL9XaLPfagzjSNExwjYJtACLJOdk8kbiioPxST94qBvcZRHgQQ1Pj8KJG5ej1kk3RK/iT/H6uao3ETCOWYkRpDJtyneykylXfFIhBr1C6xrO6pIxmz+/3uuuMXjY1FW8KhIGhHkPHlRk9w24yzDU1M9Yv3BT/J27brDhast51w9eT6u3fvrjw8o2h6bApMD9dmuLvRu82CQr4WeKq7qjy4OEj/RZD32pSFPwD5B2e4DEG/mkW0YNxx7Z7DnTPv/+wlOBvtCsaOpTq7VtfXJh/p7zoN2xKvuDnhBQ3tIHokTtmn+KNqEPjDbK8YvDQPIs42OZZ1JuCT8+E4dPbG48NKxiAiCMtRN5oPIFGbZQ2ZpgvBGeErN+JNC4Uc/u79h1LJpPrSjN7XA4fP31+yod/QOtknc059l3ypktpnjbfHHw9ohG92LVTDmaz2TVtbhLg+uIb57m6cXj2kld43GLMiIKx+IqXNLQVDHx4EvHdg6hBDgZYliAZ8BK/8jPbGWsf4OtqFYZWGryoQS0YYP0GSgsoUPv9lyUAAAAASUVORK5CYII="},"4de4":function(t,e,i){"use strict";var a=i("23e7"),r=i("b727").filter,s=i("1dde"),n=i("ae40"),o=s("filter"),l=n("filter");a({target:"Array",proto:!0,forced:!o||!l},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},"4e82":function(t,e,i){"use strict";var a=i("23e7"),r=i("1c0b"),s=i("7b0b"),n=i("d039"),o=i("a640"),l=[],c=l.sort,h=n((function(){l.sort(void 0)})),u=n((function(){l.sort(null)})),m=o("sort"),d=h||!u||!m;a({target:"Array",proto:!0,forced:d},{sort:function(t){return void 0===t?c.call(s(this)):c.call(s(this),r(t))}})},"6a94":function(t,e,i){"use strict";i("ddf5")},7333:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cl-histogram-manage"},[a("div",{staticClass:"histogram-bk"},[a("div",{staticClass:"cl-title cl-histogram-title"},[a("div",{staticClass:"cl-title-left"},[t._v(t._s(t.$t("histogram.titleText"))+" "),a("div",{staticClass:"path-message"},[a("span",[t._v(t._s(t.$t("symbols.leftbracket")))]),a("span",[t._v(t._s(t.$t("trainingDashboard.summaryDirPath")))]),a("span",[t._v(t._s(t.summaryPath))]),a("span",[t._v(t._s(t.$t("symbols.rightbracket")))])])]),a("div",{staticClass:"cl-title-right"},[a("div",{staticClass:"cl-close-btn",on:{click:t.jumpToTrainDashboard}},[a("img",{attrs:{src:i("4d06")}})])])]),a("div",{staticClass:"cl-histogram-operate-content"},[a("multiselectGroupComponents",{ref:"multiselectGroupComponents",attrs:{checkListArr:t.tagList},on:{selectedChange:t.tagSelectedChanged}})],1),a("div",{staticClass:"cl-histogram-view-type-select-content"},[a("div",{staticClass:"view-title"},[t._v(t._s(t.$t("histogram.viewType")))]),a("el-radio-group",{attrs:{fill:"#00A5A7","text-color":"#FFFFFF",size:"small"},on:{change:t.viewTypeChange},model:{value:t.curViewName,callback:function(e){t.curViewName=e},expression:"curViewName"}},[a("el-radio-button",{attrs:{label:0}},[t._v(t._s(t.$t("histogram.overlay")))]),a("el-radio-button",{attrs:{label:1}},[t._v(t._s(t.$t("histogram.offset")))])],1),t.curViewName?a("div",{staticClass:"view-title"},[t._v(t._s(t.$t("histogram.xAxisTitle")))]):t._e(),t.curViewName?a("el-radio-group",{attrs:{fill:"#00A5A7","text-color":"#FFFFFF",size:"small",disabled:0===t.curViewName},on:{change:t.timeTypeChange},model:{value:t.curAxisName,callback:function(e){t.curAxisName=e},expression:"curAxisName"}},[a("el-radio-button",{attrs:{label:0}},[t._v(" "+t._s(t.$t("histogram.step"))+" ")]),a("el-radio-button",{attrs:{label:1}},[t._v(" "+t._s(t.$t("histogram.relativeTime")+t.$t("symbols.leftbracket")+"s"+t.$t("symbols.rightbracket"))+" ")]),a("el-radio-button",{attrs:{label:2}},[t._v(" "+t._s(t.$t("histogram.absoluteTime"))+" ")])],1):t._e()],1),a("div",{staticClass:"cl-histogram-show-data-content"},[t.originDataArr.length?t._e():a("div",{staticClass:"image-noData"},[a("div",[a("img",{attrs:{src:i("9485")}})]),t.initOver?a("div",{staticClass:"noData-text"},[t._v(t._s(t.$t("public.noData")))]):a("div",{staticClass:"noData-text"},[t._v(t._s(t.$t("public.dataLoading")))])]),t.originDataArr.length?a("div",{staticClass:"data-content"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.chartTipFlag,expression:"chartTipFlag"}],attrs:{id:"echartTip"}},[a("table",{staticClass:"char-tip-table borderspacing3"},[a("tr",[a("td",[t._v(t._s(t.$t("histogram.centerValue")))]),a("td",[t._v(t._s(t.$t("histogram.step")))]),a("td",[t._v(t._s(t.$t("histogram.relativeTime")))]),a("td",[t._v(t._s(t.$t("histogram.absoluteTime")))])]),a("tr",{attrs:{id:"tipTr"}})])]),t._l(t.originDataArr,(function(e){return a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"sampleItem.show"}],key:e.domId,staticClass:"sample-content",class:e.fullScreen?"char-full-screen":""},[a("div",{staticClass:"chars-container"},[a("div",{staticClass:"char-item-content",attrs:{id:e.domId}}),a("div",{staticClass:"tag-title",attrs:{title:e.tagName}},[t._v(t._s(e.tagName))])])])}))],2):t._e()]),t.originDataArr.length?a("div",{staticClass:"pagination-content"},[a("el-pagination",{attrs:{"current-page":t.pageIndex+1,"page-sizes":t.pageSizes,"page-size":t.pageNum,layout:"total, prev, pager, next, jumper",total:t.curFilterSamples.length},on:{"current-change":t.currentPageChange}})],1):t._e()])])},r=[],s=(i("99af"),i("4de4"),i("fb6a"),i("4e82"),i("a434"),i("e9c4"),i("a9e3"),i("b680"),i("b64b"),i("d3b7"),i("ac1f"),i("00b4"),i("25f0"),i("5319"),i("159b"),i("9fac")),n=i("a95e"),o=i("3778"),l=i("2dd7"),c=i("5698"),h=i("7e02"),u={format:c["format"],precisionRound:c["precisionRound"]},m={mixins:[h["a"]],data:function(){return{tagList:[],trainingJobId:this.$route.query.train_id,summaryPath:this.$route.query.summaryPath,originDataArr:[],initOver:!1,curAxisName:0,curViewName:1,curFullTagDic:{},multiSelectedTagNames:{},curFilterSamples:[],curPageArr:[],pageIndex:0,pageSizes:[6],pageNum:6,zrDrawElement:{hoverDots:[]},chartTipFlag:!1,charResizeTimer:null,changeAxisTimer:null,changeViewTimer:null,themeIndex:this.$store.state.themeIndex}},computed:{},components:{multiselectGroupComponents:n["a"]},watch:{},destroyed:function(){var t=this;window.removeEventListener("resize",this.resizeCallback),this.curPageArr.length&&this.curPageArr.forEach((function(e){t.clearZrData(e)})),this.changeAxisTimer&&(clearTimeout(this.changeAxisTimer),this.changeAxisTimer=null),this.changeViewTimer&&(clearTimeout(this.changeViewTimer),this.changeViewTimer=null)},mounted:function(){this.init(),window.addEventListener("resize",this.resizeCallback,!1)},methods:{resizeCallback:function(){var t=this;this.charResizeTimer&&(clearTimeout(this.charResizeTimer),this.charResizeTimer=null),this.charResizeTimer=setTimeout((function(){t.curPageArr.forEach((function(t){t.charObj&&t.charObj.resize()}))}),500)},init:function(){if(!this.$route.query||!this.$route.query.train_id)return this.$message.error(this.$t("trainingDashboard.invalidId")),void(document.title=this.$t("histogram.titleText")+"-MindInsight");document.title=this.$route.query.train_id+"-"+this.$t("histogram.titleText")+"-MindInsight",this.getOriginData(),this.isTimeReload&&this.autoUpdateSamples()},jumpToTrainDashboard:function(){this.$router.push({path:"/train-manage/training-dashboard",query:{id:this.trainingJobId}})},getOriginData:function(){var t=this,e={plugin_name:"histogram",train_id:this.trainingJobId};o["a"].getSingleTrainJob(e).then((function(e){if(e&&e.data&&e.data.train_jobs&&e.data.train_jobs.length){var i=e.data.train_jobs[0];if(i.tags){var a=[],r=[];i.tags.forEach((function(e){t.curFullTagDic[e]||(t.curFullTagDic[e]=!0,a.push({label:e,checked:!0,show:!0}),r.push({tagName:e,zr:null,show:!1,fullScreen:!1,domId:"".concat(e),oriData:{},charOption:{},chartData:[],charObj:null}))})),t.tagList=a,t.originDataArr=r,t.$nextTick((function(){t.multiSelectedTagNames=t.$refs.multiselectGroupComponents.updateSelectedDic(),t.initOver=!0,t.updateTagInPage()}))}}else t.initOver=!0}),this.requestErrorCallback).catch((function(e){t.initOver=!0,t.$message.error(t.$t("public.dataError"))}))},tagSelectedChanged:function(t){t&&(this.multiSelectedTagNames=t,this.pageIndex=0,this.updateTagInPage())},currentPageChange:function(t){this.pageIndex=t-1,this.getCurPageDataArr()},getCurPageDataArr:function(t){var e=this;t||this.curPageArr.forEach((function(t){t.show=!1,e.clearZrData(t)}));for(var i=this.pageIndex*this.pageNum,a=i+this.pageNum,r=[],s=i;s<a;s++){var n=this.curFilterSamples[s];n&&(n.show=!0,r.push(n))}this.curPageArr=r,this.freshCurPageData()},freshCurPageData:function(){var t=this;this.curPageArr.forEach((function(e,i){if(e&&e.tagName){var a={train_id:t.trainingJobId,tag:e.tagName};o["a"].getHistogramData(a).then((function(i){if(i&&i.data){var a=JSON.parse(JSON.stringify(i.data));e.chartData=t.formOriData(a),t.formatDataToChar(e),t.updateSampleData(e),t.sampleEventBind(e)}}))}}))},timeTypeChange:function(t){var e=this;this.changeAxisTimer&&(clearTimeout(this.changeAxisTimer),this.changeAxisTimer=null),this.changeAxisTimer=setTimeout((function(){e.curPageArr.forEach((function(t){e.updateSampleData(t)}))}),500)},viewTypeChange:function(t){var e=this;this.changeViewTimer&&(clearTimeout(this.changeViewTimer),this.changeViewTimer=null),this.changeViewTimer=setTimeout((function(){e.curPageArr.forEach((function(t){e.formatDataToChar(t),e.updateSampleData(t)}))}),200)},updateTagInPage:function(t){var e=this,i=[];this.originDataArr.forEach((function(t){e.multiSelectedTagNames[t.tagName]&&i.push(t)})),this.curFilterSamples=i,this.getCurPageDataArr(t)},clearAllData:function(){var t=this;this.originDataArr.forEach((function(e){t.clearZrData(e)})),this.tagList=[],this.originDataArr=[],this.curFullTagDic={},this.multiSelectedTagNames={},this.curFilterSamples=[],this.pageIndex=0,this.curPageArr=[],this.$nextTick((function(){t.$refs.multiselectGroupComponents.updateSelectedDic()}))},requestErrorCallback:function(t){this.initOver||(this.initOver=!0),this.isReloading&&(this.$store.commit("setIsReload",!1),this.isReloading=!1),t.response&&t.response.data?this.clearAllData():"ECONNABORTED"===t.code&&/^timeout/.test(t.message)||this.clearAllData()},updateAllData:function(t){var e=this,i={plugin_name:"histogram",train_id:this.trainingJobId};o["a"].getSingleTrainJob(i,t).then((function(t){if(e.isReloading&&(e.$store.commit("setIsReload",!1),e.isReloading=!1),t&&t.data&&t.data.train_jobs&&t.data.train_jobs.length&&t.data.train_jobs[0].tags){var i=t.data.train_jobs[0],a=e.removeNoneExistentData(i),r=e.checkNewDataAndComplete(i);e.$nextTick((function(){e.multiSelectedTagNames=e.$refs.multiselectGroupComponents.updateSelectedDic(),e.updateTagInPage(!r&&!a)}))}else e.clearAllData()}),this.requestErrorCallback).catch((function(t){e.$message.error(e.$t("public.dataError"))}))},removeNoneExistentData:function(t){if(!t||!t.tags)return!1;var e={},i=!1;t.tags.forEach((function(t){e[t]=!0}));for(var a=this.tagList.length,r=a-1;r>=0;r--)e[this.tagList[r].label]||(i=!0,delete this.curFullTagDic[this.tagList[r].label],this.tagList.splice(r,1));for(var s=this.originDataArr.length,n=s-1;n>=0;n--)e[this.originDataArr[n].tagName]||(i=!0,this.clearZrData(this.originDataArr[n]),this.originDataArr[n].charObj.clear(),this.originDataArr.splice(n,1));return this.originDataArr.forEach((function(t,e){t.sampleIndex=e})),i},checkNewDataAndComplete:function(t){var e=this;if(!t||!t.tags)return!1;var i=!1;return t.tags.forEach((function(t){e.curFullTagDic[t]||(e.tagList.push({label:t,checked:!0,show:!1}),e.originDataArr.push({tagName:t,zr:null,show:!1,fullScreen:!1,domId:"".concat(t),oriData:{},charOption:{},chartData:[],charObj:null}),e.curFullTagDic[t]=!0,i=!0)})),i},updateSampleData:function(t){t.charOption=this.formatCharOption(t),t.charObj||(t.charObj=s["a"].init(document.getElementById(t.domId),s["b"])),this.removeTooltip(t),t.charObj.setOption(t.charOption,!0)},sampleEventBind:function(t){var e=this;t.zr||(t.zr=t.charObj.getZr(),t.zr.off("mouseout","mousemove"),t.zr.on("mouseout",(function(i){e.removeTooltip(t),e.chartTipFlag=!1})),t.zr.on("mousemove",(function(i){e.removeTooltip(t),e.mousemoveEvent(t,i)})))},mousemoveEvent:function(t,e){var i=this,a=l["a"].commonChartTheme[this.themeIndex],r="s",n=this.findNearestValue(t,[e.offsetX,e.offsetY]);if(n&&null!==n.yIndex&&null!==n.binIndex){var o,c=n.binIndex,h=n.yIndex,m=t.chartData,d=m[h],g=Math.max(0,u.precisionRound(.01,1.01)-1),p=u.format(".".concat(g,"e")),f=t.charObj.getModel().getComponent("grid",0).coordinateSystem.getRect(),v=f.y-10,b=[];if(!d||!d.items[c])return;this.chartTipFlag||(this.chartTipFlag=!0),1===this.curViewName&&null!==h?b=this.makePolyPoints(h,this.getCoord,v,t):0===this.curViewName&&d.items&&d.items.forEach((function(e){b.push(i.getCoord([e[2],e[3]],t))})),this.zrDrawElement.hoverLine=new s["a"].graphic.Polyline({silent:!0,shape:{points:b.slice(1,-1)},z:999}),t.zr.add(this.zrDrawElement.hoverLine),this.zrDrawElement.tooltip=new s["a"].graphic.Text({});var w=d.items[c][2],x=0;m.forEach((function(e,a){var r=e.step,n=i.getCoord([w,r],t);if(a===h)x=d.items[c][3];else for(var l=e.items,u=1;u<l.length-1;u++){var m=l[u+1][2],g=l[u+1][3];if(l[u][2]===w){x=l[u][3];break}if(l[u][2]<w&&m>w){var p=(w-l[u][2])/(m-l[u][2]);x=(g-l[u][3])*p+l[u][3];break}}o=n[0];var f={z:1e3};1===i.curViewName?(n[1]-=(x-t.oriData.minZ)/(t.oriData.maxZ-t.oriData.minZ)*v,f.shape={cx:o,cy:n[1],r:1.5}):(f.shape={cx:0,cy:0,r:1.5},f.position=t.charObj.convertToPixel("grid",[w,x]));var b=new s["a"].graphic.Circle(f);t.zr.add(b),i.zrDrawElement.hoverDots.push(b)})),this.zrDrawElement.tooltip=new s["a"].graphic.Text({});var T="",S=d.items[c][3];T="<td>".concat(S.toString().length>=6?p(S):S,'</td><td style="text-align:center;">').concat(this.formatNumber(d.step),"</td><td>").concat(this.formatNumber(d.relative_time.toFixed(0))).concat(r,"</td><td>").concat(this.dealrelativeTime(new Date(1e3*d.wall_time).toString()),"</td>");var C=document.querySelector("#tipTr");if(C.innerHTML=T,t.fullScreen){var D=document.querySelector("#echartTip").clientWidth,N=document.querySelector("#echartTip").clientHeight,A=document.body.scrollWidth,I=document.body.scrollHeight,y=document.querySelector(".cl-histogram-show-data-content").scrollTop,k=document.querySelector(".cl-histogram-show-data-content").offsetTop;N+e.event.y+20>I&&I>N?document.querySelector("#echartTip").style.top="".concat(e.event.y+y-N-20-k,"px"):document.querySelector("#echartTip").style.top="".concat(e.event.y+y+20-k,"px"),D+e.event.x+80>A&&A>D?document.querySelector("#echartTip").style.left="".concat(e.event.x-D-20,"px"):document.querySelector("#echartTip").style.left="".concat(e.event.x+20,"px")}else{var E=document.getElementById(t.domId).parentNode.parentNode.clientWidth,_=document.getElementById(t.domId).parentNode.parentNode.clientHeight,F=document.getElementById(t.domId).parentNode.parentNode.offsetLeft,z=document.getElementById(t.domId).parentNode.parentNode.offsetTop,L=document.querySelector("#echartTip");L.style.top="".concat(z+_-60,"px"),F>L.clientWidth?L.style.left="".concat(F-L.clientWidth,"px"):L.style.left="".concat(F+E,"px")}if(this.zrDrawElement.tooltipX=new s["a"].graphic.Text({x:o,y:f.y+f.height,style:{text:w.toString().length>=6?w.toExponential(3):Math.round(1e3*w)/1e3,fill:a.tipFontColor,fontSize:12},z:2e3}),t.zr.add(this.zrDrawElement.tooltipX),1===this.curViewName&&b&&b.length){var $="";null!==h&&($=this.yAxisFormatter(t,d.step)),this.zrDrawElement.tooltipY=new s["a"].graphic.Text({x:f.x+f.width,y:b[b.length-1][1],style:{text:$,fill:a.tipFontColor,fontSize:12},z:2e3}),t.zr.add(this.zrDrawElement.tooltipY)}}},getCoord:function(t,e){return e.charObj.convertToPixel("grid",t)},findNearestValue:function(t,e){var i=this;if(e&&e.length&&t&&t.charObj&&t.oriData){var a=t.charObj.convertFromPixel("grid",e);if(a&&a.length){var r=null,s=null,n=1/0,o=-1/0,l=1/0,c=t.charObj.getModel().getComponent("grid",0).coordinateSystem.getRect(),h=c.y-10,u=a[0];if(t.chartData.forEach((function(r,n){for(var c,m,d=0;d<r.items.length-1;d++){var g=r.items[d],p=r.items[d+1],f=p[2],v=p[3];if(g.length>=4&&g[2]<u&&f>=u){var b=(u-g[2])/(f-g[2]);m=(v-g[3])*b+g[3],c=Math.abs(a[1]-m);break}}if(0===i.curViewName&&c<l)l=c,s=n;else if(1===i.curViewName){var w=i.getCoord([u,r.step],t),x=w[1];w[1]-=(m-t.oriData.minZ)/(t.oriData.maxZ-t.oriData.minZ)*h,e[1]>w[1]&&e[1]<x&&x>o&&(o=x,s=n)}})),null===s&&1===this.curViewName&&t.chartData.forEach((function(t,e){e>=a[1]&&(s=null===s?e:Math.min(s,e))})),null!==s){var m=t.chartData[s].items;m.forEach((function(t,e){var i=Math.abs(t[2]-a[0]);i<n&&(n=i,r=e)})),r=0===r?1:r===m.length-1?m.length-2:r}return{binIndex:r,yIndex:s}}}},dealrelativeTime:function(t){var e=t.split(" "),i=e[0]+" "+e[1]+" "+e[2]+", "+e[4];return i},clearZrData:function(t){t&&t.zr&&(this.removeTooltip(t),t.zr.off("mouseout","mousemove"),t.zr=null)},removeTooltip:function(t){t&&t.zr&&(this.zrDrawElement.hoverDots&&this.zrDrawElement.hoverDots.forEach((function(e){return t.zr.remove(e)})),this.zrDrawElement.hoverLine&&t.zr.remove(this.zrDrawElement.hoverLine),this.zrDrawElement.tooltip&&t.zr.remove(this.zrDrawElement.tooltip),this.zrDrawElement.tooltipY&&t.zr.remove(this.zrDrawElement.tooltipY),this.zrDrawElement.tooltipX&&t.zr.remove(this.zrDrawElement.tooltipX))},getValue:function(t,e,i){return t[e][i]},makePolyPoints:function(t,e,i,a){for(var r=[],s=a.oriData.seriesData,n=a.oriData.maxZ,o=a.oriData.minZ,l=0;l<s[t].length;){var c=this.getValue(s,t,l++),h=this.getValue(s,t,l++),u=this.getValue(s,t,l++),m=e([c,h],a);n!==o&&(m[1]-=(u-o)/(n-o)*i),r.push(m)}return r},formOriData:function(t){var e=[],i=t.histograms.length?t.histograms[0].wall_time:0;return t.histograms.forEach((function(t,a){var r=t.step.toString(),s={wall_time:t.wall_time,relative_time:t.wall_time-i,step:r,items:[]},n=[];if(t.buckets.forEach((function(e){var i=e[0]+e[1]/2,a=n.filter((function(t){return t[0]===i}));a.length||n.push([t.wall_time,r,i,Math.floor(e[2])])})),n.sort((function(t,e){return t[0]-e[0]})),n.length){var o=n[0][2],l=n[n.length-1][2],c=[[t.wall_time,r,o,0]].concat(n,[[t.wall_time,r,l,0]]);s.items=c,e.push(s)}})),e},formatDataToChar:function(t){var e=this,i=t.chartData,a=[],r=-1/0,s=1/0,n=-1/0,o=1/0,l=[];i&&i.length&&i.forEach((function(t){var i=[];l.push(t.step),t.items.forEach((function(a){0===e.curViewName?i.push([a[2],a[3]]):1===e.curViewName&&i.push(a[2],t.step,a[3]),r=Math.max(r,a[2]),s=Math.min(s,a[2]),o=Math.min(o,a[3]),n=Math.max(n,a[3])})),a.push(i)})),t.oriData={seriesData:a,maxX:r,minX:s,maxZ:n,minZ:o,gridData:l}},formatCharOption:function(t){var e=this,i=l["a"].histogramThemes[this.themeIndex],a=l["a"].commonThemes[this.themeIndex],r=i.lineMinColor,s=i.lineMaxColor,n=t.oriData,o=this.getGradientColor(r,s,n.seriesData.length),c=this.toggleFullScreen,h=this.curAxisName,u=this,m={grid:{left:40,top:60,right:80,bottom:60},xAxis:{max:n.maxX,min:n.minX,axisLine:{onZero:!1},axisLabel:{fontSize:"11",formatter:function(t){return u.formatNumber(t)}},splitLine:{show:!1}},yAxis:{position:"right",axisLine:{onZero:!1,show:!1},splitLine:{show:!0},axisTick:{show:!1},boundaryGap:!1,axisLabel:{fontSize:"11",formatter:function(t){return u.formatNumber(t)}}},toolbox:{top:20,right:20,emphasis:{iconStyle:{textPosition:"top",borderColor:a.themeColor}},feature:{myToolFullScreen:{show:!0,title:this.$t("histogram.fullScreen"),iconStyle:{borderColor:t.fullScreen?a.themeColor:a.fullScreenIconActive},icon:l["a"].fullScreenIcon[this.$store.state.themeIndex],onclick:function(){c(t)}}}}};if(1===this.curViewName){var d=[];n.seriesData.forEach((function(t,e){var i={name:t[1],value:t,itemStyle:{color:o[e]}};d.push(i)})),m.series=[{type:"custom",dimensions:["x","y"],renderItem:function(a,r){var s=e.makePolyPoints(a.dataIndex,r.coord,a.coordSys.y-10,t);return{type:"polyline",z2:a.dataIndex,silent:!0,shape:{points:s},style:r.style({stroke:i.polylineBorderColor,lineWidth:1})}},data:d}],m.yAxis.data=n.gridData,m.yAxis.type="category",m.grid.top=126,2===h&&t.fullScreen&&(m.grid.right=140),m.yAxis.inverse=!0,m.yAxis.axisLabel.formatter=function(e){return u.yAxisFormatter(t,e)}}else 0===this.curViewName&&(m.color=o,m.series=[],n.seriesData.forEach((function(t){m.series.push({type:"line",symbol:"none",lineStyle:{width:1},data:t.slice(1,-1)})})));return m},yAxisFormatter:function(t,e){var i="",a=t.chartData.filter((function(t){return t.step===e}));return a.length&&(i=2===this.curAxisName?t.fullScreen?this.dealrelativeTime(new Date(1e3*a[0].wall_time).toString()):[]:1===this.curAxisName?this.formatNumber(a[0].relative_time.toFixed(0)):this.formatNumber(a[0].step)),i},formatNumber:function(t){return t=Number(t),t.toString().length>6?t.toExponential(3):Math.round(1e3*t)/1e3},formatColor:function(t){if(t){var e=/^([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/,i=t.toLowerCase().slice(1);if(e.test(i)){var a="";if(3===i.length){for(var r=0;r<3;r++)a+=a.slice(r,r+1).concat(a.slice(r,r+1));i=a}for(var s=[],n=0;n<6;n+=2)s.push(parseInt("0x".concat(i.slice(n,n+2))));return s}return i}},formatColorToHex:function(t){var e=/^(rgb|RGB)/g;if(e.test(t)){for(var i=t.replace(/(?:(|)|rgb|RGB)*/g,"").split(","),a="",r=0;r<i.length;r++){var s=Number(i[r]).toString(16);s=s<10?"0".concat(s):s,"0"===s&&(s+=s),a+=s}return 6!==a.length&&(a=t),a}},getGradientColor:function(t,e,i){for(var a=this.formatColor(t),r=this.formatColor(e),s=(r[0]-a[0])/i,n=(r[1]-a[1])/i,o=(r[2]-a[2])/i,l=[],c=0;c<i;c++){var h=parseInt(s*c+a[0]),u=parseInt(n*c+a[1]),m=parseInt(o*c+a[2]),d=this.formatColorToHex("rgb(".concat(h,",").concat(u,",").concat(m,")"));l.push(d)}return l},toggleFullScreen:function(t){if(t){this.removeTooltip(t);var e=l["a"].commonThemes[this.themeIndex];t.fullScreen=!t.fullScreen,t.fullScreen?(2===this.curAxisName&&(t.charOption.grid.right=140),t.charOption.toolbox.feature.myToolFullScreen.iconStyle.borderColor=e.themeColor):(t.charOption.grid.right=80,t.charOption.toolbox.feature.myToolFullScreen.iconStyle.borderColor=e.fullScreenIconActive),setTimeout((function(){t.charObj.setOption(t.charOption),t.charObj.resize(),document.getElementById(t.domId).scrollIntoView()}),0)}}}},d=m,g=(i("6a94"),i("2877")),p=Object(g["a"])(d,a,r,!1,null,null,null);e["default"]=p.exports},"7e02":function(t,e,i){"use strict";var a,r,s={data:function(){return{autoUpdateTimer:null,isReloading:!1}},computed:{isReload:function(){return this.$store.state.isReload},isTimeReload:function(){return this.$store.state.isTimeReload},timeReloadValue:function(){return this.$store.state.timeReloadValue}},watch:{isReload:function(t,e){t&&(this.isReloading=!0,this.isTimeReload&&this.autoUpdateSamples(),this.updateAllData(!1))},isTimeReload:function(t,e){t?this.autoUpdateSamples():this.stopUpdateSamples()},timeReloadValue:function(){this.autoUpdateSamples()}},methods:{autoUpdateSamples:function(){var t=this;this.autoUpdateTimer&&(clearInterval(this.autoUpdateTimer),this.autoUpdateTimer=null),this.autoUpdateTimer=setInterval((function(){t.$store.commit("clearToken"),t.updateAllData(!0)}),1e3*this.timeReloadValue)},stopUpdateSamples:function(){this.autoUpdateTimer&&(clearInterval(this.autoUpdateTimer),this.autoUpdateTimer=null)}},destroyed:function(){this.autoUpdateTimer&&(clearInterval(this.autoUpdateTimer),this.autoUpdateTimer=null),this.isReloading&&(this.$store.commit("setIsReload",!1),this.isReloading=!1)}},n=s,o=i("2877"),l=Object(o["a"])(n,a,r,!1,null,null,null);e["a"]=l.exports},9485:function(t,e,i){t.exports=i.p+"static/img/nodata.8290bed9.png"},a434:function(t,e,i){"use strict";var a=i("23e7"),r=i("23cb"),s=i("a691"),n=i("50c4"),o=i("7b0b"),l=i("65f0"),c=i("8418"),h=i("1dde"),u=i("ae40"),m=h("splice"),d=u("splice",{ACCESSORS:!0,0:0,1:2}),g=Math.max,p=Math.min,f=9007199254740991,v="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!m||!d},{splice:function(t,e){var i,a,h,u,m,d,b=o(this),w=n(b.length),x=r(t,w),T=arguments.length;if(0===T?i=a=0:1===T?(i=0,a=w-x):(i=T-2,a=p(g(s(e),0),w-x)),w+i-a>f)throw TypeError(v);for(h=l(b,a),u=0;u<a;u++)m=x+u,m in b&&c(h,u,b[m]);if(h.length=a,i<a){for(u=x;u<w-a;u++)m=u+a,d=u+i,m in b?b[d]=b[m]:delete b[d];for(u=w;u>w-a+i;u--)delete b[u-1]}else if(i>a)for(u=w-a;u>x;u--)m=u+a-1,d=u+i-1,m in b?b[d]=b[m]:delete b[d];for(u=0;u<i;u++)b[u+x]=arguments[u+2];return b.length=w-a+i,h}})},a95e:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cl-checklist-container"},[i("div",{staticClass:"select-content"},[i("div",{staticClass:"title mr24"},[t._v(t._s(t.componentsLabel.title||t.$t("components.tagSelectTitle")))]),i("div",{staticClass:"select-all mr24",on:{click:t.listSelectAll}},[i("span",{staticClass:"multiCheckBox-border multi-check-border",class:t.operateSelectAll?"checkbox-checked":"checkbox-unchecked"}),i("span",{staticClass:"label-item select-disable"},[t._v(t._s(t.$t("components.selectAll")))])]),t.listFullScreen?i("el-input",{staticClass:"search-input-item",attrs:{placeholder:t.componentsLabel.placeholder||t.$t("components.tagFilterPlaceHolder")},on:{input:t.listFilter},model:{value:t.searchInput,callback:function(e){t.searchInput=e},expression:"searchInput"}}):t._e(),t.listFullScreen?t._e():i("div",{ref:t.itemId,staticClass:"select-item-content"},t._l(t.checkListArr,(function(e,a){return i("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"item.show"}],key:a,staticClass:"select-item",class:t.isLimit&&t.selectedNumber>=t.limitNum&&!e.checked?"item-disable":"item-able",on:{click:function(i){return t.listItemClick(e)}}},[i("span",{staticClass:"multiCheckBox-border multi-check-border",class:e.checked?"checkbox-checked":"checkbox-unchecked"}),i("span",{staticClass:"label-item"},[i("el-tooltip",{attrs:{effect:"dark","popper-class":"tooltip-show-content",content:e.label,placement:"top"}},[i("span",{staticClass:"select-disable"},[e.checked&&"NOT_IN_CACHE"===e.loading?i("i",{staticClass:"el-icon-time",attrs:{title:t.$t("trainingDashboard.waitLoading")}}):t._e(),e.checked&&"CACHING"===e.loading?i("i",{staticClass:"el-icon-loading",attrs:{title:t.$t("trainingDashboard.loadingTip")}}):t._e(),t._v(" "+t._s(e.label))])])],1)])})),0),t.overRowFlag||t.searchInput?i("div",{directives:[{name:"show",rawName:"v-show",value:!t.listFullScreen,expression:"!listFullScreen"}],staticClass:"select-content-open select-disable",on:{click:t.toggleListFullScreen}},[t._v(t._s(t.$t("components.open")))]):t._e(),t.overRowFlag||t.listFullScreen?i("div",{directives:[{name:"show",rawName:"v-show",value:t.listFullScreen,expression:"listFullScreen"}],staticClass:"select-content-open select-disable",on:{click:t.toggleListFullScreen}},[t._v(t._s(t.$t("components.close")))]):t._e()],1),t.listFullScreen?i("div",{staticClass:"select-content-all"},t._l(t.checkListArr,(function(e,a){return i("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"item.show"}],key:a,staticClass:"select-item",class:t.isLimit&&t.selectedNumber>=t.limitNum&&!e.checked?"item-disable":"item-able",on:{click:function(i){return t.listItemClick(e)}}},[i("span",{staticClass:"multiCheckBox-border multi-check-border",class:e.checked?"checkbox-checked":"checkbox-unchecked"}),i("span",{staticClass:"label-item"},[i("el-tooltip",{attrs:{effect:"dark","popper-class":"tooltip-show-content",content:e.label,placement:"top"}},[i("span",{staticClass:"select-disable"},[e.checked&&"NOT_IN_CACHE"===e.loading?i("i",{staticClass:"el-icon-time",attrs:{title:t.$t("trainingDashboard.waitLoading")}}):t._e(),e.checked&&"CACHING"===e.loading?i("i",{staticClass:"el-icon-loading",attrs:{title:t.$t("trainingDashboard.loadingTip")}}):t._e(),t._v(" "+t._s(e.label))])])],1)])})),0):t._e()])},r=[],s=(i("a9e3"),i("d3b7"),i("4d63"),i("ac1f"),i("2c3e"),i("00b4"),i("25f0"),i("159b"),{props:{checkListArr:Array,isLimit:{type:Boolean,default:!1},limitNum:{type:Number,default:0},componentsLabel:{type:Object,default:function(){return{title:"",placeholder:""}}}},data:function(){return{listFullScreen:!1,overRowFlag:!1,searchInputTimer:null,searchInput:"",valiableSearchInput:"",multiSelectedItemNames:{},operateSelectAll:!0,perSelectItemMarginBottom:1,selectedNumber:0,itemId:"",searching:!1}},computed:{},watch:{},mounted:function(){this.init()},methods:{init:function(){var t=this;this.itemId="".concat((new Date).getTime())+"".concat(this.$store.state.multiSelectedGroupCount),this.$store.commit("multiSelectedGroupComponentNum"),this.$nextTick((function(){t.resizeCallback()})),window.addEventListener("resize",this.resizeCallback,!1)},resizeCallback:function(){var t=this.$refs[this.itemId];t&&(this.overRowFlag=t.clientHeight<t.scrollHeight-this.perSelectItemMarginBottom)},listSelectAll:function(){var t=this;if(this.operateSelectAll=!this.operateSelectAll,this.multiSelectedItemNames={},this.operateSelectAll)if(this.isLimit)for(var e=this.checkListArr.length,i=0;i<e;i++){var a=this.checkListArr[i];this.selectedNumber>=this.limitNum?a.checked&&a.show&&(this.multiSelectedItemNames[a.label]=!0):a.checked?a.show&&(this.multiSelectedItemNames[a.label]=!0):a.show&&(a.checked=!0,this.multiSelectedItemNames[a.label]=!0,this.selectedNumber++)}else this.checkListArr.forEach((function(e){e.show&&(e.checked=!0,t.multiSelectedItemNames[e.label]=!0)}));else this.checkListArr.forEach((function(e){e.show&&e.checked&&(t.selectedNumber--,e.checked=!1)}));this.$emit("selectedChange",this.multiSelectedItemNames)},listFilter:function(){var t=this;this.searching=!0,this.searchInputTimer&&(clearTimeout(this.searchInputTimer),this.searchInputTimer=null),this.searchInputTimer=setTimeout((function(){var e;t.searching=!1;try{e=new RegExp(t.searchInput)}catch(a){return void t.$message.warning(t.$t("public.regIllegal"))}t.valiableSearchInput=t.searchInput,t.multiSelectedItemNames={},t.selectedNumber=0;var i=!0;t.checkListArr.forEach((function(a){a.checked&&t.selectedNumber++,e.test(a.label)?(a.show=!0,a.checked?t.multiSelectedItemNames[a.label]=!0:i=!1):a.show=!1})),t.isLimit&&!i&&(i=t.selectedNumber>=t.limitNum||t.selectedNumber>=t.checkListArr.length),t.operateSelectAll=i,t.$emit("selectedChange",t.multiSelectedItemNames)}),200)},listItemClick:function(t){if(!(!t||this.isLimit&&this.selectedNumber>=this.limitNum&&!t.checked)){t.checked=!t.checked,t.checked?(this.multiSelectedItemNames[t.label]=!0,this.selectedNumber++):this.multiSelectedItemNames[t.label]&&(delete this.multiSelectedItemNames[t.label],this.selectedNumber--);var e=!0;this.checkListArr.some((function(t){if(t.show&&!t.checked)return e=!1,!0})),this.isLimit&&!e&&(e=this.selectedNumber>=this.limitNum||this.selectedNumber>=this.checkListArr.length),this.operateSelectAll=e,this.$emit("selectedChange",this.multiSelectedItemNames)}},toggleListFullScreen:function(){var t=this;this.listFullScreen=!this.listFullScreen,this.listFullScreen||this.$nextTick((function(){t.resizeCallback()}))},updateSelectedDic:function(){var t,e=this;if(this.searching)return this.multiSelectedItemNames;try{t=new RegExp(this.searchInput)}catch(n){t=new RegExp(this.valiableSearchInput)}this.multiSelectedItemNames={},this.selectedNumber=0;var i=!0;if(this.isLimit){for(var a=this.checkListArr.length,r=0;r<a;r++){var s=this.checkListArr[r];s.checked&&(this.selectedNumber>=this.limitNum?s.checked=!1:this.selectedNumber++),t.test(s.label)?(s.show=!0,s.checked&&(this.multiSelectedItemNames[s.label]=!0)):s.show=!1}i=this.selectedNumber>=this.limitNum||this.selectedNumber>=this.checkListArr.length}else this.checkListArr.forEach((function(a){t.test(a.label)?(a.show=!0,a.checked?e.multiSelectedItemNames[a.label]=!0:i=!1):a.show=!1}));return this.operateSelectAll=i,this.resizeCallback(),this.multiSelectedItemNames}},destroyed:function(){window.removeEventListener("resize",this.resizeCallback),this.searchInputTimer&&(clearTimeout(this.searchInputTimer),this.searchInputTimer=null)}}),n=s,o=(i("bd27"),i("2877")),l=Object(o["a"])(n,a,r,!1,null,null,null);e["a"]=l.exports},b680:function(t,e,i){"use strict";var a=i("23e7"),r=i("a691"),s=i("408a"),n=i("1148"),o=i("d039"),l=1..toFixed,c=Math.floor,h=function(t,e,i){return 0===e?i:e%2===1?h(t,e-1,i*t):h(t*t,e/2,i)},u=function(t){var e=0,i=t;while(i>=4096)e+=12,i/=4096;while(i>=2)e+=1,i/=2;return e},m=l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){l.call({})}));a({target:"Number",proto:!0,forced:m},{toFixed:function(t){var e,i,a,o,l=s(this),m=r(t),d=[0,0,0,0,0,0],g="",p="0",f=function(t,e){var i=-1,a=e;while(++i<6)a+=t*d[i],d[i]=a%1e7,a=c(a/1e7)},v=function(t){var e=6,i=0;while(--e>=0)i+=d[e],d[e]=c(i/t),i=i%t*1e7},b=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==d[t]){var i=String(d[t]);e=""===e?i:e+n.call("0",7-i.length)+i}return e};if(m<0||m>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(g="-",l=-l),l>1e-21)if(e=u(l*h(2,69,1))-69,i=e<0?l*h(2,-e,1):l/h(2,e,1),i*=4503599627370496,e=52-e,e>0){f(0,i),a=m;while(a>=7)f(1e7,0),a-=7;f(h(10,a,1),0),a=e-1;while(a>=23)v(1<<23),a-=23;v(1<<a),f(1,1),v(2),p=b()}else f(0,i),f(1<<-e,0),p=b()+n.call("0",m);return m>0?(o=p.length,p=g+(o<=m?"0."+n.call("0",m-o)+p:p.slice(0,o-m)+"."+p.slice(o-m))):p=g+p,p}})},bd27:function(t,e,i){"use strict";i("d669")},d669:function(t,e,i){},ddf5:function(t,e,i){},e9c4:function(t,e,i){var a=i("23e7"),r=i("d066"),s=i("d039"),n=r("JSON","stringify"),o=/[\uD800-\uDFFF]/g,l=/^[\uD800-\uDBFF]$/,c=/^[\uDC00-\uDFFF]$/,h=function(t,e,i){var a=i.charAt(e-1),r=i.charAt(e+1);return l.test(t)&&!c.test(r)||c.test(t)&&!l.test(a)?"\\u"+t.charCodeAt(0).toString(16):t},u=s((function(){return'"\\udf06\\ud834"'!==n("\udf06\ud834")||'"\\udead"'!==n("\udead")}));n&&a({target:"JSON",stat:!0,forced:u},{stringify:function(t,e,i){var a=n.apply(null,arguments);return"string"==typeof a?a.replace(o,h):a}})}}]);