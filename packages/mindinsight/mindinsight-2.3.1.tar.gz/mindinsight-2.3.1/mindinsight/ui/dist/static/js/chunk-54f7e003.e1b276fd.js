(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-54f7e003"],{"06c5":function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));r("a630"),r("fb6a"),r("b0c0"),r("d3b7"),r("ac1f"),r("00b4"),r("25f0"),r("3ca3");var i=r("6b75");function a(t,e){if(t){if("string"==typeof t)return Object(i["a"])(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(i["a"])(t,e):void 0}}},1148:function(t,e,r){"use strict";var i=r("a691"),a=r("1d80");t.exports="".repeat||function(t){var e=String(a(this)),r="",n=i(t);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(e+=e))1&n&&(r+=e);return r}},3835:function(t,e,r){"use strict";function i(t){if(Array.isArray(t))return t}r.d(e,"a",(function(){return s}));r("e01a"),r("d28b"),r("e260"),r("d3b7"),r("3ca3"),r("ddb0");function a(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var i,a,n,o,s=[],c=!0,l=!1;try{if(n=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(i=n.call(r)).done)&&(s.push(i.value),s.length!==e);c=!0);}catch(t){l=!0,a=t}finally{try{if(!c&&null!=r["return"]&&(o=r["return"](),Object(o)!==o))return}finally{if(l)throw a}}return s}}var n=r("06c5");function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t,e){return i(t)||a(t,e)||Object(n["a"])(t,e)||o()}},"408a":function(t,e,r){var i=r("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=i(t))throw TypeError("Incorrect invocation");return+t}},"4da4":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAAXNSR0IArs4c6QAAARdJREFUKBW1UTFqAlEQnflZ1xCEFAHB3lR7hECC5xBsUltELPZ3dmsheodAzhEIeAQr7QXFQlhEV91x3scRL5CB3T//vTezs2+420uFNJh4+RDL+2Q4XOBu8ZWmzXPBf0LSAOaMECnzE/PW7nYCA2d3h84kMifmVzrIr/f+xciQKxY41UDrMAY9ujcVzfRJdgV3rOCaJ4FTDbSRzazdPiCocPxjBciPVNBTLN9Zlm0UXxv3fydba/ygjTQaDVbA+/1B/ShF+24kiuAzrMvhBkmCmTUmeEFcSjnOD/TZ9b4ViTxHWArBZ9iqTqEbxAjkEGua0L6cntnVXNggxNhFlVtXN0JByBWzPUF72zRrNT4ZlHcvYOAMugDhu439cG89uAAAAABJRU5ErkJggg=="},"4df4":function(t,e,r){"use strict";var i=r("0366"),a=r("7b0b"),n=r("9bdd"),o=r("e95a"),s=r("50c4"),c=r("8418"),l=r("35a1");t.exports=function(t){var e,r,m,u,d,f,h=a(t),p="function"==typeof this?this:Array,v=arguments.length,y=v>1?arguments[1]:void 0,g=void 0!==y,b=l(h),_=0;if(g&&(y=i(y,v>2?arguments[2]:void 0,2)),void 0==b||p==Array&&o(b))for(e=s(h.length),r=new p(e);e>_;_++)f=g?y(h[_],_):h[_],c(r,_,f);else for(u=b.call(h),d=u.next,r=new p;!(m=d.call(u)).done;_++)f=g?n(u,y,[m.value,_],!0):m.value,c(r,_,f);return r.length=_,r}},"5e89":function(t,e,r){var i=r("861d"),a=Math.floor;t.exports=function(t){return!i(t)&&isFinite(t)&&a(t)===t}},"6b75":function(t,e,r){"use strict";function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=Array(e);r<e;r++)i[r]=t[r];return i}r.d(e,"a",(function(){return i}))},"8ba4":function(t,e,r){var i=r("23e7"),a=r("5e89");i({target:"Number",stat:!0},{isInteger:a})},9485:function(t,e,r){t.exports=r.p+"static/img/nodata.8290bed9.png"},9944:function(t,e,r){"use strict";r.d(e,"a",(function(){return a})),r.d(e,"c",(function(){return o})),r.d(e,"b",(function(){return s}));var i=r("3835");r("99af"),r("caad"),r("8ba4"),r("b680"),r("d3b7"),r("ac1f"),r("25f0"),r("2532"),r("466d");function a(t,e,r){t.toLowerCase().includes("rgb")||(t=n(t)),e.toLowerCase().includes("rgb")||(e=n(e));for(var a=t.match(/[0-9]\d*/g),o=Object(i["a"])(a,3),s=o[0],c=o[1],l=o[2],m=e.match(/[0-9]\d*/g),u=Object(i["a"])(m,3),d=u[0],f=u[1],h=u[2],p=(+d-+s)/r,v=(+f-+c)/r,y=(+h-+l)/r,g=[t],b=1;b<r;b++){var _=parseInt(p*b+ +s),C=parseInt(v*b+ +c),w=parseInt(y*b+ +l);g.push("rgb(".concat(_,",").concat(C,",").concat(w,")"))}return g}function n(t){var e=16;return 4===t.length?"rgb(".concat(parseInt(t[1]+t[1],e),", ").concat(parseInt(t[2]+t[2],e),", ").concat(parseInt(t[3]+t[3],e),")"):"rgb(".concat(parseInt(t[1]+t[2],e),", ").concat(parseInt(t[3]+t[4],e),", ").concat(parseInt(t[5]+t[6],e),")")}function o(t,e){if("number"!==typeof t&&(t=parseFloat(t)),isNaN(t))return"NaN";var r=t+"",i=r.indexOf(".");return i<0||r.length-i-1<=e?r:t.toFixed(e)}function s(t){if(Number.isInteger(t))return!0;if("string"!==typeof t)return!1;var e=+t;return e+""===t&&Number.isInteger(e)}},a630:function(t,e,r){var i=r("23e7"),a=r("4df4"),n=r("1c7e"),o=!n((function(t){Array.from(t)}));i({target:"Array",stat:!0,forced:o},{from:a})},b0c0:function(t,e,r){var i=r("83ab"),a=r("9bf2").f,n=Function.prototype,o=n.toString,s=/^\s*function ([^ (]*)/,c="name";i&&!(c in n)&&a(n,c,{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(t){return""}}})},b680:function(t,e,r){"use strict";var i=r("23e7"),a=r("a691"),n=r("408a"),o=r("1148"),s=r("d039"),c=1..toFixed,l=Math.floor,m=function(t,e,r){return 0===e?r:e%2===1?m(t,e-1,r*t):m(t*t,e/2,r)},u=function(t){var e=0,r=t;while(r>=4096)e+=12,r/=4096;while(r>=2)e+=1,r/=2;return e},d=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){c.call({})}));i({target:"Number",proto:!0,forced:d},{toFixed:function(t){var e,r,i,s,c=n(this),d=a(t),f=[0,0,0,0,0,0],h="",p="0",v=function(t,e){var r=-1,i=e;while(++r<6)i+=t*f[r],f[r]=i%1e7,i=l(i/1e7)},y=function(t){var e=6,r=0;while(--e>=0)r+=f[e],f[e]=l(r/t),r=r%t*1e7},g=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==f[t]){var r=String(f[t]);e=""===e?r:e+o.call("0",7-r.length)+r}return e};if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(h="-",c=-c),c>1e-21)if(e=u(c*m(2,69,1))-69,r=e<0?c*m(2,-e,1):c/m(2,e,1),r*=4503599627370496,e=52-e,e>0){v(0,r),i=d;while(i>=7)v(1e7,0),i-=7;v(m(10,i,1),0),i=e-1;while(i>=23)y(1<<23),i-=23;y(1<<i),v(1,1),y(2),p=g()}else v(0,r),v(1<<-e,0),p=g()+o.call("0",d);return d>0?(s=p.length,p=h+(s<=d?"0."+o.call("0",d-s)+p:p.slice(0,s-d)+"."+p.slice(s-d))):p=h+p,p}})},d28b:function(t,e,r){var i=r("746f");i("iterator")},d94e:function(t,e,r){},dc69:function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cl-memory-detail"},[i("div",{staticClass:"memory-bk"},[i("div",{staticClass:"profiling-content-title"},[t._v(" "+t._s(t.$t("profiling.memory.memoryDetailLink"))+" ")]),i("div",{staticClass:"main-content"},[i("div",{staticClass:"top-content",class:t.tableFullScreen?"full-screen":""},[i("div",{staticClass:"title-item"},[t._v(" "+t._s(t.$t("profiling.memory.overView"))+" ")]),i("div",{staticClass:"content-item"},[i("div",{staticClass:"detail-item"},[i("div",{staticClass:"value-item"},[t._v(t._s(t.overViewData.currentCard))]),i("div",{staticClass:"label-item"},[t._v(t._s(t.$t("profiling.memory.currentCard")))])]),i("div",{staticClass:"detail-item"},[i("div",{staticClass:"value-item"},[t._v(t._s(t.overViewData.memoryAssign))]),i("div",{staticClass:"label-item"},[t._v(t._s(t.$t("profiling.memory.memoryAssign")))])]),i("div",{staticClass:"detail-item"},[i("div",{staticClass:"value-item"},[t._v(t._s(t.overViewData.memoryRelease))]),i("div",{staticClass:"label-item"},[t._v(t._s(t.$t("profiling.memory.memoryRelease")))])]),i("div",{staticClass:"detail-item"},[i("div",[i("span",{staticClass:"value-item"},[t._v(" "+t._s(t.formatUnit(t.overViewData.totalMemory,1))+" ")]),i("span",{staticClass:"unit-item"},[t._v(" "+t._s(t.formatUnit(t.overViewData.totalMemory,2))+" ")])]),i("div",{staticClass:"label-item"},[t._v(t._s(t.$t("profiling.memory.totalMemory")))])]),i("div",{staticClass:"detail-item"},[i("div",[i("span",{staticClass:"value-item"},[t._v(" "+t._s(t.formatUnit(t.overViewData.staticMemory,1))+" ")]),i("span",{staticClass:"unit-item"},[t._v(" "+t._s(t.formatUnit(t.overViewData.staticMemory,2))+" ")])]),i("div",{staticClass:"label-item"},[t._v(t._s(t.$t("profiling.memory.staticMenory")))])]),i("div",{staticClass:"detail-item"},[i("div",[i("span",{staticClass:"value-item"},[t._v(" "+t._s(t.formatUnit(t.overViewData.memoryPeak,1))+" ")]),i("span",{staticClass:"unit-item"},[t._v(" "+t._s(t.formatUnit(t.overViewData.memoryPeak,2))+" ")])]),i("div",{staticClass:"label-item"},[t._v(t._s(t.$t("profiling.memory.memoryPeak")))])])])]),i("div",{staticClass:"chart-container",class:t.tableFullScreen?"full-screen":""},[i("div",{staticClass:"title-item"},[t._v(" "+t._s(t.$t("profiling.memory.usedMemory"))+" ")]),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.graphicsInitOver||t.noGraphicsDataFlag,expression:"!graphicsInitOver || noGraphicsDataFlag"}],staticClass:"chart-content"},[i("div",{staticClass:"noData-content"},[i("div",[i("img",{attrs:{src:r("9485")}})]),t.graphicsInitOver&&t.noGraphicsDataFlag?i("div",{staticClass:"noData-text"},[t._v(t._s(t.$t("public.noData")))]):i("div",{staticClass:"noData-text"},[t._v(t._s(t.$t("public.dataLoading")))])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.noGraphicsDataFlag&&t.graphicsInitOver,expression:"!noGraphicsDataFlag && graphicsInitOver"}],ref:"memoryChart",staticClass:"chart-content"})]),i("div",{staticClass:"table-container",class:t.tableFullScreen?"full-screen":""},[i("div",{staticClass:"title-item"},[i("span",[t._v(" "+t._s(t.$t("profiling.memory.operatorMemoryAssign"))+" ")]),i("img",{staticClass:"fullScreen-icon",attrs:{src:r("4da4"),title:t.$t("graph.fullScreen")},on:{click:t.toggleFullScreen}})]),i("div",{staticClass:"table-content"},[i("el-table",{attrs:{data:t.currentBreakdownsData,stripe:"",height:"100%","tooltip-effect":"light","empty-text":t.breakdownsInitOver?t.$t("public.noData"):t.$t("public.dataLoading")}},[i("el-table-column",{attrs:{prop:"name",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"cell"},[t._v(t._s(e.row.name))])]}}])},[i("template",{slot:"header"},[i("span",{attrs:{title:t.$t("profiling.memory.tensorName")}},[t._v(" "+t._s(t.$t("profiling.memory.tensorName"))+" ")])])],2),i("el-table-column",{attrs:{prop:"size",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"cell"},[t._v(t._s(t.formatUnit(e.row.size)))])]}}])},[i("template",{slot:"header"},[i("span",{attrs:{title:t.$t("profiling.memory.totalTensorMemoryAssign")}},[t._v(" "+t._s(t.$t("profiling.memory.totalTensorMemoryAssign"))+" ")])])],2),i("el-table-column",{attrs:{prop:"type"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"cell"},[t._v(t._s(e.row.type))])]}}])},[i("template",{slot:"header"},[i("span",{attrs:{title:t.$t("profiling.memory.tensorType")}},[t._v(" "+t._s(t.$t("profiling.memory.tensorType"))+" ")])])],2),i("el-table-column",{attrs:{prop:"dataType"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"cell"},[t._v(t._s(e.row.dataType))])]}}])},[i("template",{slot:"header"},[i("span",{attrs:{title:t.$t("profiling.memory.dataType")}},[t._v(" "+t._s(t.$t("profiling.memory.dataType"))+" ")])])],2),i("el-table-column",{attrs:{prop:"shape"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"cell"},[t._v(t._s(e.row.shape))])]}}])},[i("template",{slot:"header"},[i("span",{attrs:{title:t.$t("profiling.memory.shapes")}},[t._v(" "+t._s(t.$t("profiling.memory.shapes"))+" ")])])],2),i("el-table-column",{attrs:{prop:"format"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"cell"},[t._v(t._s(e.row.format))])]}}])},[i("template",{slot:"header"},[i("span",{attrs:{title:t.$t("profiling.memory.format")}},[t._v(" "+t._s(t.$t("profiling.memory.format"))+" ")])])],2),i("el-table-column",{attrs:{prop:"lifeCycle"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"cell"},[t._v(t._s(e.row.lifeCycle))])]}}])},[i("template",{slot:"header"},[i("span",{attrs:{title:t.$t("profiling.memory.lifeCycle")}},[t._v(" "+t._s(t.$t("profiling.memory.lifeCycle"))+" ")])])],2)],1)],1)])])])])},a=[],n=(r("99af"),r("b0c0"),r("a9e3"),r("b680"),r("b64b"),r("d3b7"),r("25f0"),r("159b"),r("9fac")),o=r("3778"),s=r("2dd7"),c=r("9944"),l={props:{rankID:String},data:function(){return{trainInfo:{id:this.$route.query.id,dir:this.$route.query.dir,path:this.$route.query.path},overViewData:{currentCard:"-",memoryAssign:"-",memoryRelease:"-",staticMemory:"-",totalMemory:"-",memoryPeak:"-"},overViewInitOver:!1,graphicsInitOver:!1,noGraphicsDataFlag:!1,pageResizeTimer:null,currentGraphicsDic:[],currentBreakdownsData:[],graphicsChart:null,graphicsOption:null,graphicsId:"allocationLine",numberLimit:10,unitBase:1024,unitList:[this.$t("profiling.memory.memoryGiBUnit"),this.$t("profiling.memory.memoryMiBUnit"),this.$t("profiling.memory.memoryKiBUnit"),this.$t("profiling.memory.memoryByteUnit")],chartClickListenerOn:!1,curSelectedPointIndex:0,curGraphId:"",breakdownsInitOver:!1,themeIndex:this.$store.state.themeIndex,firstInit:!0,tableFullScreen:!1}},watch:{rankID:{handler:function(t){Object(c["b"])(t)?(this.overViewInitOver=!1,this.noGraphicsDataFlag=!1,this.graphicsInitOver=!1,this.breakdownsInitOver=!1,this.overViewData={currentCard:"-",memoryAssign:"-",memoryRelease:"-",staticMemory:"-",totalMemory:"-",memoryPeak:"-"},this.curGraphId="",this.curSelectedPointIndex=0,this.currentBreakdownsData=[],this.init()):""===t&&(this.overViewData={currentCard:"-",memoryAssign:"-",memoryRelease:"-",staticMemory:"-",totalMemory:"-",memoryPeak:"-"})},immediate:!0}},destroyed:function(){window.removeEventListener("resize",this.resizeCallback),this.pageResizeTimer&&(clearTimeout(this.pageResizeTimer),this.pageResizeTimer=null),this.$bus.$off("collapse"),this.chartClickListenerOn&&this.graphicsChart&&(this.chartClickListenerOn=!1,this.graphicsChart.off("click"))},methods:{init:function(){this.getMemorySummary()},resizeCallback:function(){var t=this;this.pageResizeTimer&&(clearTimeout(this.pageResizeTimer),this.pageResizeTimer=null),this.pageResizeTimer=setTimeout((function(){t.graphicsChart&&t.graphicsChart.resize()}),300)},getMemorySummary:function(){var t=this;if(!this.trainInfo.path||!Object(c["b"])(this.rankID))return this.overViewInitOver=!0,this.noGraphicsDataFlag=!0,this.graphicsInitOver=!0,void(this.breakdownsInitOver=!0);var e={dir:this.trainInfo.path,device_id:this.rankID};o["a"].queryMemorySummary(e).then((function(r){if(t.overViewInitOver=!0,r&&r.data&&r.data.summary){var i=r.data.summary;t.overViewData={currentCard:e.device_id,memoryAssign:i.allocations||"-",memoryRelease:i.deallocations||"-",staticMemory:isNaN(i.static_mem)?"-":i.static_mem,totalMemory:isNaN(i.capacity)?"-":i.capacity,memoryPeak:isNaN(i.peak_mem)?"-":i.peak_mem}}else t.overViewData={currentCard:"-",memoryAssign:"-",memoryRelease:"-",staticMemory:"-",totalMemory:"-",memoryPeak:"-"}}),(function(){t.overViewInitOver=!0})).then((function(){t.getMemoryGraphics()}))},getMemoryGraphics:function(){var t=this,e={dir:this.trainInfo.path,device_id:this.rankID};o["a"].queryMemoryGraphics(e).then((function(e){if(t.graphicsInitOver=!0,!e||!e.data||!Object.keys(e.data).length)return t.noGraphicsDataFlag=!0,void(t.breakdownsInitOver=!0);t.noGraphicsDataFlag=!1;var r=e.data[Object.keys(e.data)[0]];t.curGraphId=r.graph_id,t.currentGraphicsDic=r,t.graphicsOption=t.formatGraphicsOption(),t.drawGraphics(),t.$nextTick((function(){t.formatBreakdowns()}))}),(function(){t.graphicsInitOver=!0,t.noGraphicsDataFlag=!0,t.breakdownsInitOver=!0}))},formatBreakdowns:function(){var t=this;if(this.breakdownsInitOver=!1,this.currentBreakdownsData=[],!this.currentGraphicsDic.nodes)return this.currentBreakdownsData=[],void(this.breakdownsInitOver=!0);var e=this.currentGraphicsDic.nodes[this.curSelectedPointIndex];if(!e)return this.currentBreakdownsData=[],void(this.breakdownsInitOver=!0);var r={dir:this.trainInfo.path,device_id:this.rankID,graph_id:this.curGraphId,node_id:e.node_id},i=this.curSelectedPointIndex;o["a"].queryMemoryBreakdowns(r).then((function(e){if(i===t.curSelectedPointIndex)if(t.breakdownsInitOver=!0,e&&e.data&&e.data.breakdowns){var r=e.data.breakdowns,a=[];r.forEach((function(t){a.push({name:t.tensor_name,size:t.size,type:t.type,dataType:t.data_type,shape:t.shape,format:t.format,lifeCycle:"[".concat(t.life_start,", ").concat(t.life_end,"]")})})),t.currentBreakdownsData=a}else t.currentBreakdownsData=[]}),(function(){t.breakdownsInitOver=!0}))},formatGraphicsOption:function(){var t=this;if(!this.currentGraphicsDic)return{};var e=this,r=[],i=[],a=[],n=[],o=-1,c=-1,l=s["a"].commonThemes[this.themeIndex];this.currentGraphicsDic.nodes.forEach((function(e,s){e.node_id===t.currentGraphicsDic.fp_start?o=s:e.node_id===t.currentGraphicsDic.bp_end&&(c=s),r.push([e.node_id,t.currentGraphicsDic.lines[s]]),i.push([e.node_id,t.overViewData.totalMemory]),a.push([e.node_id,t.currentGraphicsDic.static_mem]);var l=[];e.outputs.forEach((function(t){l.push([t.life_start,t.life_end])})),n.push(l)}));var m={id:this.graphicsId,name:this.$t("profiling.memory.curMemorySize"),data:r,type:"line",showSymbol:!1,lineStyle:{color:"#00a5a7"},color:"#00a5a7",markLine:{lineStyle:{color:"#00a5a7"},label:{formatter:function(t){var r="";return r=t.dataIndex?"".concat(e.$t("profiling.memory.bpEnd")).concat(e.$t("symbols.colon")).concat(c):"".concat(e.$t("profiling.memory.fpStart")).concat(e.$t("symbols.colon")).concat(o),r}},symbol:["none","none"],data:[{xAxis:o},{xAxis:c}]},markPoint:{symbol:"emptyCircle",symbolSize:8,itemStyle:{color:"#f45c5e"},data:[{coord:r[this.curSelectedPointIndex]}]}},u={data:i,name:this.$t("profiling.memory.totalMemory"),type:"line",smooth:0,symbol:"none",lineStyle:{color:"#fdca5a"},color:"#fdca5a"},d={data:a,name:this.$t("profiling.memory.staticMenory"),type:"line",smooth:0,symbol:"none",lineStyle:{color:"#3d58a6"},color:"#3d58a6"},f=[m,d],h={};h[this.$t("profiling.memory.curMemorySize")]=!0,h[this.$t("profiling.memory.staticMenory")]=!0;var p=[this.$t("profiling.memory.curMemorySize"),this.$t("profiling.memory.staticMenory")];isNaN(this.overViewData.totalMemory)||(f.push(u),p.unshift(this.$t("profiling.memory.totalMemory")),h[this.$t("profiling.memory.totalMemory")]=!1);var v={legend:{show:!0,icon:"circle",data:p,selected:h,inactiveColor:l.inactiveFontColor,textStyle:{color:l.fontColor}},grid:{top:60,bottom:60},xAxis:{name:this.$t("profiling.memory.chartXaxisUnit"),type:"value",show:!0},yAxis:{name:this.$t("profiling.memory.chartYaxisUnit"),scale:!0,nameGap:24},tooltip:{trigger:"axis",axisPointer:{type:"line"},formatter:function(t){var r="";return t.forEach((function(t){if(t.seriesId===e.graphicsId){var i=t.dataIndex,a=e.currentGraphicsDic.nodes[i];a&&(r="<div>".concat(e.$t("profiling.memory.curOperaterId"))+"".concat(e.$t("symbols.colon")).concat(a.node_id,"</div>")+"<div>".concat(e.$t("profiling.memory.curOperator"))+"".concat(e.$t("symbols.colon")).concat(a.name,"</div>")+"<div>".concat(e.$t("profiling.memory.curOperatorMemorySize"))+"".concat(e.$t("symbols.colon")).concat(e.formatNumber(a.size),"</div>")+"<div>".concat(e.$t("profiling.memory.curMemorySize"))+"".concat(e.$t("symbols.colon")).concat(e.formatNumber(e.currentGraphicsDic.lines[i]),"</div>")+"<div>".concat(e.$t("profiling.memory.memoryChanged"))+"".concat(e.$t("symbols.colon")).concat(e.formatNumber(a.allocated),"</div>"))}})),r}},dataZoom:[{type:"inside",filterMode:"empty",orient:"horizontal",xAxisIndex:0},{type:"slider",filterMode:"empty",orient:"horizontal",xAxisIndex:0,bottom:10}],series:f};return v},drawGraphics:function(){var t=this;this.graphicsOption&&this.$nextTick((function(){t.graphicsChart||(t.graphicsChart=n["a"].init(t.$refs.memoryChart,n["b"])),t.graphicsChart.setOption(t.graphicsOption),t.chartClickListenerOn||(t.chartClickListenerOn=!0,t.graphicsChart.on("click",{seriesName:t.$t("profiling.memory.curMemorySize")},(function(e){t.pointChanged(e)}))),t.graphicsChart.resize()}))},pointChanged:function(t){if(t){var e=0;if("markLine"===t.componentType)e=t.value;else{if("series"!==t.componentType)return;e=t.dataIndex}var r=this.graphicsOption.series[0];r&&(r.markPoint.data[0].coord=r.data[e],this.drawGraphics(),this.curSelectedPointIndex=e,this.formatBreakdowns())}},formatNumber:function(t){var e=10,r=1;return!isNaN(t)&&t.toString().length>this.numberLimit?t>r&&t<e?t.toFixed(4):t.toExponential(4):t},formatUnit:function(t,e){var r="-";if(t===r)return r;for(var i=this.unitList.length-1,a=2,n=t,o=i,s="",c=0;c<i;c++){if(n>=1){o=c;break}n*=this.unitBase}return s=1===e?"".concat(Number(n.toFixed(a))):2===e?"".concat(this.unitList[o]):"".concat(Number(n.toFixed(a))," ").concat(this.unitList[o]),s},toggleFullScreen:function(){var t=this;this.tableFullScreen=!this.tableFullScreen,this.tableFullScreen||this.$nextTick((function(){t.resizeCallback()}))}},mounted:function(){var t=this.trainInfo.id;document.title="".concat(t?t+"-":"").concat(this.$t("profiling.memory.memoryDetailLink"),"-MindInsight"),window.addEventListener("resize",this.resizeCallback,!1),this.$bus.$on("collapse",this.resizeCallback),this.firstInit=!1}},m=l,u=(r("fa40"),r("2877")),d=Object(u["a"])(m,i,a,!1,null,null,null);e["default"]=d.exports},e01a:function(t,e,r){"use strict";var i=r("23e7"),a=r("83ab"),n=r("da84"),o=r("5135"),s=r("861d"),c=r("9bf2").f,l=r("e893"),m=n.Symbol;if(a&&"function"==typeof m&&(!("description"in m.prototype)||void 0!==m().description)){var u={},d=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof d?new m(t):void 0===t?m():m(t);return""===t&&(u[e]=!0),e};l(d,m);var f=d.prototype=m.prototype;f.constructor=d;var h=f.toString,p="Symbol(test)"==String(m("test")),v=/^Symbol\((.*)\)[^)]+$/;c(f,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=h.call(t);if(o(u,t))return"";var r=p?e.slice(7,-1):e.replace(v,"$1");return""===r?void 0:r}}),i({global:!0,forced:!0},{Symbol:d})}},fa40:function(t,e,r){"use strict";r("d94e")},fb6a:function(t,e,r){"use strict";var i=r("23e7"),a=r("861d"),n=r("e8b5"),o=r("23cb"),s=r("50c4"),c=r("fc6a"),l=r("8418"),m=r("b622"),u=r("1dde"),d=r("ae40"),f=u("slice"),h=d("slice",{ACCESSORS:!0,0:0,1:2}),p=m("species"),v=[].slice,y=Math.max;i({target:"Array",proto:!0,forced:!f||!h},{slice:function(t,e){var r,i,m,u=c(this),d=s(u.length),f=o(t,d),h=o(void 0===e?d:e,d);if(n(u)&&(r=u.constructor,"function"!=typeof r||r!==Array&&!n(r.prototype)?a(r)&&(r=r[p],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return v.call(u,f,h);for(i=new(void 0===r?Array:r)(y(h-f,0)),m=0;f<h;f++,m++)f in u&&l(i,m,u[f]);return i.length=m,i}})}}]);