(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34224775"],{"4cf4":function(t,a,e){},"4d06":function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAptJREFUOBGllEFoE0EUhudtbRUvRuhFcognz4V6sSCSg7Ee2kNpoyhYAt1GULEr3YhWsL0oZrWJoOBmK7GCoov2oAWpRSJ4UZDi2ZM9BC8FgweRtmZ8f9wZpprSgAObee+f/32Z2Zkdyhf9IZLithDidWes43Qmk/nJccutXC7vWKmt3uOClCRx3hKSbCnFHn6GV2prc2EYdrRKgxc1qAUDLItnN0PEv9yklEeXq9+e+b7fvhUUHnhRAy8YYFnuhdFQCjqnAPxPfd9/iCeVSmWb0v7uMQYPvGoMDLBICV4hGJOyXlA5/2OYiMdOpNPpX0pDz8tsW67WHvPM0konshzXsYvILSU2BBIXVY6CL9XaLPfagzjSNExwjYJtACLJOdk8kbiioPxST94qBvcZRHgQQ1Pj8KJG5ej1kk3RK/iT/H6uao3ETCOWYkRpDJtyneykylXfFIhBr1C6xrO6pIxmz+/3uuuMXjY1FW8KhIGhHkPHlRk9w24yzDU1M9Yv3BT/J27brDhast51w9eT6u3fvrjw8o2h6bApMD9dmuLvRu82CQr4WeKq7qjy4OEj/RZD32pSFPwD5B2e4DEG/mkW0YNxx7Z7DnTPv/+wlOBvtCsaOpTq7VtfXJh/p7zoN2xKvuDnhBQ3tIHokTtmn+KNqEPjDbK8YvDQPIs42OZZ1JuCT8+E4dPbG48NKxiAiCMtRN5oPIFGbZQ2ZpgvBGeErN+JNC4Uc/u79h1LJpPrSjN7XA4fP31+yod/QOtknc059l3ypktpnjbfHHw9ohG92LVTDmaz2TVtbhLg+uIb57m6cXj2kld43GLMiIKx+IqXNLQVDHx4EvHdg6hBDgZYliAZ8BK/8jPbGWsf4OtqFYZWGryoQS0YYP0GSgsoUPv9lyUAAAAASUVORK5CYII="},"51fb":function(t,a,e){"use strict";e("4cf4")},"81d5":function(t,a,e){"use strict";var i=e("7b0b"),s=e("23cb"),n=e("50c4");t.exports=function(t){var a=i(this),e=n(a.length),l=arguments.length,o=s(l>1?arguments[1]:void 0,e),r=l>2?arguments[2]:void 0,c=void 0===r?e:s(r,e);while(c>o)a[o++]=t;return a}},cb29:function(t,a,e){var i=e("23e7"),s=e("81d5"),n=e("44d2");i({target:"Array",proto:!0},{fill:s}),n("fill")},ff24:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"mi-common-full-page cl-loss-analysis"},[i("div",{staticClass:"cl-title-top"},[t._v(" "+t._s(t.$t("lossAnalysis.titleText"))+" "),i("el-tooltip",{attrs:{placement:"right-start",effect:"light"}},[i("div",{staticClass:"tooltip-container",attrs:{slot:"content"},slot:"content"},[i("div",{staticClass:"cl-title-tip"},[i("div",{staticClass:"tip-part"},[t._v(" "+t._s(t.$t("lossAnalysis.dataToolTip"))+" ")])])]),i("i",{staticClass:"el-icon-info"})]),i("div",{staticClass:"cl-close-btn",on:{click:t.backToManage}},[i("img",{attrs:{src:e("4d06")}})])],1),i("div",{staticClass:"loss-analysis-content"},[i("div",{staticClass:"table-container"},[i("el-tabs",{on:{"tab-click":t.tabClick},model:{value:t.activeTab,callback:function(a){t.activeTab=a},expression:"activeTab"}},[i("el-tab-pane",{attrs:{label:t.$t("lossAnalysis.isopleth"),name:t.CONTOUR}},[i("div",{staticClass:"detail"},[i("contourMap",{ref:t.CONTOUR,attrs:{type:t.CONTOUR,showLegend:"",showAnimation:"",showFullScreen:""},on:{fullScreen:t.handleFullScreen}})],1)]),i("el-tab-pane",{attrs:{label:t.$t("lossAnalysis.reliefMap"),name:t.TOPOGRAPHIC}},[i("div",{staticClass:"detail"},[i("contourMap",{ref:t.TOPOGRAPHIC,attrs:{type:t.TOPOGRAPHIC,showLegend:"",showAnimation:"",showFullScreen:""},on:{fullScreen:t.handleFullScreen}})],1)]),i("el-tab-pane",{attrs:{label:t.$t("lossAnalysis.threeDiagram"),name:t.THREED}},[i("div",{staticClass:"detail"},[i("diagram3D",{ref:t.THREED,attrs:{oriData:t.oriData,over:t.initOver,styleSetting:t.diagram3DSetting,componentConfigOptions:t.diagramConfigOptions},on:{viewInfoChanged:t.diagramViewInfoChange,toggleFullScreen:t.handleFullScreen}})],1)])],1)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isFullScreen,expression:"!isFullScreen"}],staticClass:"right"},[i("div",{staticClass:"chart-container"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("lossAnalysis.stepSelection")))]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.chartObj,expression:"chartObj"}],staticClass:"commonChart",attrs:{id:"commonChart"}}),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.chartObj,expression:"!chartObj"}],staticClass:"commonChart"},[i("div",{staticClass:"no-data-img"},[i("div",{staticClass:"content"},[i("img",{attrs:{src:e("9485"),alt:""}}),i("p",{staticClass:"no-data-text"},[t._v(" "+t._s(t.$t("public.noData"))+" ")])])])]),i("div",{staticClass:"centerPoint"},[t._v(" "+t._s(t.$t("lossAnalysis.unit")+t.$t("symbols.colon")+t.chartInfo.unit)+" ")]),i("div",{staticClass:"step-select"},[i("span",{staticClass:"step-select-info"},[t._v(t._s(t.$t("lossAnalysis.intervalRange")))]),i("el-select",{attrs:{placeholder:t.$t("public.select")},on:{change:t.stepChange},model:{value:t.steps.value,callback:function(a){t.$set(t.steps,"value",a)},expression:"steps.value"}},t._l(t.steps.options,(function(t,a){return i("el-option",{key:a,attrs:{label:t.label,value:t.label}})})),1)],1)]),i("div",{staticClass:"chart-setting"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("lossAnalysis.visualSettings"))+" "),i("span",{staticClass:"el-icon-refresh-right right-icon",on:{click:t.configRefresh}})]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.activeTab===t.CONTOUR,expression:"activeTab === CONTOUR"}],staticClass:"setting-detail"},[i("div",{staticClass:"setting-item"},[i("div",{staticClass:"label"},[t._v(t._s(t.$t("lossAnalysis.mapColorSelection")))]),i("div",{staticClass:"content"},[i("el-select",{attrs:{placeholder:t.$t("public.select")},on:{change:t.onContourColorsChange},model:{value:t.contourSetting.colorsIndex,callback:function(a){t.$set(t.contourSetting,"colorsIndex",a)},expression:"contourSetting.colorsIndex"}},t._l(t.colorOptions,(function(t){return i("el-option",{key:t.label,attrs:{label:t.label,value:t.value}})})),1)],1)]),i("div",{staticClass:"setting-item"},[i("div",{staticClass:"label"},[t._v(t._s(t.$t("lossAnalysis.pathCurve")))]),i("div",{staticClass:"content"},[i("el-color-picker",{attrs:{size:"mini"},on:{change:function(a){return t.onPathStyleChange(t.CONTOUR)}},model:{value:t.contourSetting.pathColor,callback:function(a){t.$set(t.contourSetting,"pathColor",a)},expression:"contourSetting.pathColor"}}),i("div",{staticClass:"tip"},[t._v(t._s(t.$t("lossAnalysis.lineColor")))]),i("el-select",{staticClass:"line-width",on:{change:function(a){return t.onPathStyleChange(t.CONTOUR)}},model:{value:t.contourSetting.pathWidth,callback:function(a){t.$set(t.contourSetting,"pathWidth",a)},expression:"contourSetting.pathWidth"}},t._l(t.lineWidthOptions,(function(t){return i("el-option",{key:t,attrs:{label:t,value:t}})})),1),i("div",{staticClass:"tip"},[t._v(t._s(t.$t("lossAnalysis.lineWidth")))])],1)]),i("div",{staticClass:"setting-item"},[i("div",{staticClass:"line-num-title"},[t._v(t._s(t.$t("lossAnalysis.setLineNum")))]),i("el-select",{staticClass:"line-select-style",attrs:{placeholder:t.$t("public.select")},on:{change:function(a){return t.onContoursNumberChange(t.CONTOUR)}},model:{value:t.contourSetting.contoursNumber,callback:function(a){t.$set(t.contourSetting,"contoursNumber",a)},expression:"contourSetting.contoursNumber"}},t._l(t.mapLineNumoptions,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.activeTab===t.TOPOGRAPHIC,expression:"activeTab === TOPOGRAPHIC"}],staticClass:"setting-detail"},[i("div",{staticClass:"setting-item"},[i("div",{staticClass:"label"},[t._v(t._s(t.$t("lossAnalysis.mapColorSelection")))]),i("div",{staticClass:"content"},[i("el-select",{attrs:{placeholder:t.$t("public.select")},on:{change:t.onContourColorsChange},model:{value:t.topographicSetting.colorsIndex,callback:function(a){t.$set(t.topographicSetting,"colorsIndex",a)},expression:"topographicSetting.colorsIndex"}},t._l(t.colorOptions,(function(t){return i("el-option",{key:t.label,attrs:{label:t.label,value:t.value}})})),1)],1)]),i("div",{staticClass:"setting-item"},[i("div",{staticClass:"label"},[t._v(t._s(t.$t("lossAnalysis.pathCurve")))]),i("div",{staticClass:"content"},[i("el-color-picker",{attrs:{size:"mini"},on:{change:function(a){return t.onPathStyleChange(t.TOPOGRAPHIC)}},model:{value:t.topographicSetting.pathColor,callback:function(a){t.$set(t.topographicSetting,"pathColor",a)},expression:"topographicSetting.pathColor"}}),i("div",{staticClass:"tip"},[t._v(t._s(t.$t("lossAnalysis.lineColor")))]),i("el-select",{staticClass:"line-width",on:{change:function(a){return t.onPathStyleChange(t.TOPOGRAPHIC)}},model:{value:t.topographicSetting.pathWidth,callback:function(a){t.$set(t.topographicSetting,"pathWidth",a)},expression:"topographicSetting.pathWidth"}},t._l(t.lineWidthOptions,(function(t){return i("el-option",{key:t,attrs:{label:t,value:t}})})),1),i("div",{staticClass:"tip"},[t._v(t._s(t.$t("lossAnalysis.lineWidth")))])],1)]),i("div",{staticClass:"setting-item"},[i("div",{staticClass:"line-num-title"},[t._v(t._s(t.$t("lossAnalysis.setLineNum")))]),i("el-select",{staticClass:"line-select-style",attrs:{placeholder:t.$t("public.select")},on:{change:function(a){return t.onContoursNumberChange(t.TOPOGRAPHIC)}},model:{value:t.topographicSetting.contoursNumber,callback:function(a){t.$set(t.topographicSetting,"contoursNumber",a)},expression:"topographicSetting.contoursNumber"}},t._l(t.mapLineNumoptions,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:"threeDiagram"===t.activeTab,expression:"activeTab === 'threeDiagram'"}],staticClass:"setting-detail"},[i("div",{staticClass:"setting-item mini"},[i("div",{staticClass:"label"},[t._v(t._s(t.$t("lossAnalysis.surfaceTransparency")))]),i("div",{staticClass:"content"},[i("div",{staticClass:"slider-label"}),i("el-slider",{staticClass:"slider",attrs:{min:t.sliderOptions.startStep,max:t.sliderOptions.endOpacity,step:t.sliderOptions.commStep},on:{input:t.diagramSettingChange},model:{value:t.diagram3DSetting.opacity,callback:function(a){t.$set(t.diagram3DSetting,"opacity",a)},expression:"diagram3DSetting.opacity"}}),i("div",{staticClass:"slider-value"},[t._v(t._s(t.diagram3DSetting.opacity))])],1)]),i("div",{staticClass:"setting-item mini"},[i("div",{staticClass:"label"},[t._v(t._s(t.$t("lossAnalysis.lightIntensity")))]),i("div",{staticClass:"content"},[i("div",{staticClass:"slider-label"}),i("el-slider",{staticClass:"slider",attrs:{min:t.sliderOptions.startStep,max:t.sliderOptions.endIntensity,step:t.sliderOptions.commStep},on:{input:t.diagramSettingChange},model:{value:t.diagram3DSetting.light.intensity,callback:function(a){t.$set(t.diagram3DSetting.light,"intensity",a)},expression:"diagram3DSetting.light.intensity"}}),i("div",{staticClass:"slider-value"},[t._v(t._s(t.diagram3DSetting.light.intensity))])],1)]),i("div",{staticClass:"setting-item mini"},[i("div",{staticClass:"label vertical-top"},[t._v(t._s(t.$t("lossAnalysis.illuminationPoint")))]),i("div",{staticClass:"content"},[i("div",{staticClass:"slider-label"},[t._v(t._s(t.$t("lossAnalysis.alpha")))]),i("el-slider",{staticClass:"slider",attrs:{min:t.sliderOptions.startAngle,max:t.sliderOptions.endAngle,step:t.sliderOptions.angleStep},on:{input:t.diagramSettingChange},model:{value:t.diagram3DSetting.light.alpha,callback:function(a){t.$set(t.diagram3DSetting.light,"alpha",a)},expression:"diagram3DSetting.light.alpha"}}),i("div",{staticClass:"slider-value"},[t._v(t._s(t.diagram3DSetting.light.alpha))]),i("div",{staticClass:"slider-label"},[t._v(t._s(t.$t("lossAnalysis.beta")))]),i("el-slider",{staticClass:"slider",attrs:{min:t.sliderOptions.startAngle,max:t.sliderOptions.endAngle,step:t.sliderOptions.angleStep},on:{input:t.diagramSettingChange},model:{value:t.diagram3DSetting.light.beta,callback:function(a){t.$set(t.diagram3DSetting.light,"beta",a)},expression:"diagram3DSetting.light.beta"}}),i("div",{staticClass:"slider-value"},[t._v(t._s(t.diagram3DSetting.light.beta))])],1)]),i("div",{staticClass:"setting-item mini"},[i("div",{staticClass:"label"},[t._v(t._s(t.$t("lossAnalysis.cameraPosition")))]),i("div",{staticClass:"content"},[i("div",{staticClass:"param"},[t._v("x"+t._s(t.$t("symbols.colon")+t.diagramViewInfo.eye.x))]),i("div",{staticClass:"param"},[t._v("y"+t._s(t.$t("symbols.colon")+t.diagramViewInfo.eye.y))]),i("div",{staticClass:"param"},[t._v("z"+t._s(t.$t("symbols.colon")+t.diagramViewInfo.eye.z))])])]),i("div",{staticClass:"setting-item mini"},[i("div",{staticClass:"label"},[t._v(t._s(t.$t("lossAnalysis.cameraRotationAngle")))]),i("div",{staticClass:"content"},[i("div",{staticClass:"param"},[t._v(t._s(t.$t("lossAnalysis.alpha")+t.$t("symbols.colon")+t.diagramViewInfo.angle.alpha))]),i("div",{staticClass:"param"},[t._v(t._s(t.$t("lossAnalysis.beta")+t.$t("symbols.colon")+t.diagramViewInfo.angle.beta))]),i("div",{staticClass:"param"},[t._v(t._s(t.$t("lossAnalysis.distance")+t.$t("symbols.colon")+t.diagramViewInfo.angle.distance))])])]),i("div",{staticClass:"setting-item"},[i("div",{staticClass:"label"},[t._v(t._s(t.$t("lossAnalysis.mapColorSelection")))]),i("div",{staticClass:"content"},[i("el-select",{attrs:{placeholder:t.$t("public.select")},on:{change:t.diagramSettingChange},model:{value:t.diagram3DSetting.surface.colorScaleIndex,callback:function(a){t.$set(t.diagram3DSetting.surface,"colorScaleIndex",a)},expression:"diagram3DSetting.surface.colorScaleIndex"}},t._l(t.colorOptions,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),i("div",{staticClass:"setting-item"},[i("div",{staticClass:"label"},[t._v(t._s(t.$t("lossAnalysis.pathCurve")))]),i("div",{staticClass:"content"},[i("el-color-picker",{attrs:{size:"mini"},on:{change:t.diagramSettingChange},model:{value:t.diagram3DSetting.line.color,callback:function(a){t.$set(t.diagram3DSetting.line,"color",a)},expression:"diagram3DSetting.line.color"}}),i("div",{staticClass:"tip"},[t._v(t._s(t.$t("lossAnalysis.lineColor")))]),i("el-select",{staticClass:"line-width",on:{change:t.diagramSettingChange},model:{value:t.diagram3DSetting.line.width,callback:function(a){t.$set(t.diagram3DSetting.line,"width",a)},expression:"diagram3DSetting.line.width"}},t._l(t.chartSetting.isopleth.lineWidth.options,(function(t){return i("el-option",{key:t,attrs:{label:t,value:t}})})),1),i("div",{staticClass:"tip"},[t._v(t._s(t.$t("lossAnalysis.lineWidth")))])],1)])])]),i("div",{staticClass:"chart-info"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("lossAnalysis.basicTrainingInfo"))+" "),i("el-tooltip",{attrs:{placement:"bottom-end",effect:"light"}},[i("div",{staticClass:"tooltip-container",attrs:{slot:"content"},slot:"content"},[i("div",{staticClass:"cl-title-tip"},[i("div",{staticClass:"tip-part"},[t._v(" "+t._s(t.$t("lossAnalysis.basicTrainingTip"))+" ")])])]),i("i",{staticClass:"el-icon-info"})])],1),i("div",{staticClass:"chart-info-item"},[i("div",{staticClass:"chart-info-item-left"},[t._v(t._s(t.$t("lossAnalysis.network"))+t._s(t.$t("symbols.colon")))]),i("div",{staticClass:"chart-info-item-right"},[t._v(t._s(t.chartInfo.network||"--"))])]),i("div",{staticClass:"chart-info-item"},[i("div",{staticClass:"chart-info-item-left"},[t._v(t._s(t.$t("lossAnalysis.optimizer"))+t._s(t.$t("symbols.colon")))]),i("div",{staticClass:"chart-info-item-right"},[t._v(t._s(t.chartInfo.optimizer||"--"))])]),i("div",{staticClass:"chart-info-item"},[i("div",{staticClass:"chart-info-item-left"},[t._v(t._s(t.$t("lossAnalysis.learning_rate"))+t._s(t.$t("symbols.colon")))]),i("div",{staticClass:"chart-info-item-right"},[t._v(t._s(isNaN(t.chartInfo.learning_rate)||null===t.chartInfo.learning_rate?"--":t.chartInfo.learning_rate))])]),i("div",{staticClass:"chart-info-item"},[i("div",{staticClass:"chart-info-item-left"},[t._v(t._s(t.$t("lossAnalysis.decomposition"))+t._s(t.$t("symbols.colon")))]),i("div",{staticClass:"chart-info-item-right"},[t._v(t._s(t.chartInfo.decomposition||"--"))])]),i("div",{staticClass:"chart-info-item"},[i("div",{staticClass:"chart-info-item-left"},[t._v(t._s(t.$t("lossAnalysis.ratio"))+t._s(t.$t("symbols.colon")))]),i("div",{staticClass:"chart-info-item-right"},[t._v(t._s(t.chartInfo.ratio||"--"))])]),i("div",{staticClass:"chart-info-item"},[i("div",{staticClass:"chart-info-item-left"},[t._v(t._s(t.$t("lossAnalysis.step_per_epoch"))+t._s(t.$t("symbols.colon")))]),i("div",{staticClass:"chart-info-item-right"},[t._v(t._s(t.chartInfo.step_per_epoch?t.chartInfo.step_per_epoch+"/1":"--"))])])])])])])},s=[],n=(e("99af"),e("cb29"),e("d81d"),e("fb6a"),e("b0c0"),e("e9c4"),e("a9e3"),e("b680"),e("b64b"),e("d3b7"),e("25f0"),e("159b"),e("3778")),l=e("9fac"),o=e("2008"),r=e("f633"),c=e("2dd7"),d="contour",h="topographic",p="threeDiagram",u={data:function(){return{activeTab:p,CONTOUR:d,TOPOGRAPHIC:h,THREED:p,trainInfo:{id:"",path:""},initOver:!1,oriData:{},resizeTimer:null,colorOptions:c["a"].colorOptions,chartOption:{},chartObj:null,steps:{options:[],value:"",id:""},chartSetting:{isopleth:{color:"black",lineWidth:{options:[1,2,3,4,5],value:1}},reliefMap:{}},mapContour:"lines",mapTopographic:"",firstIsopleth:!0,firstReliefMap:!0,mapbtnShow:{playBtnShow:!0,downloadBtn:!0,fitScreenBtn:!0,fullScreenBtn:!0,topBtnShow:!0,noBoxSelect:!1},pathColor:"#00a5a7",pathStyle:{lineColor:"#000",lineWidth:"5"},mapStyle:{showColorBar:!0,mapColor:c["a"].lossColorscale[0]},isoplethColorData:{colorValue:0,pathColor:"#000",lineWidthValue:5},lineWidthOptions:[1,2,3,4,5],reliefMapColorData:{colorValue:0,pathColor:"#000",lineWidthValue:5},colorscaleList:c["a"].lossColorscale,diagramSliderChangeTimer:null,sliderOptions:{startAngle:-180,endAngle:180,angleStep:1,endOpacity:1,commStep:.1,endIntensity:2,startStep:0,endStepMin:1,endStepmid:4,perStepMin:.01},diagramConfigOptions:{cameraInfo:!0,download:!0,fit:!0,fullScreen:!0,playButton:!0,colorBar:!0},diagram3DSetting:{camera:JSON.parse(JSON.stringify(c["a"].lossCommonStyle.camera)),light:JSON.parse(JSON.stringify(c["a"].lossCommonStyle.light)),line:JSON.parse(JSON.stringify(c["a"].lossCommonStyle.line)),opacity:JSON.parse(JSON.stringify(c["a"].lossCommonStyle.opacity)),surface:{colorscale:JSON.parse(JSON.stringify(c["a"].lossColorscale[0])),colorScaleIndex:0}},diagramViewInfo:{eye:{x:c["a"].lossCommonStyle.camera.centerX,y:c["a"].lossCommonStyle.camera.centerY,z:c["a"].lossCommonStyle.camera.centerZ},angle:{alpha:0,beta:0,distance:0}},chartInfo:{decomposition:"",learning_rate:"",network:"",optimizer:"",ratio:"",unit:"",step_per_epoch:""},isFullScreen:!1,threeDiagramSetting:{needResize:!1,dataChanged:!1},contourSetting:{needResize:!1,dataChanged:!1,unit:"",type:d,pathColor:"#000000",pathWidth:5,contoursNumber:10,colorsIndex:0,contourColors:c["a"].lossColorscale[0]},topographicSetting:{needResize:!1,dataChanged:!1,unit:"",type:h,pathColor:"#000000",pathWidth:5,contoursNumber:10,colorsIndex:0,contourColors:c["a"].lossColorscale[0]},mapLineNumoptions:new Array(15).fill(null).map((function(t,a){var e=5*(a+2);return{value:e,label:e}}))}},mounted:function(){var t=this,a=this.$route.query.train_id;if(!a)return this.$message.error(this.$t("trainingDashboard.invalidId")),void(document.title="".concat(this.$t("lossAnalysis.titleText"),"-MindInsight"));document.title="".concat(a,"-").concat(this.$t("lossAnalysis.titleText"),"-MindInsight"),this.trainInfo.id=a,this.$nextTick((function(){t.init()})),window.addEventListener("resize",this.resizeCallback)},destroyed:function(){window.removeEventListener("resize",this.resizeCallback)},methods:{init:function(){this.getEpochIntervals()},backToManage:function(){this.$router.push({path:"/train-manage/training-dashboard",query:{id:this.trainInfo.id}})},getEpochIntervals:function(){var t=this,a=this.trainInfo.id,e={train_id:a};n["a"].queryEpochIntervals(e).then((function(e){if(e.data){var i=e.data.intervals;if(Array.isArray(i)&&i.length){i.forEach((function(t){var a="".concat(t.value[0],"-").concat(t.value[1]);t.label=a})),t.steps.options=i,t.steps.value=i[0].label,t.steps.id=i[0].id;var s={train_id:a,type:"interval",metadata:!0,interval_id:t.steps.id};t.getDataOfLossGraph(s),t.initCommonChart()}}else t.initOver=!0}),(function(){t.initOver=!0,t.steps.value="",t.steps.id="",t.steps.options=[],t.chartObj&&(t.chartObj.clear(),t.chartObj=null),t.chartOption={},t.chartInfo={}}))},getDataOfLossGraph:function(t){var a=this;n["a"].queryLossGraph(t).then((function(t){if(t&&t.data){if(t.data.landscapes&&t.data.landscapes.length){if(t.data.landscapes[0].error_code)return void a.$message.error(a.$t("error."+t.data.landscapes[0].error_code));var e=JSON.parse(JSON.stringify(t.data.landscapes[0]));e.convergence_point&&(e.convergence_point=null);var i="";for(var s in e.points)e.points.hasOwnProperty(s)&&(i+=e.points[s].length+"x");i=i.slice(0,-1),a.oriData=e,a.chartInfo=e.metadata,a.chartInfo.ratio=i;var n=e.metadata.unit;a.contourSetting.unit=n,a.topographicSetting.unit=n,a.$nextTick((function(){a.chartOption.series&&(a.formatMarkArea(a.chartOption.series[0]),a.chartObj.setOption(a.chartOption,!1)),a.updateTabsChart()}))}}else a.initOver=!0}),(function(t){a.oriData={},a.chartInfo={},a.initOver=!0}))},resizeTabChart:function(){var t=this,a=this.activeTab;[d,h,p].forEach((function(e){e===a?t.$refs[a].resize():t["".concat(e,"Setting")].needResize=!0}))},resizeCallback:function(){var t=this;this.resizeTimer&&clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout((function(){t.resizeTabChart(),t.resizeTimer=null}),300)},handleFullScreen:function(){var t=this;this.isFullScreen=!this.isFullScreen,this.$nextTick((function(){t.resizeTabChart()}))},updateTabChart:function(t){var a=this["".concat(t,"Setting")];t===p?this.$refs[t].updateView():this.$refs[t].handleDataChange(this.oriData,a),a.dataChanged=!1},updateTabsChart:function(){var t=this,a=this.activeTab;[d,h,p].forEach((function(e){e===a?t.updateTabChart(a):t["".concat(e,"Setting")].dataChanged=!0}))},tabClick:function(t){var a=this,e=t.name,i=this["".concat(e,"Setting")];this.$nextTick((function(){i.needResize&&(a.$refs[e].resize(),i.needResize=!1),i.dataChanged&&(a.$nextTick((function(){a.updateTabChart(e)})),i.dataChanged=!1)}))},onContourColorsChange:function(t){var a=this.activeTab,e=this["".concat(a,"Setting")];e.contourColors=c["a"].lossColorscale[t],this.$refs[a].handleContourColorsChange(e)},onPathStyleChange:function(t){this.$refs[t].handlePathStyleChange(this["".concat(t,"Setting")])},onContoursNumberChange:function(t){this.$refs[t].handleContoursNumberChange(this["".concat(t,"Setting")])},formatMarkArea:function(t){var a=this.steps.value,e=a.split("-"),i=[[{name:this.$t("lossAnalysis.selectedInterval"),xAxis:"step"===this.chartInfo.unit?e[0]:Number(e[0])*this.chartInfo.step_per_epoch},{name:this.$t("lossAnalysis.selectedInterval"),xAxis:"step"===this.chartInfo.unit?e[1]:Number(e[1])*this.chartInfo.step_per_epoch}]];return t.markArea={itemStyle:{color:"red",borderWidth:1,opacity:.2},data:i},t},formatChartOption:function(t){var a=[],e=t,i={name:this.trainInfo.id,data:[],type:"line",showSymbol:!1};i.data=e.valueData["stepData"],this.formatMarkArea(i),a.push(i);var s=this,n={legend:{show:!1},xAxis:{name:this.$t("lossAnalysis.trainingStep"),type:"value",show:!0,scale:!0,nameGap:6,minInterval:1,axisLine:{lineStyle:{width:2}},axisLabel:{interval:0,rotate:90,formatter:function(t){var a=Math.abs(t);return a.toString().length>6?t.toExponential(0):t>=1e3||t<=-1e3?parseFloat((t/1e3).toFixed(2))+"k":t>0?t:parseFloat(t.toFixed(3))}}},yAxis:{name:this.$t("lossAnalysis.lossValue"),type:"value",scale:!0,axisLine:{lineStyle:{width:2}},nameTextStyle:{padding:[0,0,7,0]},axisLabel:{formatter:function(t){var a=Math.abs(t);return a.toString().length>6?t.toExponential(4):t>=1e3||t<=-1e3?parseFloat((t/1e3).toFixed(2))+"k":t>0?t:parseFloat(t.toFixed(3))}}},grid:{top:40,left:50,right:60,bottom:40},animation:!0,tooltip:{trigger:"axis",confine:!0,axisPointer:{type:"line"},formatter:function(t){var a='<table class="char-tip-table" class="borderspacing3"><tr><td></td>'+"<td>".concat(s.$t("scalar.charTipHeadName"),"</td>")+"<td>".concat(s.$t("scalar.charTipHeadValue"),"</td>")+"<td>".concat(s.$t("scalar.step"),"</td>")+"</tr>",i="",n=[],l=[],o=null,r=0;if(t.forEach((function(t){var a=!0,c=e.valueData;if(null===o)o=c.stepData[t.dataIndex][0];else if(c.stepData[t.dataIndex][0]===o){var d=[];n.forEach((function(a,e){t.seriesName===a&&d.push(e)})),d.length&&d.forEach((function(e){l[e]&&l[e].value===c.stepData[t.dataIndex][1]&&(a=!1)}))}else a=!1;a&&(r++,n.push(t.seriesName),l.push({value:c.stepData[t.dataIndex][1],step:c.stepData[t.dataIndex][0],dataIndex:t.dataIndex}),i+='<tr><td style="border-radius:50%;width:15px;height:15px;vertical-align: middle;'+"margin-right: 5px;background-color:".concat(t.color,";")+'display:inline-block;"></td><td>'.concat(t.seriesName,"</td>")+"<td>".concat(s.formatYAxisValue(c.stepData[t.dataIndex][1]),"</td>")+"<td>".concat(c.stepData[t.dataIndex][0],"</td>")+"</tr>")})),r)return a+i+"</table>"}},series:a};return n},formatYAxisValue:function(t){if(!t)return t;var a=Math.abs(t);return a.toString().length>6?t.toExponential(4):t>0?t:parseFloat(t.toFixed(3))},updateOrCreateChart:function(t){var a=this;this.chartObj=l["a"].init(document.getElementById("commonChart"),l["b"]),this.chartOption=t,this.$nextTick((function(){a.chartObj.setOption(a.chartOption,!0),a.chartObj.resize()}))},initCommonChart:function(){var t=this,a={train_id:this.trainInfo.id,tag:"loss/auto/scalar"};n["a"].getScalarsSample(a).then((function(a){if(a&&a.data){var e=a.data,i={valueData:{stepData:[]}};e.metadatas.forEach((function(t){i.valueData.stepData.push([t.step,t.value])}));var s=i,n=t.formatChartOption(s);t.updateOrCreateChart(n)}}),(function(a){t.chartObj&&(t.chartObj.clear(),t.chartObj=null),t.chartOption={},t.chartInfo={}}))},stepChange:function(t){var a=this;if(this.steps.options.some((function(e){if(t===e.label)return a.steps.id=e.id})),this.chartObj){var e={train_id:this.trainInfo.id,type:"interval",metadata:!0,interval_id:this.steps.id};this.getDataOfLossGraph(e)}},configRefresh:function(){var t=this.activeTab;if(t===p){var a=JSON.parse(JSON.stringify(c["a"].lossCommonStyle)),e=this.diagram3DSetting;e.camera=a.camera,e.light=a.light,e.line=a.line,e.opacity=a.opacity,e.surface.colorScaleIndex=0,e.surface.colorscale=c["a"].lossColorscale[0];var i=this.$refs[p];i&&i.restyleView(!0)}else{var s=this["".concat(t,"Setting")];s.colorsIndex=0,s.pathColor="#000000",s.pathWidth=5,s.contoursNumber=10,s.contourColors=c["a"].lossColorscale[s.colorsIndex],this.$refs[t].handleDataChange(this.oriData,s)}},diagramViewInfoChange:function(t){this.diagramViewInfo=t},diagramSettingChange:function(){var t=this;this.diagramSliderChangeTimer&&(clearTimeout(this.diagramSliderChangeTimer),this.diagramSliderChangeTimer=null),this.diagram3DSetting.surface.colorscale=c["a"].lossColorscale[this.diagram3DSetting.surface.colorScaleIndex],this.diagramSliderChangeTimer=setTimeout((function(){var a=t.$refs[p];a&&a.restyleView()}),300)}},components:{contourMap:o["a"],diagram3D:r["a"]}},g=u,v=(e("51fb"),e("2877")),m=Object(v["a"])(g,i,s,!1,null,null,null);a["default"]=m.exports}}]);