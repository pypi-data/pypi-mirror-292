(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eda7da24"],{"06c5":function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));i("a630"),i("fb6a"),i("b0c0"),i("d3b7"),i("ac1f"),i("00b4"),i("25f0"),i("3ca3");var n=i("6b75");function a(t,e){if(t){if("string"==typeof t)return Object(n["a"])(t,e);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Object(n["a"])(t,e):void 0}}},1148:function(t,e,i){"use strict";var n=i("a691"),a=i("1d80");t.exports="".repeat||function(t){var e=String(a(this)),i="",r=n(t);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(i+=e);return i}},3835:function(t,e,i){"use strict";function n(t){if(Array.isArray(t))return t}i.d(e,"a",(function(){return s}));i("e01a"),i("d28b"),i("e260"),i("d3b7"),i("3ca3"),i("ddb0");function a(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,a,r,o,s=[],c=!0,p=!1;try{if(r=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;c=!1}else for(;!(c=(n=r.call(i)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){p=!0,a=t}finally{try{if(!c&&null!=i["return"]&&(o=i["return"](),Object(o)!==o))return}finally{if(p)throw a}}return s}}var r=i("06c5");function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t,e){return n(t)||a(t,e)||Object(r["a"])(t,e)||o()}},"408a":function(t,e,i){var n=i("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=n(t))throw TypeError("Incorrect invocation");return+t}},"4df4":function(t,e,i){"use strict";var n=i("0366"),a=i("7b0b"),r=i("9bdd"),o=i("e95a"),s=i("50c4"),c=i("8418"),p=i("35a1");t.exports=function(t){var e,i,u,l,f,h,d=a(t),v="function"==typeof this?this:Array,g=arguments.length,m=g>1?arguments[1]:void 0,C=void 0!==m,b=p(d),_=0;if(C&&(m=n(m,g>2?arguments[2]:void 0,2)),void 0==b||v==Array&&o(b))for(e=s(d.length),i=new v(e);e>_;_++)h=C?m(d[_],_):d[_],c(i,_,h);else for(l=b.call(d),f=l.next,i=new v;!(u=f.call(l)).done;_++)h=C?r(l,m,[u.value,_],!0):u.value,c(i,_,h);return i.length=_,i}},"4e8a":function(t,e,i){"use strict";i("b3d7")},"5e89":function(t,e,i){var n=i("861d"),a=Math.floor;t.exports=function(t){return!n(t)&&isFinite(t)&&a(t)===t}},"60da":function(t,e,i){"use strict";var n=i("83ab"),a=i("d039"),r=i("df75"),o=i("7418"),s=i("d1e7"),c=i("7b0b"),p=i("44ad"),u=Object.assign,l=Object.defineProperty;t.exports=!u||a((function(){if(n&&1!==u({b:1},u(l({},"a",{enumerable:!0,get:function(){l(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},i=Symbol(),a="abcdefghijklmnopqrst";return t[i]=7,a.split("").forEach((function(t){e[t]=t})),7!=u({},t)[i]||r(u({},e)).join("")!=a}))?function(t,e){var i=c(t),a=arguments.length,u=1,l=o.f,f=s.f;while(a>u){var h,d=p(arguments[u++]),v=l?r(d).concat(l(d)):r(d),g=v.length,m=0;while(g>m)h=v[m++],n&&!f.call(d,h)||(i[h]=d[h])}return i}:u},"6b75":function(t,e,i){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=Array(e);i<e;i++)n[i]=t[i];return n}i.d(e,"a",(function(){return n}))},8366:function(t,e,i){"use strict";i.r(e);var n,a,r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cpu-utilization-wrap"},[n("div",{class:["profiling-content-title"+(t.isGPU?"-gpu":"")]},[t._v(t._s(t.$t("profiling.cpuUtilization")))]),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.cpuInfo.noData,expression:"!cpuInfo.noData"}],staticClass:"cpu-info"},[n("div",{staticClass:"step-filter"},[n("label",[t._v(t._s(t.cpuInfo.stepTip))]),n("label",[t._v(t._s(t.$t("profiling.startStep")))]),n("el-input",{staticClass:"step-input",model:{value:t.cpuInfo.startStep.showStep,callback:function(e){t.$set(t.cpuInfo.startStep,"showStep",t._n(e))},expression:"cpuInfo.startStep.showStep"}}),n("label",[t._v(t._s(t.$t("profiling.endStep")))]),n("el-input",{staticClass:"step-input",model:{value:t.cpuInfo.endStep.showStep,callback:function(e){t.$set(t.cpuInfo.endStep,"showStep",t._n(e))},expression:"cpuInfo.endStep.showStep"}}),n("el-button",{on:{click:t.viewStepFilter}},[t._v(t._s(t.$t("profiling.filterStep")))]),n("el-button",{on:{click:t.resetStepFilter}},[t._v(t._s(t.$t("profiling.resetStep")))])],1),n("div",{staticClass:"cpu-detail"},[n("div",{staticClass:"cpu-detail-item"},[n("div",{staticClass:"detail-item-title"},[t._v(t._s(t.$t("profiling.structuralCpuUtil")))]),n("div",{staticClass:"detail-item"},[n("div",{ref:"deviceCpuChart",staticClass:"cpu-chart",attrs:{id:"deviceCpuChart"}}),n("div",{staticClass:"cpu-chart-info"},[n("div",{staticClass:"info-line"},[n("span",[t._v(t._s(t.$t("profiling.logicCores")))]),n("span",[t._v(t._s(t.deviceCpuChart.logicCores))])]),n("div",{staticClass:"info-line"},[n("span",[t._v(t._s(t.$t("profiling.avgUserUtilization")))]),n("span",[t._v(t._s(t.addPercentSign(t.deviceCpuChart.cpuAvgUser)))])]),n("div",{staticClass:"info-line"},[n("span",[t._v(t._s(t.$t("profiling.avgSysUtilization")))]),n("span",[t._v(t._s(t.addPercentSign(t.deviceCpuChart.cpuAvgSystem)))])]),n("div",{staticClass:"info-line"},[n("span",[t._v(t._s(t.$t("profiling.avgIOUtilization")))]),n("span",[t._v(t._s(t.addPercentSign(t.deviceCpuChart.cpuAvgIO)))])]),n("div",{staticClass:"info-line"},[n("span",[t._v(t._s(t.$t("profiling.avgIdleUtilization")))]),n("span",[t._v(t._s(t.addPercentSign(t.deviceCpuChart.cpuAvgFree)))])]),n("div",{staticClass:"info-line"},[n("span",[t._v(t._s(t.$t("profiling.avgWaitingProcess")))]),n("span",[t._v(t._s(t.deviceCpuChart.cpuAvgProcess))])]),n("div",{staticClass:"info-line"},[n("span",[t._v(t._s(t.$t("profiling.avgSwitchCount")))]),n("span",[t._v(t._s(t.deviceCpuChart.cpuAvgSwitch))])])])])]),n("div",{staticClass:"cpu-detail-item cpu-detail-item-top"},[n("div",{staticClass:"detail-item-title"},[t._v(t._s(t.$t("profiling.processCpuUtil")))]),n("div",{staticClass:"detail-item"},[n("div",{ref:"processCpuChart",staticClass:"cpu-chart",attrs:{id:"processCpuChart"}}),n("div",{staticClass:"cpu-chart-info"},[n("div",{staticClass:"info-line"},[n("span",[t._v(t._s(t.$t("profiling.avgUserUtilization")))]),n("span",[t._v(t._s(t.addPercentSign(t.processCpuChart.cpuAvgUser)))])]),n("div",{staticClass:"info-line"},[n("span",[t._v(t._s(t.$t("profiling.avgSysUtilization")))]),n("span",[t._v(t._s(t.addPercentSign(t.processCpuChart.cpuAvgSystem)))])])])])]),n("div",{staticClass:"cpu-detail-item cpu-detail-item-top"},[n("div",{staticClass:"detail-item-title"},[t._v(t._s(t.$t("profiling.operatorCpuUtil")))]),n("div",{staticClass:"detail-item-graph",attrs:{id:"operator-graph"}}),n("div",{staticClass:"detail-item"},[n("div",{ref:"operatorCpuChart",staticClass:"cpu-chart",attrs:{id:"operatorCpuChart"}}),n("div",{staticClass:"cpu-chart-info"},[n("div",{staticClass:"info-title"},[t._v(" "+t._s(t.$t("profiling.allOperators"))+" ")]),n("div",{staticClass:"info-line"},[n("span",[t._v(t._s(t.$t("profiling.avgUserUtilization")))]),n("span",[t._v(t._s(t.addPercentSign(t.operatorCpuChart.cpuAvgTotalUser)))])]),n("div",{staticClass:"info-line"},[n("span",[t._v(t._s(t.$t("profiling.avgSysUtilization")))]),n("span",[t._v(t._s(t.addPercentSign(t.operatorCpuChart.cpuAvgTotalSystem)))])]),n("div",{staticClass:"info-title"},[t._v(" "+t._s(t.$t("profiling.currentOperator"))+" ")]),n("div",{staticClass:"info-line"},[n("span",[t._v(t._s(t.$t("profiling.avgUserUtilization")))]),n("span",[t._v(t._s(t.addPercentSign(t.operatorCpuChart.cpuAvgOpUser)))])]),n("div",{staticClass:"info-line"},[n("span",[t._v(t._s(t.$t("profiling.avgSysUtilization")))]),n("span",[t._v(t._s(t.addPercentSign(t.operatorCpuChart.cpuAvgOpSystem)))])]),n("div",{staticClass:"info-line"},[n("span",[t._v(t._s(t.$t("profiling.workersNum"))+t._s(t.$t("symbols.colon")))]),n("span",[t._v(t._s(t.operatorCpuChart.processNumber))])])])])])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.cpuInfo.noData,expression:"cpuInfo.noData"}],staticClass:"image-noData"},[n("div",[n("img",{attrs:{src:i("9485"),alt:""}})]),n("p",[t._v(t._s(t.cpuInfo.initOver?t.$t("public.noData"):t.$t("public.dataLoading")))])])])},o=[],s=(i("99af"),i("c740"),i("a630"),i("caad"),i("a15b"),i("d81d"),i("b0c0"),i("8ba4"),i("cca6"),i("b64b"),i("d3b7"),i("2532"),i("3ca3"),i("159b"),i("9fac")),c=i("3778"),p={objectToDot:function(t){for(var e=Object.keys(t),i="",n="",a="",r="",o="",s=0;s<e.length;s++)switch(e[s]){case"nodes":var c=this.nodesToDot(t[e[s]]);n=c[0],r+=c[1];break;case"mix":var p=this.mixToDot(t[e[s]]);o=p[0],r+=p[1];break;case"subgraph":var u=this.subToDot(t[e[s]]);a=u[0],r+=u[1];break;default:i+=this.attrToDot(t[e[s]],e[s]);break}var l="digraph {".concat(i).concat(n).concat(a).concat(o).concat(r,"}");return l},subToDot:function(t){for(var e="",i="",n=0;n<t.length;n++){e+="subgraph <".concat(t[n].name,">{");for(var a=Object.keys(t[n]),r=0;r<a.length;r++)switch(a[r]){case"name":break;case"nodes":var o=this.nodesToDot(t[n].nodes);e+=o[0],i+=o[1];break;case"next":i+=this.nextToDot(t[n].next,t[n].name);break;default:e+="".concat(a[r],'="').concat(t[n][a[r]],'";')}e+="};"}return[e,i]},nextToDot:function(t,e){var i="";if(Array.isArray(t))for(var n=0;n<t.length;n++){var a=Object.keys(t[n]);i+="<".concat(e,">-><").concat(t[n].name,">[");for(var r=0;r<a.length;r++)"name"!==a[r]&&("<"===t[n][a[r]][0]?i+="".concat(a[r],"=").concat(t[n][a[r]],";"):i+="".concat(a[r],'="').concat(t[n][a[r]],'";'));i+="];"}else{var o=Object.keys(t);i+="<".concat(e,">-><").concat(t.name,">[");for(var s=0;s<o.length;s++)"name"!==o[s]&&("<"===t[o[s]][0]?i+="".concat(o[s],"=").concat(t[o[s]],";"):i+="".concat(o[s],'="').concat(t[o[s]],'";'));i+="];"}return i},attrToDot:function(t,e){var i=Object.keys(t);if(0!==i.length){if("total"===e){for(var n="",a=0;a<i.length;a++)n+="".concat(i[a],'="').concat(t[i[a]],'";');return n}for(var r="".concat(e,"["),o=0;o<i.length;o++)r+="".concat(i[o],'="').concat(t[i[o]],'";');return"".concat(r,"];")}},nodesToDot:function(t){for(var e="",i="",n=0;n<t.length;n++){var a=this.nodeToDot(t[n]);e+=a[0],i+=a[1]}return[e,i]},mixToDot:function(t){for(var e="",i="",n=0;n<t.length;n++){for(var a=Object.keys(t[n]),r="",o="",s=0;s<a.length;s++)if("nodes"===a[s]){var c=this.nodesToDot(t[n].nodes);o+=c[0],i+=c[1]}else r+="".concat(a[s],'="').concat(t[n][a[s]],'";');e+="{".concat(r).concat(o,"};")}return[e,i]},nodeToDot:function(t){for(var e="<".concat(t.name,">["),i="",n=Object.keys(t),a=0;a<n.length;a++)switch(n[a]){case"name":break;case"next":i+=this.nextToDot(t.next,t.name);break;default:e+="".concat(n[a],'="').concat(t[n[a]],'";');break}return e+="];",[e,i]}},u=p,l=i("2877"),f=Object(l["a"])(u,n,a,!1,null,null,null),h=f.exports,d=i("5698"),v=(i("6d21"),i("9944")),g={select:d["select"],selectAll:d["selectAll"],zoom:d["zoom"]},m={props:{rankID:String},data:function(){return{isGPU:this.$route.path.includes("profiling-gpu"),trainInfo:{id:this.$route.query.id,dir:this.$route.query.dir,path:this.$route.query.path},chartOptions:{grid:{left:60,top:40,right:70,bottom:60},dataZoom:[{start:0,end:100,bottom:0},{start:0,end:100,type:"inside",bottom:0}],color:["#c23531","#2f4554","#61a0a8","#d48265"]},deviceCpuChart:{id:"deviceCpuChart",chartDom:null,option:{tooltip:{trigger:"axis",formatter:null,confine:!0},legend:{right:70,top:8,data:[]},xAxis:{name:"",data:[]},yAxis:{name:this.$t("profiling.utilizationTitle"),type:"value",min:0,max:100,splitNumber:5},series:[]},logicCores:0,cpuAvgUser:0,cpuAvgSystem:0,cpuAvgIO:0,cpuAvgFree:0,cpuAvgProcess:0,cpuAvgSwitch:0},processCpuChart:{id:"processCpuChart",chartDom:null,option:{tooltip:{trigger:"axis",formatter:null,confine:!0},legend:{right:70,top:8,data:[]},xAxis:{name:"",data:[]},yAxis:{name:this.$t("profiling.utilizationTitle"),type:"value",min:0,max:100,splitNumber:5},series:[]},cpuAvgUser:0,cpuAvgSystem:0},operatorCpuChart:{id:"operatorCpuChart",chartDom:null,option:{tooltip:{trigger:"axis",formatter:null,confine:!0},legend:{right:70,top:8,data:[]},xAxis:{name:"",data:[]},yAxis:{name:this.$t("profiling.utilizationTitle"),type:"value",min:0,max:100,splitNumber:5},series:[]},opList:{},cpuAvgTotalUser:0,cpuAvgTotalSystem:0,cpuAvgOpUser:0,cpuAvgOpSystem:0,processNumber:0},cpuInfo:{initOver:!1,noData:!0,startStep:{step:"",showStep:""},endStep:{step:"",showStep:""},stepArray:[],step:0,stepTip:this.$t("profiling.cpuStepTip"),cpuStepInputTip:"",cpuInfoStr:{user_utilization:this.$t("profiling.userUtilization"),sys_utilization:this.$t("profiling.sysUtilization"),io_utilization:this.$t("profiling.ioUtilization"),idle_utilization:this.$t("profiling.idleUtilization")},samplingInterval:0},strokeBeforeClick:void 0,prevNode:void 0,prevGraph:void 0,operatorCPUList:[],selIndex:null,resizeDebounce:null}},watch:{rankID:{handler:function(t){Object(v["b"])(t)?(this.cpuInfo.startStep.showStep="",this.cpuInfo.startStep.step="",this.cpuInfo.endStep.showStep="",this.cpuInfo.endStep.step="",this.queryCpuInfo(!1,!0)):""===t&&(this.cpuInfo.initOver=!0,this.cpuInfo.noData=!0)},immediate:!0}},computed:{},created:function(){Object.assign(this.deviceCpuChart.option,this.chartOptions),Object.assign(this.processCpuChart.option,this.chartOptions),Object.assign(this.operatorCpuChart.option,this.chartOptions);var t=this.trainInfo.id;document.title=(t?t+"-":"")+"-MindInsight"},mounted:function(){var t=this;this.resizeDebounce=this.debounce(this.resizeCallback,200),window.addEventListener("resize",this.resizeDebounce,!1),setTimeout((function(){t.$bus.$on("collapse",t.debounce(t.resizeCallback,200))}),500)},methods:{addPercentSign:function(t){return 0===t||"0"===t?"0":"".concat(t,"%")},debounce:function(t,e){var i=null;return function(){i&&clearTimeout(i),i=setTimeout(t,e)}},init:function(){this.queryCpuInfo()},resizeCallback:function(){var t=this,e=["deviceCpuChart","processCpuChart","operatorCpuChart"];e.forEach((function(e){t[e].chartDom&&t[e].chartDom.resize()}))},initCPUGraph:function(){var t=this;return new Promise((function(e){var i={params:{train_id:t.trainInfo.id,profile:t.trainInfo.dir},body:{device_id:t.rankID}};c["a"].queryOpQueue(i).then((function(i){if(i.data&&i.data.object){var n=t.ensureDataOrder(i.data.object),a=t.processGraphData(n),r=h.objectToDot(a);t.initOperatorGraph(r).then((function(){var i=g.selectAll("g.node");t.addGraphEvent(i),t.updateGraphStyle(i),e(!0)}))}}))}))},ensureDataOrder:function(t){var e=this,i=[];return t.forEach((function(t){i[t[0]]=t,e.operatorCPUList[t[0]]="".concat(t[1],"_").concat(t[0])})),this.selIndex=i.findIndex((function(t){return null===t.parent_id||void 0===i[t.parent_id]})),i},processGraphData:function(t){var e={total:{compound:"true",rankdir:"LR",id:"operatorGraph",bgcolor:"transparent"},node:{style:"filled",fontsize:"10px"},edge:{fontsize:"6px",style:"filled",fillcolor:"#e6ebf5",color:"#e6ebf5"},nodes:[]},i={shape:"Mrecord",fillcolor:"#c6e2ff",color:"#c6e2ff"};return Array.isArray(t)&&t.forEach((function(n){var a="".concat(n[1],"_").concat(n[0]),r=Object.assign({name:a,id:a,label:a},i);if("number"===typeof n[6]){var o=n[6];r.next=[{name:"".concat(t[o][1],"_").concat(t[o][0])}]}e.nodes.push(r)})),e},initOperatorGraph:function(t){var e=this;return new Promise((function(i){g.select("#operator-graph").graphviz().height("100%").width("100%").fit(!0).dot(t).render((function(){e.initGraphDsiplay(),i(!0)}))}))},initGraphDsiplay:function(){var t=Array.from(document.querySelectorAll("#operator-graph .node")),e=t[0];e.setAttribute("class","node selected")},addGraphEvent:function(t){var e=this;t&&t.on("click",(function(i,n,a){e.clickEvent(a[n]),t.classed("selected",!1),g.select('g[id="'.concat(a[n].id,'"]')).classed("selected",!0)}),!1)},updateGraphStyle:function(t){t.attr("cursor","pointer")},clickEvent:function(t){if(this.prevGraph&&this.prevGraph.setAttribute("stroke",this.strokeBeforeClick),this.prevNode!==Node){this.prevNode=t;for(var e=t.children,i=0;i<e.length;i++)"path"===e[i].nodeName&&(this.prevGraph=e[i],this.strokeBeforeClick=e[i].getAttribute("stroke"),e[i].setAttribute("stroke","#409eff"));var n=t.id.split("_");this.selIndex=n[n.length-1],this.updateOperatorCpuChart(this.selIndex)}},queryCpuInfo:function(t,e){var i=this,n={params:{profile:this.trainInfo.dir,train_id:this.trainInfo.id},body:{device_id:this.rankID,filter_condition:{}}};t&&(n.body.filter_condition.start_step=this.cpuInfo.startStep.step,n.body.filter_condition.end_step=this.cpuInfo.endStep.step);var a=this.cpuInfo;a.initOver=!1,c["a"].getCpuUtilization(n).then((function(t){if(i.cpuInfo.initOver=!0,t&&t.data){var n=t.data,r=n.step_total_num;a.noData=!r,a.step=r,a.stepArray=n.step_info,a.stepTip=i.$t("profiling.cpuStepTip",{max:r}),a.cpuStepInputTip=i.$t("profiling.cpuStepInputTip",{max:r}),i.samplingInterval=n.sampling_interval,i.deviceCpuChart.logicCores=n.cpu_processor_num;var o=n.device_info,s=n.process_info,c=n.op_info;o&&s&&c&&i.samplingInterval?(i.initDeviceCpu(o),i.initProcessCpu(s),e?i.$nextTick((function(){i.initCPUGraph().then((function(){i.initOperatorCpu(c,!0)}))})):i.$nextTick((function(){i.initOperatorCpu(c,!1)}))):(i.clearCpuChart(),a.noData=!0)}else i.clearCpuChart(),a.noData=!0}),(function(){i.clearCpuChart(),a.noData=!0,a.initOver=!0}))},clearCpuChart:function(){this.deviceCpuChart.chartDom&&this.deviceCpuChart.chartDom.clear(),this.processCpuChart.chartDom&&this.processCpuChart.chartDom.clear(),this.operatorCpuChart.chartDom&&this.operatorCpuChart.chartDom.clear()},viewStepFilter:function(){var t=this.cpuInfo,e=t.startStep,i=t.endStep,n=t.step,a=e.showStep,r=i.showStep,o=""===a,s=""===r;if(o&&s)this.resetStepFilter();else{var c=Number.isInteger(r)?r<=n&&r:!!s&&n;if(c){var p=Number.isInteger(a)?a<=c&&a:!!o&&1;p?(e.step=e.showStep=p,i.step=i.showStep=c,this.queryCpuInfo(!0,!1)):this.resolveWrongFilter(e,i)}else this.resolveWrongFilter(e,i)}},resolveWrongFilter:function(t,e){t.showStep=t.step,e.showStep=e.step,this.$message.error(this.cpuInfo.cpuStepInputTip)},resetStepFilter:function(){var t=this.cpuInfo,e=t.startStep,i=t.endStep;e.step=e.showStep="",i.step=i.showStep="",this.queryCpuInfo(!1,!1)},formatCpuChartTip:function(t,e){var i=[];if(t&&t.length){var n=t[0].dataIndex;i.push("step: ".concat(e[n])),t.forEach((function(t,e){i.push('<span class="cpu-chart-tip" style="background-color:'.concat(t.color,';"></span>')+"".concat(t.seriesName,": ").concat(t.data))}))}return i.join("<br>")},initDeviceCpu:function(t){var e=this,i=[],n=[];this.cpuInfo.stepArray.length?Object.keys(this.cpuInfo.cpuInfoStr).forEach((function(a){var r=t[a];if(r&&r.metrics){var o={type:"line",name:e.cpuInfo.cpuInfoStr[a],data:r.metrics,showSymbol:1===r.metrics.length};i.push(o),n.push(o.name)}})):Object.keys(this.cpuInfo.cpuInfoStr).forEach((function(a){var r=t[a];if(r&&r.metrics){var o={type:"line",name:e.cpuInfo.cpuInfoStr[a],data:[],showSymbol:!1};i.push(o),n.push(o.name)}}));var a=this.deviceCpuChart;a.cpuAvgUser=t.user_utilization.avg_value,a.cpuAvgSystem=t.sys_utilization.avg_value,a.cpuAvgIO=t.io_utilization.avg_value,a.cpuAvgFree=t.idle_utilization.avg_value,a.cpuAvgProcess=t.runnable_process.avg_value,a.cpuAvgSwitch=t.context_switch_count.avg_value;var r=a.option;r.series=i,r.xAxis.name="".concat(this.$t("profiling.sampleInterval"),"\n").concat(this.samplingInterval,"ms"),r.xAxis.data=t[Object.keys(t)[0]].metrics.map((function(t,e){return e+1}));var o=Math.max.apply(null,i.map((function(t){return t.data.length?Math.max.apply(null,t.data):0})));r.yAxis.max=o||100,r.legend.data=n,r.tooltip.formatter=function(t){return e.formatCpuChartTip(t,e.cpuInfo.stepArray)},this.$nextTick((function(){a.chartDom||e.$refs.deviceCpuChart&&(a.chartDom=s["a"].init(e.$refs.deviceCpuChart,s["b"])),a.chartDom.setOption(r)}))},initProcessCpu:function(t){var e=this,i=[],n=[];Object.keys(this.cpuInfo.cpuInfoStr).forEach((function(a){var r=t[a];if(r&&r.metrics){var o={type:"line",name:e.cpuInfo.cpuInfoStr[a],data:r.metrics,showSymbol:1===r.metrics.length};i.push(o),n.push(o.name)}}));var a=this.processCpuChart;a.cpuAvgUser=t.user_utilization.avg_value,a.cpuAvgSystem=t.sys_utilization.avg_value;var r=a.option;r.series=i,r.xAxis.name="".concat(this.$t("profiling.sampleInterval"),"\n").concat(this.samplingInterval,"ms"),t[Object.keys(t)[0]].metrics.length?r.xAxis.data=t[Object.keys(t)[0]].metrics.map((function(t,e){return e+1})):r.xAxis.data=[1];var o=Math.max.apply(null,i.map((function(t){return t.data.length?Math.max.apply(null,t.data):0})));r.yAxis.max=o||100,r.legend.data=n,r.tooltip.formatter=function(t){return e.formatCpuChartTip(t,e.cpuInfo.stepArray)},this.$nextTick((function(){a.chartDom||e.$refs.processCpuChart&&(a.chartDom=s["a"].init(e.$refs.processCpuChart,s["b"])),a.chartDom.setOption(r)}))},initOperatorCpu:function(t,e){var i=this.operatorCpuChart;if(i.opList={},t.op_list.forEach((function(t){i.opList[t.op_id]=t})),e){var n=document.getElementById(this.operatorCPUList[this.selIndex]);n&&this.clickEvent(n)}i.cpuAvgTotalUser=t.total_op_avg_value.user_utilization,i.cpuAvgTotalSystem=t.total_op_avg_value.sys_utilization,this.updateOperatorCpuChart(this.selIndex)},updateOperatorCpuChart:function(t){var e=this,i=[],n=[],a=this.operatorCpuChart,r=a.opList[t];if(r){var o=r.metrics,c=r.num_workers;if(o){this.cpuInfo.cpuInfoStr&&Object.keys(this.cpuInfo.cpuInfoStr).forEach((function(t){var a=o[t];if(a&&a.metrics){var r={type:"line",name:e.cpuInfo.cpuInfoStr[t],data:e.cpuInfo.stepArray.length?a.metrics:[],showSymbol:1===a.metrics.length};i.push(r),n.push(r.name)}})),a.cpuAvgOpUser=o.user_utilization.avg_value,a.cpuAvgOpSystem=o.sys_utilization.avg_value,a.processNumber=c;var p=a.option;p.series=i,p.xAxis.name="".concat(this.$t("profiling.sampleInterval"),"\n").concat(this.samplingInterval,"ms"),o[Object.keys(o)[0]].metrics.length?p.xAxis.data=o[Object.keys(o)[0]].metrics.map((function(t,e){return e+1})):p.xAxis.data=[1];var u=Math.max.apply(null,i.map((function(t){return t.data.length?Math.max.apply(null,t.data):0})));p.yAxis.max=u||100,p.legend.data=n,p.tooltip.formatter=function(t){return e.formatCpuChartTip(t,e.cpuInfo.stepArray)},this.$nextTick((function(){a.chartDom||e.$refs.operatorCpuChart&&(a.chartDom=s["a"].init(e.$refs.operatorCpuChart,s["b"])),a.chartDom.setOption(p)}))}}}},destroyed:function(){window.removeEventListener("resize",this.resizeDebounce),this.$bus.$off("collapse")}},C=m,b=(i("4e8a"),Object(l["a"])(C,r,o,!1,null,null,null));e["default"]=b.exports},"8ba4":function(t,e,i){var n=i("23e7"),a=i("5e89");n({target:"Number",stat:!0},{isInteger:a})},9485:function(t,e,i){t.exports=i.p+"static/img/nodata.8290bed9.png"},9944:function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"b",(function(){return s}));var n=i("3835");i("99af"),i("caad"),i("8ba4"),i("b680"),i("d3b7"),i("ac1f"),i("25f0"),i("2532"),i("466d");function a(t,e,i){t.toLowerCase().includes("rgb")||(t=r(t)),e.toLowerCase().includes("rgb")||(e=r(e));for(var a=t.match(/[0-9]\d*/g),o=Object(n["a"])(a,3),s=o[0],c=o[1],p=o[2],u=e.match(/[0-9]\d*/g),l=Object(n["a"])(u,3),f=l[0],h=l[1],d=l[2],v=(+f-+s)/i,g=(+h-+c)/i,m=(+d-+p)/i,C=[t],b=1;b<i;b++){var _=parseInt(v*b+ +s),y=parseInt(g*b+ +c),S=parseInt(m*b+ +p);C.push("rgb(".concat(_,",").concat(y,",").concat(S,")"))}return C}function r(t){var e=16;return 4===t.length?"rgb(".concat(parseInt(t[1]+t[1],e),", ").concat(parseInt(t[2]+t[2],e),", ").concat(parseInt(t[3]+t[3],e),")"):"rgb(".concat(parseInt(t[1]+t[2],e),", ").concat(parseInt(t[3]+t[4],e),", ").concat(parseInt(t[5]+t[6],e),")")}function o(t,e){if("number"!==typeof t&&(t=parseFloat(t)),isNaN(t))return"NaN";var i=t+"",n=i.indexOf(".");return n<0||i.length-n-1<=e?i:t.toFixed(e)}function s(t){if(Number.isInteger(t))return!0;if("string"!==typeof t)return!1;var e=+t;return e+""===t&&Number.isInteger(e)}},a15b:function(t,e,i){"use strict";var n=i("23e7"),a=i("44ad"),r=i("fc6a"),o=i("a640"),s=[].join,c=a!=Object,p=o("join",",");n({target:"Array",proto:!0,forced:c||!p},{join:function(t){return s.call(r(this),void 0===t?",":t)}})},a630:function(t,e,i){var n=i("23e7"),a=i("4df4"),r=i("1c7e"),o=!r((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:o},{from:a})},b0c0:function(t,e,i){var n=i("83ab"),a=i("9bf2").f,r=Function.prototype,o=r.toString,s=/^\s*function ([^ (]*)/,c="name";n&&!(c in r)&&a(r,c,{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(t){return""}}})},b3d7:function(t,e,i){},b680:function(t,e,i){"use strict";var n=i("23e7"),a=i("a691"),r=i("408a"),o=i("1148"),s=i("d039"),c=1..toFixed,p=Math.floor,u=function(t,e,i){return 0===e?i:e%2===1?u(t,e-1,i*t):u(t*t,e/2,i)},l=function(t){var e=0,i=t;while(i>=4096)e+=12,i/=4096;while(i>=2)e+=1,i/=2;return e},f=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){c.call({})}));n({target:"Number",proto:!0,forced:f},{toFixed:function(t){var e,i,n,s,c=r(this),f=a(t),h=[0,0,0,0,0,0],d="",v="0",g=function(t,e){var i=-1,n=e;while(++i<6)n+=t*h[i],h[i]=n%1e7,n=p(n/1e7)},m=function(t){var e=6,i=0;while(--e>=0)i+=h[e],h[e]=p(i/t),i=i%t*1e7},C=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==h[t]){var i=String(h[t]);e=""===e?i:e+o.call("0",7-i.length)+i}return e};if(f<0||f>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(d="-",c=-c),c>1e-21)if(e=l(c*u(2,69,1))-69,i=e<0?c*u(2,-e,1):c/u(2,e,1),i*=4503599627370496,e=52-e,e>0){g(0,i),n=f;while(n>=7)g(1e7,0),n-=7;g(u(10,n,1),0),n=e-1;while(n>=23)m(1<<23),n-=23;m(1<<n),g(1,1),m(2),v=C()}else g(0,i),g(1<<-e,0),v=C()+o.call("0",f);return f>0?(s=v.length,v=d+(s<=f?"0."+o.call("0",f-s)+v:v.slice(0,s-f)+"."+v.slice(s-f))):v=d+v,v}})},c740:function(t,e,i){"use strict";var n=i("23e7"),a=i("b727").findIndex,r=i("44d2"),o=i("ae40"),s="findIndex",c=!0,p=o(s);s in[]&&Array(1)[s]((function(){c=!1})),n({target:"Array",proto:!0,forced:c||!p},{findIndex:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),r(s)},cca6:function(t,e,i){var n=i("23e7"),a=i("60da");n({target:"Object",stat:!0,forced:Object.assign!==a},{assign:a})},d28b:function(t,e,i){var n=i("746f");n("iterator")},e01a:function(t,e,i){"use strict";var n=i("23e7"),a=i("83ab"),r=i("da84"),o=i("5135"),s=i("861d"),c=i("9bf2").f,p=i("e893"),u=r.Symbol;if(a&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var l={},f=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof f?new u(t):void 0===t?u():u(t);return""===t&&(l[e]=!0),e};p(f,u);var h=f.prototype=u.prototype;h.constructor=f;var d=h.toString,v="Symbol(test)"==String(u("test")),g=/^Symbol\((.*)\)[^)]+$/;c(h,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=d.call(t);if(o(l,t))return"";var i=v?e.slice(7,-1):e.replace(g,"$1");return""===i?void 0:i}}),n({global:!0,forced:!0},{Symbol:f})}}}]);