# Kanged from https://github.com/TheochemUI/eOn
fail_fast: false
exclude: |
  (?x)(
  approved_files| # autogenerated
  subprojects # vendored
  )
repos:
- repo: https://github.com/pre-commit/pre-commit-hooks
  rev: v4.0.1
  hooks:
  -   id: trailing-whitespace
      exclude: |
        (?x)^(
        docs/.*           # Exclude docs folder
        )$
  -   id: end-of-file-fixer
      exclude: |
        (?x)^(
        docs/.*           # Exclude docs folder
        )$
  -   id: check-yaml
  -   id: check-added-large-files
- repo: local
  hooks:
    - id: cppcheck
      name: cppcheck
      entry: cppcheck
      language: system
      types_or: [c++, c]
      args: [
      "--error-exitcode=1",
      "--std=c++20",
      "--language=c++",
      "--check-level=exhaustive",
      ]
    - id: cpplint
      name: cpplint
      entry: cpplint
      language: system
      types_or: [c++, c]
      args: [
      "--filter=-whitespace/comments,
      -runtime/references,
      -whitespace/indent,
      -whitespace/parens,
      -whitespace/braces,
      -whitespace/line_length,
      -whitespace/newline,
      -build/include_order,
      -readability/todo,
      -readability/fn_size,
      -build/namespaces,"
      ]
    - id: clang-format
      name: clang-format
      entry: clang-format
      language: system
      types_or: [c, c++, cuda]
      args: ["-fallback-style=none", "-style=file", "-i"]
    - id: meson-format
      name: meson format
      entry: meson
      language: system
      types: [meson]
      files: \.build$
      args: ["format", "-i"]
    - id: ruff-lint-fixes
      name: ruff check
      entry: ruff
      language: system
      types_or: [ python, pyi, jupyter ]
      args: ["check", "--fix", "--unsafe-fixes", "."]
    - id: ruff-format
      name: ruff format
      entry: ruff
      language: system
      types_or: [ python, pyi, jupyter ]
      args: ["format", "."]
