import{_ as Xt,g as jt,V as Kt}from"./DrawerNavigation.vue_vue_type_style_index_0_scoped_7bacef92_lang-0324fb2b.js";import{_ as O}from"./_plugin-vue_export-helper-c27b6911.js";import{M as be,_ as Jt,f as Ve,g as ye,a as Zt,s as ea,d as ta,b as Be,i as ct,c as aa,V as la,t as mt,e as ia,h as oa,j as lt}from"./VCheckbox-3f3708ef.js";import{e as ve,_ as Ae}from"./eventbus-35a4f7b1.js";import{d as A,r as B,o as Me,a as Fe,b,M as le,P as it,c as v,e as I,w as p,f as r,u as e,g as k,h as K,F as U,$ as he,i as V,t as w,j as $,s as t,p as sa,k as na,A as ua,l as J,m as Z,n as ra,q as da,v as xe,x as vt,y as D,z as S,B as He,C as yt,D as ke,E as pt,G as W,H as ft,I as De,J as _t,K as ca,L as Qe,N as ae,O as ma,Q as ht,R as va,S as gt,T as ya,U as pa,V as fa,W as $e,X as L,Y as q,Z as qe,_ as Ee,a0 as E,a1 as We,a2 as N,a3 as _a,a4 as Pe,a5 as ha,a6 as bt,a7 as ga,a8 as Se,a9 as ce,aa as ot,ab as ba,ac as st,ad as Pa,ae as ka,af as Ca,ag as wa,ah as Va}from"./index-7a6312c5.js";import{T as $a,V as Le}from"./Toolbar-3038f173.js";import{V as Te,a as ze,u as Ue}from"./VList-64720c7d.js";import{V as Ne}from"./VCard-b78989b6.js";import{V as Pt}from"./VDialog-10e8fbe1.js";import{V as ie,m as _e,a as Ia,b as we,u as Qa,c as ee,d as kt,e as Ct,f as wt,g as Vt,h as Sa,i as $t,j as Oe,k as It,l as Qt,n as St,o as Tt,p as Ta,q as Ba,r as Ma,s as fe,t as xa,v as za,M as Aa,w as R,x as qa,y as Ea}from"./VListItem-00c5dd98.js";import{V as Wa,a as La}from"./VInfiniteScroll-2bf3b2c9.js";import{u as Ra,m as Bt,a as Mt,b as Fa,c as Ha}from"./layout-6c686a21.js";import{f as Da,a as Ua,s as Na,m as Oa,u as Ya,b as Ga,V as xt,c as zt}from"./VMenu-7f3a32fb.js";import{m as Xa,V as nt,a as ja}from"./VCheckboxBtn-a75ca569.js";import{V as At,a as Ka,b as Ja,c as Za,d as el}from"./VExpansionPanels-dfcc805e.js";import{B as ue}from"./Button-d27cdd5d.js";import{L as tl}from"./ListItem-f7b2fe96.js";import{V as al}from"./VToolbar-3aa20bc9.js";import{V as Ie,a as ge}from"./VCardText-1c7d9bcc.js";import{V as ll}from"./VVirtualScroll-7a6b8896.js";const il=O(Xt,[["__scopeId","data-v-7bacef92"]]),Ye=a=>(sa("data-v-9e34403f"),a=a(),na(),a),ol=Ye(()=>V("br",null,null,-1)),sl={class:"media-thumb"},nl=Ye(()=>V("div",{style:{height:"30px"}},null,-1)),ul=Ye(()=>V("div",{style:{height:"30px"}},null,-1)),rl={style:{"margin-left":"-10px","padding-right":"5px"}},dl=A({__name:"AddToPlaylistDialog",setup(a){const i=B(!1),s=B([]),l=B([]),d=B(),o=B([]);Me(()=>{ve.on("playlistdialog",async f=>{i.value=!0,o.value=f.items,d.value=f.parentItem,await u()}),Fe(()=>{ve.off("playlistdialog")})});const u=async function(){s.value=[],l.value=[];const f=await b.getLibraryPlaylists(),c=o.value.length?o.value[0]:void 0;for(const m of f){if(!m.provider_mappings.filter(C=>C.available).length||!m.is_editable||d.value&&d.value.media_type===le.PLAYLIST&&m.item_id===d.value.item_id)continue;const _=b.providers[m.provider_mappings[0].provider_instance];_&&(_.domain=="builtin"||_.is_streaming_provider||c!=null&&c.provider_mappings.filter(C=>C.provider_instance==_.instance_id).length)&&s.value.push(m)}for(const m of Object.values(b.providers))m.supported_features.includes(it.PLAYLIST_CREATE)&&m.supported_features.includes(it.PLAYLIST_TRACKS_EDIT)&&(m.domain=="builtin"||m.is_streaming_provider||c!=null&&c.provider_mappings.filter(_=>_.provider_instance==m.instance_id).length)&&l.value.push(m.instance_id)},y=async function(f){if(o.value[0].media_type===le.TRACK)b.addPlaylistTracks(f.item_id,o.value.map(m=>m.uri));else if(o.value[0].media_type===le.ALBUM){var c=await b.getAlbumTracks(o.value[0].item_id,o.value[0].provider);b.addPlaylistTracks(f.item_id,c.map(m=>m.uri))}n(),t.activeAlert={type:ua.INFO,message:he("background_task_added"),persistent:!1}},h=async function(f){const c=prompt(he("new_playlist_name"));if(!c)return;const m=await b.createPlaylist(c,f);y(m)},n=function(){i.value=!1};return(f,c)=>(v(),I(Pt,{modelValue:i.value,"onUpdate:modelValue":[c[0]||(c[0]=m=>i.value=m),c[1]||(c[1]=m=>{e(t).dialogActive=m})],fullscreen:"",transition:"dialog-bottom-transition"},{default:p(()=>[r(Ne,null,{default:p(()=>[r($a,{icon:"mdi-playlist-plus",title:e(he)("add_playlist"),"menu-items":[{label:"close",icon:"mdi-close",action:n}]},null,8,["title","menu-items"]),r(Te),ol,r(ze,null,{default:p(()=>[(v(!0),k(U,null,K(s.value,m=>(v(),k("div",{key:m.item_id},[r(ie,{onClick:_=>y(m)},{prepend:p(()=>[V("div",sl,[r(be,{item:m,size:50},null,8,["item"])])]),title:p(()=>[V("div",null,w(m.name),1)]),subtitle:p(()=>[V("div",null,w(m.owner),1)]),append:p(()=>[m.provider_mappings?(v(),I(Ae,{key:0,domain:m.provider_mappings[0].provider_domain,size:20},null,8,["domain"])):$("",!0)]),_:2},1032,["onClick"])]))),128)),nl,r(Te),ul,(v(!0),k(U,null,K(l.value,m=>(v(),k("div",{key:m},[r(ie,{onClick:_=>h(m)},{prepend:p(()=>[V("div",rl,[r(Ae,{domain:e(b).providers[m].domain,size:50},null,8,["domain"])])]),title:p(()=>[V("div",null,w(e(he)("new_playlist")),1)]),subtitle:p(()=>[V("div",null,w(e(he)("create_playlist_on",[e(b).providers[m].name])),1)]),append:p(()=>[r(Ae,{domain:e(b).providers[m].domain,size:20},null,8,["domain"])]),_:2},1032,["onClick"])]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]))}});const cl=O(dl,[["__scopeId","data-v-9e34403f"]]),ml=O(Jt,[["__scopeId","data-v-13828716"]]);const vl=J({scrollable:Boolean,..._e(),...Ia(),...we({tag:"main"})},"VMain"),yl=Z()({name:"VMain",props:vl(),setup(a,i){let{slots:s}=i;const{dimensionStyles:l}=Qa(a),{mainStyles:d}=Ra(),{ssrBootStyles:o}=Ue();return ee(()=>r(a.tag,{class:["v-main",{"v-main--scrollable":a.scrollable},a.class],style:[d.value,o.value,l.value,a.style]},{default:()=>{var u,y;return[a.scrollable?r("div",{class:"v-main__scroller"},[(u=s.default)==null?void 0:u.call(s)]):(y=s.default)==null?void 0:y.call(s)]}})),{}}}),pl=A({__name:"View",setup(a){return(i,s)=>{const l=ra("router-view");return v(),I(yl,{id:"cont",class:"overflow-y-auto",style:{height:"0px"}},{default:p(()=>{var d,o,u;return[e(t).navigationMenuStyle=="vertical"?(v(),I(il,{key:0})):$("",!0),r(l,null,{default:p(({Component:y})=>[(v(),I(da(y)))]),_:1}),r(cl),r(ml),r(Wa,{"model-value":e(t).activeAlert!==void 0,color:((d=e(t).activeAlert)==null?void 0:d.type)||"grey",text:(o=e(t).activeAlert)==null?void 0:o.message,"close-on-content-click":"",position:"sticky",timeout:(u=e(t).activeAlert)!=null&&u.persistent?-1:5e3,"onUpdate:modelValue":s[0]||(s[0]=()=>e(t).activeAlert=void 0)},null,8,["model-value","color","text","timeout"])]}),_:1})}}});const fl=J({baseColor:String,bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:a=>!a||["horizontal","shift"].includes(a)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...kt(),..._e(),...Ct(),...wt(),...Vt(),...Bt({name:"bottom-navigation"}),...we({tag:"header"}),...Sa({selectedClass:"v-btn--selected"}),...xe()},"VBottomNavigation"),_l=Z()({name:"VBottomNavigation",props:fl(),emits:{"update:active":a=>!0,"update:modelValue":a=>!0},setup(a,i){let{slots:s}=i;const{themeClasses:l}=vt(),{borderClasses:d}=$t(a),{backgroundColorClasses:o,backgroundColorStyles:u}=Oe(D(a,"bgColor")),{densityClasses:y}=It(a),{elevationClasses:h}=Qt(a),{roundedClasses:n}=St(a),{ssrBootStyles:f}=Ue(),c=S(()=>Number(a.height)-(a.density==="comfortable"?8:0)-(a.density==="compact"?16:0)),m=He(a,"active",a.active),{layoutItemStyles:_}=Mt({id:a.name,order:S(()=>parseInt(a.order,10)),position:S(()=>"bottom"),layoutSize:S(()=>m.value?c.value:0),elementSize:c,active:m,absolute:D(a,"absolute")});return Tt(a,Ta),yt({VBtn:{baseColor:D(a,"baseColor"),color:D(a,"color"),density:D(a,"density"),stacked:S(()=>a.mode!=="horizontal"),variant:"text"}},{scoped:!0}),ee(()=>r(a.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":m.value,"v-bottom-navigation--grow":a.grow,"v-bottom-navigation--shift":a.mode==="shift"},l.value,o.value,d.value,y.value,h.value,n.value,a.class],style:[u.value,_.value,{height:ke(c.value)},f.value,a.style]},{default:()=>[s.default&&r("div",{class:"v-bottom-navigation__content"},[s.default()])]})),{}}});const Ge=Symbol.for("vuetify:v-tabs"),hl=J({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...pt(Ba({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),pe=Z()({name:"VTab",props:hl(),setup(a,i){let{slots:s,attrs:l}=i;const{textColorClasses:d,textColorStyles:o}=Ma(a,"sliderColor"),u=B(),y=B(),h=S(()=>a.direction==="horizontal"),n=S(()=>{var c,m;return((m=(c=u.value)==null?void 0:c.group)==null?void 0:m.isSelected.value)??!1});function f(c){var _,C;let{value:m}=c;if(m){const M=(C=(_=u.value)==null?void 0:_.$el.parentElement)==null?void 0:C.querySelector(".v-tab--selected .v-tab__slider"),x=y.value;if(!M||!x)return;const se=getComputedStyle(M).color,Y=M.getBoundingClientRect(),G=x.getBoundingClientRect(),z=h.value?"x":"y",P=h.value?"X":"Y",g=h.value?"right":"bottom",T=h.value?"width":"height",F=Y[z],X=G[z],H=F>X?Y[g]-G[g]:Y[z]-G[z],j=Math.sign(H)>0?h.value?"right":"bottom":Math.sign(H)<0?h.value?"left":"top":"center",re=(Math.abs(H)+(Math.sign(H)<0?Y[T]:G[T]))/Math.max(Y[T],G[T])||0,de=Y[T]/G[T]||0,ne=1.5;Ua(x,{backgroundColor:[se,"currentcolor"],transform:[`translate${P}(${H}px) scale${P}(${de})`,`translate${P}(${H/ne}px) scale${P}(${(re-1)/ne+1})`,"none"],transformOrigin:Array(3).fill(j)},{duration:225,easing:Na})}}return ee(()=>{const c=fe.filterProps(a);return r(fe,W({symbol:Ge,ref:u,class:["v-tab",a.class],style:a.style,tabindex:n.value?0:-1,role:"tab","aria-selected":String(n.value),active:!1},c,l,{block:a.fixed,maxWidth:a.fixed?300:void 0,"onGroup:selected":f}),{...s,default:()=>{var m;return r(U,null,[((m=s.default)==null?void 0:m.call(s))??a.text,!a.hideSlider&&r("div",{ref:y,class:["v-tab__slider",d.value],style:o.value},null)])}})}),Da({},u)}});const gl=a=>{const{touchstartX:i,touchendX:s,touchstartY:l,touchendY:d}=a,o=.5,u=16;a.offsetX=s-i,a.offsetY=d-l,Math.abs(a.offsetY)<o*Math.abs(a.offsetX)&&(a.left&&s<i-u&&a.left(a),a.right&&s>i+u&&a.right(a)),Math.abs(a.offsetX)<o*Math.abs(a.offsetY)&&(a.up&&d<l-u&&a.up(a),a.down&&d>l+u&&a.down(a))};function bl(a,i){var l;const s=a.changedTouches[0];i.touchstartX=s.clientX,i.touchstartY=s.clientY,(l=i.start)==null||l.call(i,{originalEvent:a,...i})}function Pl(a,i){var l;const s=a.changedTouches[0];i.touchendX=s.clientX,i.touchendY=s.clientY,(l=i.end)==null||l.call(i,{originalEvent:a,...i}),gl(i)}function kl(a,i){var l;const s=a.changedTouches[0];i.touchmoveX=s.clientX,i.touchmoveY=s.clientY,(l=i.move)==null||l.call(i,{originalEvent:a,...i})}function Cl(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const i={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:a.left,right:a.right,up:a.up,down:a.down,start:a.start,move:a.move,end:a.end};return{touchstart:s=>bl(s,i),touchend:s=>Pl(s,i),touchmove:s=>kl(s,i)}}function wl(a,i){var y;const s=i.value,l=s!=null&&s.parent?a.parentElement:a,d=(s==null?void 0:s.options)??{passive:!0},o=(y=i.instance)==null?void 0:y.$.uid;if(!l||!o)return;const u=Cl(i.value);l._touchHandlers=l._touchHandlers??Object.create(null),l._touchHandlers[o]=u,ft(u).forEach(h=>{l.addEventListener(h,u[h],d)})}function Vl(a,i){var o,u;const s=(o=i.value)!=null&&o.parent?a.parentElement:a,l=(u=i.instance)==null?void 0:u.$.uid;if(!(s!=null&&s._touchHandlers)||!l)return;const d=s._touchHandlers[l];ft(d).forEach(y=>{s.removeEventListener(y,d[y])}),delete s._touchHandlers[l]}const qt={mounted:wl,unmounted:Vl},$l=qt,Et=Symbol.for("vuetify:v-window"),Wt=Symbol.for("vuetify:v-window-group"),Lt=J({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:a=>typeof a=="boolean"||a==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},..._e(),...we(),...xe()},"VWindow"),ut=Z()({name:"VWindow",directives:{Touch:qt},props:Lt(),emits:{"update:modelValue":a=>!0},setup(a,i){let{slots:s}=i;const{themeClasses:l}=De(a),{isRtl:d}=_t(),{t:o}=ca(),u=Tt(a,Wt),y=B(),h=S(()=>d.value?!a.reverse:a.reverse),n=Qe(!1),f=S(()=>{const z=a.direction==="vertical"?"y":"x",g=(h.value?!n.value:n.value)?"-reverse":"";return`v-window-${z}${g}-transition`}),c=Qe(0),m=B(void 0),_=S(()=>u.items.value.findIndex(z=>u.selected.value.includes(z.id)));ae(_,(z,P)=>{const g=u.items.value.length,T=g-1;g<=2?n.value=z<P:z===T&&P===0?n.value=!0:z===0&&P===T?n.value=!1:n.value=z<P}),ma(Et,{transition:f,isReversed:n,transitionCount:c,transitionHeight:m,rootRef:y});const C=S(()=>a.continuous||_.value!==0),M=S(()=>a.continuous||_.value!==u.items.value.length-1);function x(){C.value&&u.prev()}function se(){M.value&&u.next()}const Y=S(()=>{const z=[],P={icon:d.value?a.nextIcon:a.prevIcon,class:`v-window__${h.value?"right":"left"}`,onClick:u.prev,"aria-label":o("$vuetify.carousel.prev")};z.push(C.value?s.prev?s.prev({props:P}):r(fe,P,null):r("div",null,null));const g={icon:d.value?a.prevIcon:a.nextIcon,class:`v-window__${h.value?"left":"right"}`,onClick:u.next,"aria-label":o("$vuetify.carousel.next")};return z.push(M.value?s.next?s.next({props:g}):r(fe,g,null):r("div",null,null)),z}),G=S(()=>a.touch===!1?a.touch:{...{left:()=>{h.value?x():se()},right:()=>{h.value?se():x()},start:P=>{let{originalEvent:g}=P;g.stopPropagation()}},...a.touch===!0?{}:a.touch});return ee(()=>ht(r(a.tag,{ref:y,class:["v-window",{"v-window--show-arrows-on-hover":a.showArrows==="hover"},l.value,a.class],style:a.style},{default:()=>{var z,P;return[r("div",{class:"v-window__container",style:{height:m.value}},[(z=s.default)==null?void 0:z.call(s,{group:u}),a.showArrows!==!1&&r("div",{class:"v-window__controls"},[Y.value])]),(P=s.additional)==null?void 0:P.call(s,{group:u})]}}),[[va("touch"),G.value]])),{group:u}}}),Il=J({...pt(Lt(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),Ql=Z()({name:"VTabsWindow",props:Il(),emits:{"update:modelValue":a=>!0},setup(a,i){let{slots:s}=i;const l=gt(Ge,null),d=He(a,"modelValue"),o=S({get(){var u;return d.value!=null||!l?d.value:(u=l.items.value.find(y=>l.selected.value.includes(y.id)))==null?void 0:u.value},set(u){d.value=u}});return ee(()=>{const u=ut.filterProps(a);return r(ut,W({_as:"VTabsWindow"},u,{modelValue:o.value,"onUpdate:modelValue":y=>o.value=y,class:["v-tabs-window",a.class],style:a.style,mandatory:!1,touch:!1}),s)}),{}}}),Rt=J({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},..._e(),...xa(),...Oa()},"VWindowItem"),rt=Z()({name:"VWindowItem",directives:{Touch:$l},props:Rt(),emits:{"group:selected":a=>!0},setup(a,i){let{slots:s}=i;const l=gt(Et),d=za(a,Wt),{isBooted:o}=Ue();if(!l||!d)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const u=Qe(!1),y=S(()=>o.value&&(l.isReversed.value?a.reverseTransition!==!1:a.transition!==!1));function h(){!u.value||!l||(u.value=!1,l.transitionCount.value>0&&(l.transitionCount.value-=1,l.transitionCount.value===0&&(l.transitionHeight.value=void 0)))}function n(){var C;u.value||!l||(u.value=!0,l.transitionCount.value===0&&(l.transitionHeight.value=ke((C=l.rootRef.value)==null?void 0:C.clientHeight)),l.transitionCount.value+=1)}function f(){h()}function c(C){u.value&&pa(()=>{!y.value||!u.value||!l||(l.transitionHeight.value=ke(C.clientHeight))})}const m=S(()=>{const C=l.isReversed.value?a.reverseTransition:a.transition;return y.value?{name:typeof C!="string"?l.transition.value:C,onBeforeEnter:n,onAfterEnter:h,onEnterCancelled:f,onBeforeLeave:n,onAfterLeave:h,onLeaveCancelled:f,onEnter:c}:!1}),{hasContent:_}=Ya(a,d.isSelected);return ee(()=>r(Aa,{transition:m.value,disabled:!o.value},{default:()=>{var C;return[ht(r("div",{class:["v-window-item",d.selectedClass.value,a.class],style:a.style},[_.value&&((C=s.default)==null?void 0:C.call(s))]),[[ya,d.isSelected.value]])]}})),{groupItem:d}}}),Sl=J({...Rt()},"VTabsWindowItem"),Tl=Z()({name:"VTabsWindowItem",props:Sl(),setup(a,i){let{slots:s}=i;return ee(()=>{const l=rt.filterProps(a);return r(rt,W({_as:"VTabsWindowItem"},l,{class:["v-tabs-window-item",a.class],style:a.style}),s)}),{}}});function Bl(a){return a?a.map(i=>fa(i)?i:{text:i,value:i}):[]}const Ml=J({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Xa({mandatory:"force",selectedClass:"v-tab-item--selected"}),...Ct(),...we()},"VTabs"),Re=Z()({name:"VTabs",props:Ml(),emits:{"update:modelValue":a=>!0},setup(a,i){let{attrs:s,slots:l}=i;const d=He(a,"modelValue"),o=S(()=>Bl(a.items)),{densityClasses:u}=It(a),{backgroundColorClasses:y,backgroundColorStyles:h}=Oe(D(a,"bgColor")),{scopeId:n}=Ga();return yt({VTab:{color:D(a,"color"),direction:D(a,"direction"),stacked:D(a,"stacked"),fixed:D(a,"fixedTabs"),sliderColor:D(a,"sliderColor"),hideSlider:D(a,"hideSlider")}}),ee(()=>{const f=nt.filterProps(a),c=!!(l.window||a.items.length>0);return r(U,null,[r(nt,W(f,{modelValue:d.value,"onUpdate:modelValue":m=>d.value=m,class:["v-tabs",`v-tabs--${a.direction}`,`v-tabs--align-tabs-${a.alignTabs}`,{"v-tabs--fixed-tabs":a.fixedTabs,"v-tabs--grow":a.grow,"v-tabs--stacked":a.stacked},u.value,y.value,a.class],style:[{"--v-tabs-height":ke(a.height)},h.value,a.style],role:"tablist",symbol:Ge},n,s),{default:()=>{var m;return[((m=l.default)==null?void 0:m.call(l))??o.value.map(_=>{var C;return((C=l.tab)==null?void 0:C.call(l,{item:_}))??r(pe,W(_,{key:_.text,value:_.value}),{default:l[`tab.${_.value}`]?()=>{var M;return(M=l[`tab.${_.value}`])==null?void 0:M.call(l,{item:_})}:void 0})})]}}),c&&r(Ql,W({modelValue:d.value,"onUpdate:modelValue":m=>d.value=m,key:"tabs-window"},n),{default:()=>{var m;return[o.value.map(_=>{var C;return((C=l.item)==null?void 0:C.call(l,{item:_}))??r(Tl,{value:_.value},{default:()=>{var M;return(M=l[`item.${_.value}`])==null?void 0:M.call(l,{item:_})}})}),(m=l.window)==null?void 0:m.call(l)]}})])}),{}}}),xl={class:"menuButton"},zl={class:"menuButton"},Al={class:"menuButton"},ql=A({__name:"BottomNavigation",props:{height:{}},setup(a){const i=jt(),s=S(()=>{for(const l of i)if($e.currentRoute.value.path.startsWith(l.path))return!L("tablet")&&l.isLibraryNode?"library":l.label;return""});return(l,d)=>(v(),I(_l,{height:l.height,grow:"",elevation:"15",style:{"border-top":"1px solid #20202035"}},{default:p(()=>[e(L)("tablet")?(v(),I(Re,{key:0,stacked:"",grow:"","show-arrows":!1,"model-value":s.value,color:"accent","center-active":""},{default:p(()=>[(v(!0),k(U,null,K(e(i),o=>(v(),I(pe,{key:o.label,to:o.path,value:o.label},{default:p(()=>[r(R,{size:"xx-large"},{default:p(()=>[q(w(o.icon),1)]),_:2},1024),V("span",xl,w(l.$t(o.label)),1)]),_:2},1032,["to","value"]))),128))]),_:1},8,["model-value"])):(v(),I(Re,{key:1,stacked:"",grow:"","show-arrows":!1,"model-value":s.value,color:"accent"},{default:p(()=>[(v(!0),k(U,null,K(e(i).filter(o=>!o.isLibraryNode),o=>(v(),I(pe,{key:o.label,to:o.path,value:o.label},{default:p(()=>[r(R,{size:"xx-large"},{default:p(()=>[q(w(o.icon),1)]),_:2},1024),V("span",zl,w(l.$t(o.label)),1)]),_:2},1032,["to","value"]))),128)),r(xt,null,{activator:p(({props:o})=>[r(pe,W({key:"library"},o,{value:"library"}),{default:p(()=>[r(R,{size:"xx-large"},{default:p(()=>[q("mdi-bookshelf")]),_:1}),V("span",Al,w(l.$t("library")),1)]),_:2},1040)]),default:p(()=>[r(ze,null,{default:p(()=>[(v(!0),k(U,null,K(e(i).filter(o=>o.isLibraryNode),o=>(v(),I(ie,{key:o.label,title:l.$t(o.label),"prepend-icon":o.icon,to:o.path},null,8,["title","prepend-icon","to"]))),128))]),_:1})]),_:1})]),_:1},8,["model-value"]))]),_:1},8,["height"]))}});const El={style:{width:"auto"}},Wl={key:0,style:{width:"100%"}},Ll={key:0,class:"time-text-row"},Rl={class:"text-caption time-text-right"},Fl=A({__name:"PlayerTimeline",props:{showLabels:{type:Boolean,default:!1}},setup(a){const i=B(!1),s=B(!0),l=B(!1),d=B(0),o=B(0),u=S(()=>t.curQueueItem?i.value?`-${Ve(t.curQueueItem.duration-h.value)}`:`${Ve(h.value)}`:"0:00"),y=S(()=>{var _;if(!t.curQueueItem||!t.curQueueItem.duration||((_=t.curQueueItem.media_item)==null?void 0:_.media_type)==le.RADIO)return"";const m=t.curQueueItem.duration;return Ve(m)}),h=S(()=>l.value?(o.value=d.value,d.value):t.activePlayerQueue?t.activePlayerQueue.elapsed_time:0);ae(h,m=>{l.value||(d.value=m)});const n=function(){l.value=!0},f=()=>{l.value=!1,c(o.value)},c=m=>{var _;l.value||b.queueCommandSeek(((_=t.activePlayerQueue)==null?void 0:_.queue_id)||"",Math.round(m))};return(m,_)=>{var C;return v(),k("div",El,[e(t).activePlayerQueue?(v(),k("div",Wl,[r(At,{modelValue:d.value,"onUpdate:modelValue":_[0]||(_[0]=M=>d.value=M),disabled:!e(t).curQueueItem||!e(t).curQueueItem.media_item||((C=e(t).curQueueItem.media_item)==null?void 0:C.media_type)!=e(le).TRACK,style:{width:"100%"},min:0,max:e(t).curQueueItem&&e(t).curQueueItem.duration,"hide-details":"","track-size":2,"thumb-size":s.value?0:10,onTouchstart:_[1]||(_[1]=M=>s.value=!1),onTouchend:_[2]||(_[2]=M=>s.value=!0),onMouseenter:_[3]||(_[3]=M=>s.value=!1),onMouseleave:_[4]||(_[4]=M=>s.value=!0),onStart:n,onEnd:f},null,8,["modelValue","disabled","max","thumb-size"]),m.showLabels?(v(),k("div",Ll,[V("div",{class:"text-caption time-text-left",onClick:_[5]||(_[5]=M=>i.value?i.value=!1:i.value=!0)},w(u.value),1),V("div",Rl,w(y.value),1)])):$("",!0)])):$("",!0)])}}});const Ft=O(Fl,[["__scopeId","data-v-329a9131"]]),Hl=A({__name:"ResponsiveIcon",props:{width:{default:void 0},height:{default:void 0},staticWidth:{default:void 0},staticHeight:{default:void 0},maxWidth:{default:void 0},maxHeight:{default:void 0},minWidth:{default:"24px"},minHeight:{default:"24px"},icon:{default:void 0},type:{default:"icon"},color:{default:void 0},disabled:{type:Boolean},badge:{type:Boolean,default:void 0}},emits:["clicked"],setup(a,{emit:i}){const s=()=>{if(l.value){const o=l.value.offsetWidth,u=l.value.offsetHeight,y=Math.min(o,u);d.value.$el.style.fontSize=`${y}px`}},l=B(),d=B();return Me(()=>{s(),window.addEventListener("resize",s)}),Fe(()=>{window.removeEventListener("resize",s)}),(o,u)=>(v(),k("div",{ref_key:"responsiveIconHolder",ref:l,class:Ee([o.type=="btn"&&!o.disabled?"responsive-icon-holder-btn":"responsive-icon-holder"]),style:E({width:o.staticWidth?o.staticWidth:o.width,height:o.staticWidth?o.staticWidth:o.height,maxHeight:o.staticHeight?o.staticHeight:o.maxHeight,maxWidth:o.staticWidth?o.staticWidth:o.maxWidth,minHeight:o.staticHeight?o.staticHeight:o.minHeight,minWidth:o.staticWidth?o.staticWidth:o.minWidth}),onClick:u[0]||(u[0]=y=>o.disabled?y.preventDefault():o.$emit("clicked"))},[r(Le,{"model-value":o.badge==!0,color:"error",dot:""},{default:p(()=>[o.type==="icon"?(v(),I(R,{key:0,ref_key:"responsiveIcon",ref:d,class:"responsive-icon",color:o.color?o.color:"",icon:o.icon?o.icon:"mdi-check",width:o.staticWidth?o.staticWidth:null,height:o.staticHeight?o.staticHeight:null,disabled:o.disabled},qe({_:2},[K(o.$slots,(y,h)=>({name:h,fn:p(()=>[We(o.$slots,h,{},void 0,!0)])}))]),1032,["color","icon","width","height","disabled"])):o.type==="btn"?(v(),I(R,{key:1,ref_key:"responsiveIcon",ref:d,class:"responsive-icon",style:{cursor:"pointer"},color:o.color?o.color:"",icon:o.icon?o.icon:"mdi-check",width:o.staticWidth?o.staticWidth:null,height:o.staticHeight?o.staticHeight:null,disabled:o.disabled},qe({_:2},[K(o.$slots,(y,h)=>({name:h,fn:p(()=>[We(o.$slots,h,{},void 0,!0)])}))]),1032,["color","icon","width","height","disabled"])):$("",!0)]),_:3},8,["model-value"])],6))}});const oe=O(Hl,[["__scopeId","data-v-115a9c4e"]]),Ht=A({__name:"RepeatBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){return(i,s)=>{var l,d,o,u,y,h,n,f;return i.isVisible?(v(),I(oe,W({key:0},i.icon,{disabled:!e(t).activePlayerQueue||!e(t).activePlayerQueue.active||e(t).activePlayerQueue.items==0,color:e(ye)((l=i.icon)==null?void 0:l.color,[[((d=e(t).activePlayerQueue)==null?void 0:d.repeat_mode)==e(N).OFF,null],[((o=e(t).activePlayerQueue)==null?void 0:o.repeat_mode)==e(N).ALL,"primary"],[((u=e(t).activePlayerQueue)==null?void 0:u.repeat_mode)==e(N).ONE,"primary"]]),icon:e(ye)((y=i.icon)==null?void 0:y.icon,[[((h=e(t).activePlayerQueue)==null?void 0:h.repeat_mode)==e(N).OFF,"mdi-repeat-off"],[((n=e(t).activePlayerQueue)==null?void 0:n.repeat_mode)==e(N).ALL,"mdi-repeat"],[((f=e(t).activePlayerQueue)==null?void 0:f.repeat_mode)==e(N).ONE,"mdi-repeat-once"],[!0,"mdi-repeat-off"]]),type:"btn",onClicked:s[0]||(s[0]=c=>{var m,_,C,M;return e(b).queueCommandRepeat(((m=e(t).activePlayerQueue)==null?void 0:m.queue_id)||"",e(ye)(null,[[((_=e(t).activePlayerQueue)==null?void 0:_.repeat_mode)==e(N).OFF,e(N).ONE],[((C=e(t).activePlayerQueue)==null?void 0:C.repeat_mode)==e(N).ALL,e(N).OFF],[((M=e(t).activePlayerQueue)==null?void 0:M.repeat_mode)==e(N).ONE,e(N).ALL]]))})}),null,16,["disabled","color","icon"])):$("",!0)}}}),Dt=A({__name:"ShuffleBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){return(i,s)=>{var l,d,o,u,y,h,n;return i.isVisible?(v(),I(oe,W({key:0},i.icon,{disabled:!e(t).activePlayerQueue||!((l=e(t).activePlayerQueue)!=null&&l.active)||((d=e(t).activePlayerQueue)==null?void 0:d.items)==0,color:e(ye)((o=i.icon)==null?void 0:o.color,[[(u=e(t).activePlayerQueue)==null?void 0:u.shuffle_enabled,"primary",""]]),icon:e(ye)((y=i.icon)==null?void 0:y.icon,[[(h=e(t).activePlayerQueue)==null?void 0:h.shuffle_enabled,"mdi-shuffle"],[((n=e(t).activePlayerQueue)==null?void 0:n.shuffle_enabled)==!1,"mdi-shuffle-disabled"],[!0,"mdi-shuffle"]]),type:"btn",onClicked:s[0]||(s[0]=f=>{var c,m;return e(b).queueCommandShuffle(((c=e(t).activePlayerQueue)==null?void 0:c.queue_id)||"",!((m=e(t).activePlayerQueue)!=null&&m.shuffle_enabled))})}),null,16,["disabled","color","icon"])):$("",!0)}}}),Ut=A({__name:"PlayBtn",props:{isVisible:{type:Boolean,default:!0},withCircle:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){return(i,s)=>{var l,d,o,u;return i.isVisible&&((l=e(t).activePlayerQueue)!=null&&l.active)?(v(),I(oe,W({key:0},i.icon,{disabled:e(t).activePlayerQueue.items==0,icon:((d=e(t).activePlayerQueue)==null?void 0:d.state)=="playing"?i.withCircle?"mdi-pause-circle":"mdi-pause":i.withCircle?"mdi-play-circle":"mdi-play",type:"btn",onClicked:s[0]||(s[0]=y=>e(b).queueCommandPlayPause(e(t).activePlayerQueue.queue_id))}),null,16,["disabled","icon"])):i.isVisible&&((o=e(t).activePlayer)==null?void 0:o.state)==e(_a).PLAYING?(v(),I(oe,W({key:1},i.icon,{icon:"mdi-stop",type:"btn",onClick:s[1]||(s[1]=y=>e(b).queueCommandStop(e(t).activePlayer.player_id))}),null,16)):i.isVisible?(v(),I(oe,W({key:2},i.icon,{disabled:!e(t).activePlayerId||!((u=e(t).activePlayer)!=null&&u.active_source),icon:i.withCircle?"mdi-play-circle":"mdi-play",type:"btn",onClicked:s[2]||(s[2]=y=>e(b).playerCommandPlay(e(t).activePlayerId))}),null,16,["disabled","icon"])):$("",!0)}}}),Nt=A({__name:"PreviousBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){return(i,s)=>{var l,d;return i.isVisible?(v(),I(oe,W({key:0},i.icon,{disabled:!e(t).activePlayerQueue||!((l=e(t).activePlayerQueue)!=null&&l.active)||((d=e(t).activePlayerQueue)==null?void 0:d.items)<=1,icon:"mdi-skip-previous-outline",type:"btn",onClicked:s[0]||(s[0]=o=>e(b).queueCommandPrevious(e(t).activePlayerQueue.queue_id))}),null,16,["disabled"])):$("",!0)}}}),Ot=A({__name:"NextBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){return(i,s)=>{var l,d;return i.isVisible?(v(),I(oe,W({key:0},i.icon,{disabled:!e(t).activePlayerQueue||!((l=e(t).activePlayerQueue)!=null&&l.active)||((d=e(t).activePlayerQueue)==null?void 0:d.items)<=1,icon:"mdi-skip-next-outline",type:"btn",onClicked:s[0]||(s[0]=o=>e(b).queueCommandNext(e(t).activePlayerQueue.queue_id))}),null,16,["disabled"])):$("",!0)}}}),Dl={key:0,class:"player-controls"},Ul={key:0,class:"player-controls-elements"},Nl={key:1,class:"player-controls-elements"},Ol={key:2},Yl={key:3,class:"player-controls-elements"},Gl={key:4,class:"player-controls-elements"},dt=A({__name:"PlayerControls",props:{visibleComponents:{default:()=>({repeat:{isVisible:!0},shuffle:{isVisible:!0},play:{isVisible:!0},previous:{isVisible:!0},next:{isVisible:!0}})}},setup(a){return(i,s)=>{var l,d,o,u,y;return i.visibleComponents?(v(),k("div",Dl,[i.visibleComponents&&((l=i.visibleComponents.shuffle)!=null&&l.isVisible)?(v(),k("div",Ul,[r(Dt,{class:"media-controls-item",icon:i.visibleComponents.shuffle.icon},null,8,["icon"])])):$("",!0),i.visibleComponents&&((d=i.visibleComponents.previous)!=null&&d.isVisible)?(v(),k("div",Nl,[r(Nt,{class:"media-controls-item",icon:i.visibleComponents.previous.icon},null,8,["icon"])])):$("",!0),i.visibleComponents&&((o=i.visibleComponents.play)!=null&&o.isVisible)?(v(),k("div",Ol,[r(Ut,{class:"media-controls-item","with-circle":i.visibleComponents.play.withCircle,icon:i.visibleComponents.play.icon},null,8,["with-circle","icon"])])):$("",!0),i.visibleComponents&&((u=i.visibleComponents.next)!=null&&u.isVisible)?(v(),k("div",Yl,[r(Ot,{icon:i.visibleComponents.next.icon,"static-height":"24px","static-width":"24px"},null,8,["icon"])])):$("",!0),i.visibleComponents&&((y=i.visibleComponents.repeat)!=null&&y.isVisible)?(v(),k("div",Gl,[r(Ht,{icon:i.visibleComponents.repeat.icon,"static-height":"24px","static-width":"24px"},null,8,["icon"])])):$("",!0)])):$("",!0)}}});const Xl={props:{width:String,height:String,style:String,isPowered:Boolean},emits:["update:model-value"],setup(a,i){const s=B(!0),l=S(()=>({class:"player-volume",hideDetails:!0,trackSize:2,thumbSize:s.value?0:10,step:2,elevation:0,style:`width: ${a.width}; height:${a.height}; display: inline-grid; ${a.style}`,disabled:!a.isPowered})),d=S(()=>({...l.value,...i}));return{isThumbHidden:s,playerVolumeProps:d,onWheel:({deltaY:u})=>{const y=d.value.step,h=i.attrs["model-value"],n=u<0?y:-y;i.emit("update:model-value",h+n)}}}};function jl(a,i,s,l,d,o){return v(),I(At,W(l.playerVolumeProps,{onTouchstart:i[0]||(i[0]=u=>l.isThumbHidden=!1),onTouchend:i[1]||(i[1]=u=>l.isThumbHidden=!0),onMouseenter:i[2]||(i[2]=u=>l.isThumbHidden=!1),onMouseleave:i[3]||(i[3]=u=>l.isThumbHidden=!0),onWheel:Pe(l.onWheel,["prevent"]),"onUpdate:modelValue":i[4]||(i[4]=u=>a.$emit("update:model-value",u))}),qe({_:2},[K(a.$slots,(u,y)=>({name:y,fn:p(()=>[We(a.$slots,y,{},void 0,!0)])}))]),1040,["onWheel"])}const Ce=O(Xl,[["render",jl],["__scopeId","data-v-79eabd73"]]),Yt=A({__name:"QueueBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const i=function(){t.showFullscreenPlayer&&t.showQueueItems?t.showQueueItems=!1:t.showFullscreenPlayer&&!t.showQueueItems?t.showQueueItems=!0:(t.showQueueItems=!0,t.showFullscreenPlayer=!0)};return(s,l)=>{var d;return s.isVisible?(v(),I(oe,W({key:0},s.icon,{disabled:!e(t).activePlayerId,icon:"mdi-playlist-play",color:e(ye)((d=s.icon)==null?void 0:d.color,[[e(t).showFullscreenPlayer&&e(t).showQueueItems,"primary",""]]),type:"btn",onClicked:i}),null,16,["disabled","color"])):$("",!0)}}}),Kl={class:"main"},Jl={key:0,class:"main-media-details"},Zl={key:0,class:"main-media-details-image"},ei={class:"main-media-details-track-info"},ti={key:0},ai={style:{margin:"auto","padding-top":"20px"}},li={key:1,class:"main-queue-items"},ii={class:"queue-items-scroll-box"},oi={class:"media-thumb listitem-media-thumb"},si={key:0},ni={key:2,class:"main-queue-items"},ui={class:"main-media-details-image main-media-details-image-alt"},ri={class:"player-bottom"},di={class:"row",style:{"margin-left":"5%","margin-right":"5%"}},ci={class:"media-controls"},mi={class:"row",style:{"margin-left":"5%","margin-right":"5%"}},vi={key:0,class:"row",style:{height:"70px",display:"flex","justify-content":"center","align-items":"center","padding-bottom":"15px","padding-top":"15px"}},yi=A({__name:"PlayerFullscreen",props:{colorPalette:{}},setup(a){const{t:i}=ha(),{name:s}=bt(),l=a,d=B([]),o=B(""),u=B(0),y=B(!1),h=S(()=>t.activePlayerQueue?d.value.slice(t.activePlayerQueue.current_index):[]),n=S(()=>t.activePlayerQueue?d.value.slice(0,t.activePlayerQueue.current_index):[]),f=S(()=>{switch(s.value){case"xs":return"1.2em";case"sm":return"1.6em";case"md":return"2em";case"lg":return t.showQueueItems?"1.5em":"2.5em";case"xl":return t.showQueueItems?"1.6em":"3em";case"xxl":return t.showQueueItems?"1.7em":"3.2em";default:return"1.0em."}}),c=S(()=>{switch(s.value){case"xs":return"1.0em";case"sm":return"1.2em";case"md":return"1.7em";case"lg":return t.showQueueItems?"1.0em":"1.6em";case"xl":return t.showQueueItems?"1.2em":"2em";case"xxl":return t.showQueueItems?"1.2em":"2em";default:return"1.0em."}}),m=function(P){t.showFullscreenPlayer=!1,$e.push({name:P.media_type,params:{itemId:P.item_id,provider:P.provider}})},_=function(P){t.globalSearchTerm=P,$e.push({name:"search"}),t.showFullscreenPlayer=!1},C=function(P,g){var X,H,j,me,re,de,ne;const T=d.value.indexOf(g),F=[{label:"play_now",labelArgs:[],action:()=>{x(g,"play_now")},icon:"mdi-play-circle-outline",disabled:T===((X=t.activePlayerQueue)==null?void 0:X.current_index)||T===((H=t.activePlayerQueue)==null?void 0:H.index_in_buffer)},{label:"play_next",labelArgs:[],action:()=>{x(g,"move_next")},icon:"mdi-skip-next-circle-outline",disabled:T<=(((j=t.activePlayerQueue)==null?void 0:j.index_in_buffer)||0)},{label:"queue_move_up",labelArgs:[],action:()=>{x(g,"up")},icon:"mdi-arrow-up",disabled:T<=(((me=t.activePlayerQueue)==null?void 0:me.index_in_buffer)||0)},{label:"queue_move_down",labelArgs:[],action:()=>{x(g,"down")},icon:"mdi-arrow-down",disabled:T<=(((re=t.activePlayerQueue)==null?void 0:re.index_in_buffer)||0)},{label:"queue_delete",labelArgs:[],action:()=>{x(g,"delete")},icon:"mdi-delete",disabled:T<=(((de=t.activePlayerQueue)==null?void 0:de.index_in_buffer)||0)}];((ne=g==null?void 0:g.media_item)==null?void 0:ne.media_type)==le.TRACK&&F.push({label:"show_info",labelArgs:[],action:()=>{m(g.media_item)},icon:"mdi-information-outline",disabled:!1}),ve.emit("contextmenu",{items:F,posX:P.clientX,posY:P.clientY})},M=function(P){const g=[{label:"settings.player_settings",labelArgs:[],action:()=>{t.showFullscreenPlayer=!1,$e.push(`/settings/editplayer/${t.activePlayerQueue.queue_id}`)},icon:"mdi-cog-outline"},{label:"queue_clear",labelArgs:[],action:()=>{b.queueCommandClear(t.activePlayerQueue.queue_id)},icon:"mdi-cancel"},{label:t.activePlayerQueue.shuffle_enabled?"shuffle_enabled":"shuffle_disabled",labelArgs:[],action:()=>{b.queueCommandShuffleToggle(t.activePlayerQueue.queue_id)},icon:t.activePlayerQueue.shuffle_enabled?"mdi-shuffle":"mdi-shuffle-disabled"},{label:"repeat_mode",labelArgs:[i(`repeatmode.${t.activePlayerQueue.repeat_mode}`)],action:()=>{b.queueCommandRepeatToggle(t.activePlayerQueue.queue_id)},icon:t.activePlayerQueue.shuffle_enabled?"mdi-repeat":"mdi-repeat-off"},{label:"transfer_queue",icon:"mdi-swap-horizontal",subItems:Object.values(b.queues).filter(T=>{var F;return T.queue_id!=((F=t.activePlayerQueue)==null?void 0:F.queue_id)}).map(T=>({label:T.display_name,labelArgs:[],action:()=>{b.queueCommandTransfer(t.activePlayerQueue.queue_id,T.queue_id),t.activePlayerId=T.queue_id}}))}];ve.emit("contextmenu",{items:g,posX:P.clientX,posY:P.clientY})},x=function(P,g){var T,F,X,H,j;!P||!t.activePlayerQueue||(g=="play_now"?b.queueCommandPlayIndex((T=t.activePlayerQueue)==null?void 0:T.queue_id,P.queue_item_id):g=="move_next"?b.queueCommandMoveNext((F=t.activePlayerQueue)==null?void 0:F.queue_id,P.queue_item_id):g=="up"?b.queueCommandMoveUp((X=t.activePlayerQueue)==null?void 0:X.queue_id,P.queue_item_id):g=="down"?b.queueCommandMoveDown((H=t.activePlayerQueue)==null?void 0:H.queue_id,P.queue_item_id):g=="delete"&&b.queueCommandDelete((j=t.activePlayerQueue)==null?void 0:j.queue_id,P.queue_item_id))},se=async function(P=!1){if(y.value=!0,P&&(d.value=[]),t.activePlayerQueue){const g=d.value.length,T=(t.activePlayerQueue.current_index||0)+50,F=await b.getPlayerQueueItems(t.activePlayerQueue.queue_id,T,g);d.value.push(...F)}y.value=!1},Y=function({done:P}){var g;if(!t.activePlayerQueue||t.activePlayerQueue.items==0){P("empty");return}if(d.value.length>=((g=t.activePlayerQueue)==null?void 0:g.items)){P("empty");return}se(!1).then(()=>{P("ok")})};Me(()=>{const P=b.subscribe(ga.QUEUE_ITEMS_UPDATED,g=>{var T;g.object_id==((T=t.activePlayerQueue)==null?void 0:T.queue_id)&&se(!0)});Fe(P)});const G=function(P){var T;if(!((T=t.curQueueItem)!=null&&T.media_item))return;if(!t.curQueueItem.media_item.favorite){b.toggleFavorite(t.curQueueItem.media_item);return}const g=[{label:"favorites_remove",labelArgs:[],action:()=>{b.toggleFavorite(t.curQueueItem.media_item)},icon:"mdi-heart"},{label:"add_playlist",labelArgs:[],action:()=>{ve.emit("playlistdialog",{items:[t.curQueueItem.media_item]})},icon:"mdi-plus-circle-outline"}];ve.emit("contextmenu",{items:g,posX:P.clientX,posY:P.clientY})},z=function(){y.value=!0,ea(100).then(()=>{y.value=!1})};return ae(()=>t.activePlayerId,P=>{se(!0)},{immediate:!0}),ae(()=>l.colorPalette,P=>{!P.darkColor||!P.lightColor?o.value=Se.theme.current.value.dark?"#000":"#fff":o.value=Se.theme.current.value.dark?P.darkColor:P.lightColor}),(P,g)=>(v(),I(Pt,{modelValue:e(t).showFullscreenPlayer,"onUpdate:modelValue":g[13]||(g[13]=T=>e(t).showFullscreenPlayer=T),fullscreen:"",scrim:!1,transition:"dialog-bottom-transition","z-index":"9999"},{default:p(()=>[r(Ne,{color:e(ta)(o.value,70,80)},{default:p(()=>{var T,F,X,H,j,me,re,de,ne,Xe,je,Ke,Je,Ze,et,tt,at;return[r(al,{class:"v-toolbar-default",color:"transparent"},{prepend:p(()=>[r(ue,{icon:"",onClick:g[0]||(g[0]=Q=>e(t).showFullscreenPlayer=!1)},{default:p(()=>[r(R,{icon:"mdi-chevron-down"})]),_:1})]),append:p(()=>[r(ue,{icon:"",onClick:g[1]||(g[1]=Q=>e(t).showFullscreenPlayer=!1)},{default:p(()=>[r(R,{icon:"mdi-dots-vertical",onClick:Pe(M,["stop"])})]),_:1})]),_:1}),V("div",Kl,[e(L)("bp7")||!e(t).showQueueItems?(v(),k("div",Jl,[P.$vuetify.display.height>600?(v(),k("div",Zl,[r(be,{item:e(t).curQueueItem,thumbnail:!1,style:{"max-width":"100%",width:"auto"}},null,8,["item"])])):$("",!0),V("div",ei,[(T=e(t).curQueueItem)!=null&&T.media_item?(v(),I(Ie,{key:0,style:E(`font-size: ${f.value};cursor:pointer;`),onClick:g[2]||(g[2]=Q=>m(e(t).curQueueItem.media_item))},{default:p(()=>[q(w(e(t).curQueueItem.media_item.name)+" ",1),"version"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.version?(v(),k("span",ti,"( "+w(e(t).curQueueItem.media_item.version)+")",1)):$("",!0)]),_:1},8,["style"])):(F=e(t).activePlayerQueue)!=null&&F.display_name||(X=e(t).activePlayer)!=null&&X.display_name?(v(),I(Ie,{key:1,style:E(`font-size: ${f.value};cursor:pointer;`),onClick:g[3]||(g[3]=Q=>e(t).showPlayersMenu=!0)},{default:p(()=>{var Q,te;return[q(w(((Q=e(t).activePlayerQueue)==null?void 0:Q.display_name)||((te=e(t).activePlayer)==null?void 0:te.display_name)),1)]}),_:1},8,["style"])):(v(),I(Ie,{key:2,style:E(`font-size: ${f.value};cursor:pointer;`),onClick:g[4]||(g[4]=Q=>e(t).showPlayersMenu=!0)},{default:p(()=>{var Q;return[q(w(((Q=e(t).activePlayer)==null?void 0:Q.display_name)||P.$t("no_player")),1)]}),_:1},8,["style"])),((j=(H=e(t).curQueueItem)==null?void 0:H.media_item)==null?void 0:j.media_type)==e(le).RADIO&&((re=(me=e(t).curQueueItem)==null?void 0:me.streamdetails)!=null&&re.stream_title)?(v(),I(ge,{key:3,class:"text-h6 text-md-h5 text-lg-h4",onClick:g[5]||(g[5]=Q=>_(e(t).curQueueItem.streamdetails.stream_title))},{default:p(()=>[q(w(e(t).curQueueItem.streamdetails.stream_title),1)]),_:1})):$("",!0),(de=e(t).curQueueItem)!=null&&de.media_item&&"album"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.album?(v(),I(ge,{key:4,style:E(`font-size: ${c.value};cursor:pointer;`),onClick:g[6]||(g[6]=Q=>m(e(t).curQueueItem.media_item.album))},{default:p(()=>[q(w(e(t).curQueueItem.media_item.album.name),1)]),_:1},8,["style"])):$("",!0),(ne=e(t).curQueueItem)!=null&&ne.media_item&&"artists"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.artists.length?(v(),I(ge,{key:5,style:E(`font-size: ${c.value};cursor:pointer;`),onClick:g[7]||(g[7]=Q=>m(e(t).curQueueItem.media_item.artists[0]))},{default:p(()=>[q(w(e(t).curQueueItem.media_item.artists[0].name),1)]),_:1},8,["style"])):$("",!0),((Xe=e(t).activePlayer)==null?void 0:Xe.active_source)!=((je=e(t).activePlayer)==null?void 0:je.player_id)?(v(),I(ge,{key:6,style:E(`font-size: ${c.value}`)},{default:p(()=>{var Q;return[q(w(P.$t("external_source_active",[(Q=e(t).activePlayer)==null?void 0:Q.active_source])),1)]}),_:1},8,["style"])):e(t).activePlayerQueue&&e(t).activePlayerQueue.items==0?(v(),I(ge,{key:7,style:E(`font-size: ${c.value}`)},{default:p(()=>[q(w(P.$t("queue_empty")),1)]),_:1},8,["style"])):$("",!0),V("div",ai,[r(Zt)])])])):$("",!0),e(t).showQueueItems?(v(),k("div",li,[r(Re,{modelValue:u.value,"onUpdate:modelValue":g[8]||(g[8]=Q=>u.value=Q),"hide-slider":"",density:"compact",onClick:z},{default:p(()=>[r(pe,{value:0},{default:p(()=>{var Q,te;return[q(w(P.$t("queue"))+" ",1),r(Le,{color:"grey",content:(((Q=e(t).activePlayerQueue)==null?void 0:Q.items)||0)-(((te=e(t).activePlayerQueue)==null?void 0:te.current_index)||0),inline:""},null,8,["content"])]}),_:1}),r(pe,{value:1},{default:p(()=>{var Q;return[q(w(P.$t("played"))+" ",1),r(Le,{color:"grey",content:(Q=e(t).activePlayerQueue)==null?void 0:Q.current_index,inline:""},null,8,["content"])]}),_:1})]),_:1},8,["modelValue"]),V("div",ii,[y.value?$("",!0):(v(),I(La,{key:0,onLoad:Y,"empty-text":"",height:"100%"},{default:p(()=>[r(ll,{"item-height":70,"max-height":"90%",items:u.value==0?h.value:n.value},{default:p(({item:Q})=>[r(tl,{link:"","show-menu-btn":!0,onClick:Pe(te=>C(te,Q),["stop"]),onMenu:Pe(te=>C(te,Q),["stop"])},{prepend:p(()=>[V("div",oi,[r(be,{size:"50",item:Q},null,8,["item"])])]),title:p(()=>[q(w(Q.name),1)]),subtitle:p(()=>[q(w(e(Ve)(Q.duration))+" ",1),Q.media_item&&"album"in Q.media_item&&Q.media_item.album?(v(),k("span",si," | "+w(Q.media_item.album.name),1)):$("",!0)]),_:2},1032,["onClick","onMenu"])]),_:1},8,["items"])]),_:1}))])])):$("",!0),!e(t).showQueueItems&&P.$vuetify.display.height<=600?(v(),k("div",ni,[V("div",ui,[r(be,{item:e(t).curQueueItem,thumbnail:!1,style:{"max-width":"100%",width:"auto"}},null,8,["item"])])])):$("",!0)]),V("div",ri,[V("div",di,[r(Ft,{"show-labels":!0})]),V("div",ci,[r(oe,{disabled:!((Ke=e(t).curQueueItem)!=null&&Ke.media_item),icon:(Ze=(Je=e(t).curQueueItem)==null?void 0:Je.media_item)!=null&&Ze.favorite?"mdi-heart":"mdi-heart-outline",title:P.$t("tooltip.favorite"),type:"btn",class:"media-controls-item","max-height":"30px",onClick:G},null,8,["disabled","icon","title"]),P.$vuetify.display.mdAndUp?(v(),I(Dt,{key:0,class:"media-controls-item","max-height":"30px"})):$("",!0),r(Nt,{class:"media-controls-item","max-height":"45px"}),r(Ut,{class:"media-controls-item","max-height":"100px"}),r(Ot,{class:"media-controls-item","max-height":"45px"}),P.$vuetify.display.mdAndUp?(v(),I(Ht,{key:1,class:"media-controls-item","max-height":"35px"})):$("",!0),r(Yt,{class:"media-controls-item","max-height":"30px"})]),V("div",mi,[r(Ce,{width:"100%","is-powered":(et=e(t).activePlayer)==null?void 0:et.powered,disabled:!e(t).activePlayer||!((tt=e(t).activePlayer)!=null&&tt.powered),"model-value":Math.round(((at=e(t).activePlayer)==null?void 0:at.group_volume)||0),"prepend-icon":"mdi-volume-minus","append-icon":"mdi-volume-plus","onUpdate:modelValue":g[9]||(g[9]=Q=>e(t).activePlayer.group_childs.length>0?e(b).playerCommandGroupVolume(e(t).activePlayerId,Q):e(b).playerCommandVolumeSet(e(t).activePlayerId,Q)),"onClick:prepend":g[10]||(g[10]=Q=>e(t).activePlayer.group_childs.length>0?e(b).playerCommandGroupVolume(e(t).activePlayerId,e(t).activePlayer.group_volume-5):e(b).playerCommandVolumeSet(e(t).activePlayerId,e(t).activePlayer.volume_level-5)),"onClick:append":g[11]||(g[11]=Q=>e(t).activePlayer.group_childs.length>0?e(b).playerCommandGroupVolume(e(t).activePlayerId,e(t).activePlayer.group_volume+5):e(b).playerCommandVolumeSet(e(t).activePlayerId,e(t).activePlayer.volume_level+5))},null,8,["is-powered","disabled","model-value"])]),P.$vuetify.display.height>800?(v(),k("div",vi,[r(fe,{class:"responsive-icon-holder-btn",variant:"outlined",onClick:g[12]||(g[12]=Q=>e(t).showPlayersMenu=!0)},{default:p(()=>{var Q;return[r(R,{icon:((Q=e(t).activePlayer)==null?void 0:Q.icon)||"mdi-speaker"},null,8,["icon"]),q(" "+w(e(t).activePlayer?e(Be)(e(t).activePlayer):""),1)]}),_:1})])):$("",!0)])]}),_:1},8,["color"])]),_:1},8,["modelValue"]))}});const pi=O(yi,[["__scopeId","data-v-60074538"]]),fi={key:0},_i={key:1},hi={class:"d-flex justify-center",style:{width:"100%"}},gi={key:0},bi={key:1},Pi={key:2,class:"line-clamp-1"},ki={key:3,class:"line-clamp-1"},Ci={key:4,class:"line-clamp-1"},wi={key:5,class:"line-clamp-1"},Vi={key:6},$i=A({__name:"PlayerTrackDetails",props:{showOnlyArtist:{type:Boolean,default:!1},showQualityDetailsBtn:{type:Boolean,default:!0},colorPalette:{},primaryColor:{default:""}},setup(a){const i=a,s=S(()=>{var l,d;return(d=(l=t.activePlayerQueue)==null?void 0:l.current_item)==null?void 0:d.streamdetails});return(l,d)=>(v(),I(ie,{style:{height:"auto",width:"fit-content",margin:"0px",padding:"0px"},lines:"two"},{prepend:p(()=>{var o;return[V("div",{class:"media-thumb player-media-thumb",style:E(`height: ${e(L)({breakpoint:"phone"})?50:64}px; width: ${e(L)({breakpoint:"phone"})?50:64}px; `)},[r(pi,{"show-fullscreen":e(t).showFullscreenPlayer,"color-palette":l.colorPalette},null,8,["show-fullscreen","color-palette"]),r(be,{item:((o=e(t).curQueueItem)==null?void 0:o.media_item)||e(t).curQueueItem,fallback:e(ct),style:{cursor:"pointer"},onClick:d[0]||(d[0]=u=>e(t).showFullscreenPlayer=!0)},null,8,["item","fallback"])],4)]}),title:p(()=>[V("div",{style:E({cursor:"pointer",color:l.primaryColor})},[e(t).curQueueItem&&e(t).curQueueItem.media_item?(v(),k("div",{key:0,onClick:d[1]||(d[1]=o=>e(t).showFullscreenPlayer=!0)},[q(w(e(t).curQueueItem.media_item.name)+" ",1),"version"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.version?(v(),k("span",fi,"("+w(e(t).curQueueItem.media_item.version)+")",1)):$("",!0)])):e(t).curQueueItem?(v(),k("div",_i,w(e(t).curQueueItem.name),1)):e(t).activePlayer?$("",!0):(v(),k("div",{key:2,onClick:d[2]||(d[2]=o=>e(t).showPlayersMenu=!0)},w(l.$t("no_player")),1))],4)]),append:p(()=>{var o,u,y;return[(o=s.value)!=null&&o.audio_format.content_type&&!e(L)({breakpoint:"phone"})&&l.showQualityDetailsBtn?(v(),I(ja,W({key:0,disabled:!e(t).activePlayerQueue||!((u=e(t).activePlayerQueue)!=null&&u.active)||((y=e(t).activePlayerQueue)==null?void 0:y.items)==0,class:"player-track-content-type",style:l.$vuetify.theme.current.dark?"color: #000; background: #fff; margin-left: 15px;":"color: #fff; background: #000; margin-left: 15px;",label:"",ripple:!1},i),{default:p(()=>[V("div",hi,w(s.value.audio_format.content_type.toUpperCase()),1)]),_:1},16,["disabled","style"])):$("",!0)]}),subtitle:p(()=>{var o,u,y,h,n,f,c,m,_;return[V("div",{style:E({cursor:"pointer",color:l.primaryColor}),class:"line-clamp-1",onClick:d[3]||(d[3]=C=>e(t).showFullscreenPlayer=!0)},[e(t).curQueueItem&&((o=e(t).curQueueItem.media_item)==null?void 0:o.media_type)==e(le).TRACK&&"album"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.album&&!i.showOnlyArtist?(v(),k("div",gi,w(e(aa)(e(t).curQueueItem.media_item.artists))+" â€¢ "+w(e(t).curQueueItem.media_item.album.name),1)):e(t).curQueueItem&&e(t).curQueueItem.media_item&&"artists"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.artists.length>0?(v(),k("div",bi,w(e(t).curQueueItem.media_item.artists[0].name),1)):(y=(u=e(t).curQueueItem)==null?void 0:u.streamdetails)!=null&&y.stream_title?(v(),k("div",Pi,w((n=(h=e(t).curQueueItem)==null?void 0:h.streamdetails)==null?void 0:n.stream_title),1)):e(t).curQueueItem&&((f=e(t).curQueueItem.media_item)!=null&&f.metadata.description)?(v(),k("div",ki,w(e(t).curQueueItem.media_item.metadata.description),1)):((c=e(t).activePlayer)==null?void 0:c.active_source)!=((m=e(t).activePlayer)==null?void 0:m.player_id)?(v(),k("div",Ci,w(l.$t("external_source_active",[(_=e(t).activePlayer)==null?void 0:_.active_source])),1)):e(t).activePlayerQueue&&e(t).activePlayerQueue.items==0?(v(),k("div",wi,w(l.$t("queue_empty")),1)):$("",!0),e(t).activePlayer?(v(),k("div",Vi,w(e(Be)(e(t).activePlayer)),1)):$("",!0)],4)]}),_:1}))}});const Ii=A({__name:"SpeakerBtn",props:{color:{}},setup(a){return(i,s)=>(v(),I(ue,{variant:"icon",ripple:!1,icon:"",onClick:s[0]||(s[0]=l=>e(t).showPlayersMenu=!0)},{default:p(()=>{var l;return[r(R,{color:i.color?i.color:"",size:24,icon:(l=e(t).activePlayer)!=null&&l.group_childs.length?"mdi-speaker-multiple":"mdi-speaker"},null,8,["color","icon"])]}),_:1}))}});const Qi={class:"text-center"},Si={class:"text-caption"},Ti={key:0,class:"syncbtn"},Bi={key:0},Mi={class:"text-center"},xi={key:1},zi={key:0,class:"text-caption"},Ai={key:1,class:"text-caption"},qi=A({__name:"VolumeControl",props:{player:{}},setup(a){const i=a,s=B(!1),l=B([]),d=function(n,f=!0){var m,_,C;const c=[];f&&n.type!=ce.GROUP&&n.type!=ce.SYNC_GROUP&&c.push(n);for(const M of n.group_childs){const x=(m=b)==null?void 0:m.players[M];x&&x.available&&!c.includes(x)&&c.push(x)}if(s.value&&n.type==ce.PLAYER)for(const M of Object.keys((_=b)==null?void 0:_.players)){const x=(C=b)==null?void 0:C.players[M];x&&x.available&&x.can_sync_with.includes(n.player_id)&&!c.includes(x)&&c.push(x)}return c.sort((M,x)=>M.display_name.toUpperCase()>x.display_name.toUpperCase()?1:-1),c},o=function(n,f){n.type==ce.GROUP||n.type==ce.SYNC_GROUP||n.group_childs.length>0?b.playerCommandGroupPower(n.player_id,f):b.playerCommandPower(n.player_id,f)},u=function(){s.value=!s.value,l.value=[...i.player.group_childs]},y=function(n,f){f?l.value.push(n):l.value=l.value.filter(c=>c!=n)},h=function(){const n=i.player.group_childs.filter(f=>!l.value.includes(f));n.length>0&&b.playerCommandUnSyncMany(n),b.playerCommandSyncMany(i.player.player_id,l.value),s.value=!1};return(n,f)=>(v(),I(ze,{style:{overflow:"hidden"},lines:"two"},{default:p(()=>[r(ie,null,{prepend:p(()=>[V("div",{style:E(n.player.powered?"opacity: 0.75":"opacity: 0.5")},[V("div",Qi,[r(ue,{icon:"",style:{height:"25px !important"},onClick:f[0]||(f[0]=c=>o(n.player,!n.player.powered))},{default:p(()=>[r(R,{size:25,icon:n.player.volume_muted?"mdi-volume-off":"mdi-power"},null,8,["icon"])]),_:1}),V("div",Si,w(Math.round(n.player.group_childs.length?n.player.group_volume:n.player.volume_level)),1)])],4)]),default:p(()=>[V("div",{class:"volumesliderrow",style:E(n.player.powered?"opacity: 0.75":"opacity: 0.5")},[V("h6",null,w(e(Be)(n.player,27)),1),r(Ce,{class:"vc-slider",width:"100%",color:"secondary","is-powered":n.player.powered,disabled:!n.player.available||!n.player.powered||!n.player.supported_features.includes(e(ot).VOLUME_SET)&&!n.player.group_childs.length,"model-value":Math.round(n.player.group_childs.length?n.player.group_volume:n.player.volume_level),"onUpdate:modelValue":f[1]||(f[1]=c=>n.player.group_childs.length>0?e(b).playerCommandGroupVolume(n.player.player_id,c):e(b).playerCommandVolumeSet(n.player.player_id,c))},null,8,["is-powered","disabled","model-value"])],4)]),append:p(()=>[V("div",{style:E(n.player.powered?"opacity: 0.75":"opacity: 0.5")},[n.player.type==e(ce).PLAYER&&n.player.can_sync_with.length&&(Object.values(e(b).players).filter(c=>!c.synced_to&&c.can_sync_with.includes(n.player.player_id)).length>0||n.player.group_childs.length>0)?(v(),k("div",Ti,[r(ue,{icon:"",onClick:u},{default:p(()=>[r(R,null,{default:p(()=>[q("mdi-link-variant")]),_:1})]),_:1})])):$("",!0)],4)]),_:1}),n.player.group_childs.length>0||s.value?(v(),k("div",Bi,[r(Te,{style:{"margin-top":"7px","margin-bottom":"7px"}}),(v(!0),k(U,null,K(d(n.player,!s.value),c=>(v(),I(ie,{key:c.player_id,density:"compact",style:E(c.powered||s.value?"opacity: 0.75":"opacity: 0.5"),onClick:f[2]||(f[2]=Pe(()=>{},["stop"]))},{prepend:p(()=>[V("div",null,[V("div",Mi,[s.value?(v(),I(la,{key:0,class:"checkbox","model-value":l.value.includes(c.player_id),"onUpdate:modelValue":m=>y(c.player_id,m)},null,8,["model-value","onUpdate:modelValue"])):(v(),k("div",xi,[r(ue,{icon:"",style:{"min-height":"20px",height:"25px !important"},onClick:m=>e(b).playerCommandPowerToggle(c.player_id)},{default:p(()=>[r(R,{size:25,icon:"mdi-power"})]),_:2},1032,["onClick"]),c.volume_muted?(v(),k("div",zi,w(n.$t("muted")),1)):(v(),k("div",Ai,w(c.volume_level),1))]))])])]),default:p(()=>[V("div",{class:"volumesliderrow",style:E(c.powered||s.value?"opacity: 0.75":"opacity: 0.5")},[V("h6",null,w(e(mt)(c.display_name,27)),1),r(Ce,{width:"100%",color:"secondary","is-powered":c.powered,disabled:!c.available||!c.powered&&!s.value||!c.supported_features.includes(e(ot).VOLUME_SET),"model-value":Math.round(c.volume_level),"onUpdate:modelValue":m=>e(b).playerCommandVolumeSet(c.player_id,m)},null,8,["is-powered","disabled","model-value","onUpdate:modelValue"])],4)]),_:2},1032,["style"]))),128))])):$("",!0),s.value?(v(),I(ie,{key:1},{default:p(()=>[r(fe,{color:"primary",width:"100%",onClick:h},{default:p(()=>[q(w(n.$t("apply")),1)]),_:1})]),_:1})):$("",!0)]),_:1}))}});const Gt=O(qi,[["__scopeId","data-v-5d7954c4"]]),Ei={key:0},Wi={key:0},Li={class:"text-caption"},Ri={key:1},Fi=A({__name:"VolumeBtn",props:{volumeSize:{default:"150px"},responsiveVolumeSize:{type:Boolean,default:!0},isVisible:{type:Boolean,default:!0},color:{default:""}},setup(a){const i=a,s=B(!1);return(l,d)=>i.isVisible&&e(t).activePlayer?(v(),k("div",Ei,[r(xt,{modelValue:s.value,"onUpdate:modelValue":d[1]||(d[1]=o=>s.value=o),class:"volume-control-dialog","close-on-content-click":!1,scrim:l.$vuetify.theme.current.dark?"rgba(0,0,0,.75)":"rgba(0,0,0,.85)"},{activator:p(({props:o})=>{var u,y;return[e(L)("bp6")||!l.responsiveVolumeSize?(v(),k("div",Wi,[r(Ce,{style:"margin-right: 0px; margin-left: 0px;",width:l.volumeSize,"is-powered":!0,"model-value":e(t).activePlayer.group_childs.length>0?Math.round(((u=e(t).activePlayer)==null?void 0:u.group_volume)||0):Math.round(((y=e(t).activePlayer)==null?void 0:y.volume_level)||0),"onUpdate:modelValue":d[0]||(d[0]=h=>{var n,f;return e(t).activePlayer.group_childs.length>0?e(b).playerCommandGroupVolume(((n=e(t).activePlayer)==null?void 0:n.player_id)||"",h):e(b).playerCommandVolumeSet(((f=e(t).activePlayer)==null?void 0:f.player_id)||"",h)})},{prepend:p(()=>[r(ue,W({variant:"icon",size:"48",ripple:!1},{...o}),{default:p(()=>{var h,n;return[r(R,{color:i.color?l.color:"",size:24,icon:"mdi-volume-high"},null,8,["color"]),V("div",Li,w(e(t).activePlayer.group_childs.length>0?Math.round(((h=e(t).activePlayer)==null?void 0:h.group_volume)||0):Math.round(((n=e(t).activePlayer)==null?void 0:n.volume_level)||0)),1)]}),_:2},1040)]),_:2},1032,["width","model-value"])])):(v(),k("div",Ri,[r(ue,W({...o},{size:"48",variant:"icon"}),{default:p(()=>{var h,n;return[r(R,{color:i.color?l.color:"",icon:"mdi-volume-high"},null,8,["color"]),V("div",{class:"text-caption",style:E({color:i.color?l.color:""})},w(e(t).activePlayer.group_childs.length>0?Math.round(((h=e(t).activePlayer)==null?void 0:h.group_volume)||0):Math.round(((n=e(t).activePlayer)==null?void 0:n.volume_level)||0)),5)]}),_:2},1040)]))]}),default:p(()=>[r(Ne,{"min-width":300},{default:p(()=>[r(ze,{style:{overflow:"hidden"},lines:"two"},{default:p(()=>{var o,u,y;return[r(ie,{density:"compact","two-line":"",title:(o=e(t).activePlayer)==null?void 0:o.display_name.substring(0,25),subtitle:(u=e(t).activePlayer)!=null&&u.powered?l.$t("state."+((y=e(t).activePlayer)==null?void 0:y.state)):l.$t("state.off")},{prepend:p(()=>[r(R,{size:"50",icon:e(t).activePlayer.icon,color:"primary"},null,8,["icon"])]),_:1},8,["title","subtitle"]),r(Te),e(t).activePlayer?(v(),I(Gt,{key:0,player:e(t).activePlayer},null,8,["player"])):$("",!0)]}),_:1})]),_:1})]),_:1},8,["modelValue","scrim"])])):$("",!0)}});const Hi=O(Fi,[["__scopeId","data-v-5046cef0"]]),Di=A({__name:"PlayerExtendedControls",props:{queue:{default:()=>({isVisible:!0,showQueueDialog:!1})},player:{default:()=>({isVisible:!0})},volume:{default:()=>({isVisible:!0,volumeSize:"150px",responsiveVolumeSize:!1})}},setup(a){return(i,s)=>(v(),k(U,null,[i.player&&i.player.isVisible?(v(),I(Ii,{key:0,color:i.player.color},null,8,["color"])):$("",!0),i.queue&&i.queue.isVisible?(v(),I(Yt,{key:1,color:i.player.color,style:{"padding-left":"15px","padding-right":"20px"}},null,8,["color"])):$("",!0),i.volume&&i.volume.isVisible?(v(),I(Hi,{key:2,color:i.volume.color,"volume-size":i.volume.volumeSize,"responsive-volume-size":i.volume.responsiveVolumeSize},null,8,["color","volume-size","responsive-volume-size"])):$("",!0)],64))}}),Ui=["data-floating"],Ni=["data-mobile"],Oi={class:"mediacontrols-left"},Yi={class:"mediacontrols-bottom-center"},Gi={class:"mediacontrols-bottom-right"},Xi={key:0,class:"volume-slider"},ji=A({__name:"Player",props:{useFloatingPlayer:{type:Boolean}},setup(a){ba(o=>({f7776ae4:d.value})),vt();const{mobile:i}=bt({mobileBreakpoint:576}),s=B({0:"",1:"",2:"",3:"",4:"",5:"",lightColor:"",darkColor:""}),l=new Image;l.src=Se.theme.current.value.dark?ct:ia,l.crossOrigin="Anonymous",l.addEventListener("load",function(){s.value=oa(l)});const d=S(()=>Se.theme.current.value.dark?s.value&&s.value.darkColor?s.value.darkColor+"26":"CCCCCC26":s.value&&s.value.lightColor?s.value.lightColor+"26":"CCCCCC26");return ae(()=>{var o;return(o=t.curQueueItem)==null?void 0:o.queue_item_id},()=>{var o;(o=t.curQueueItem)!=null&&o.media_item?l.src=lt(t.curQueueItem.media_item,st.THUMB)||"":t.curQueueItem?l.src=lt(t.curQueueItem,st.THUMB)||"":l.src=""}),(o,u)=>{var y,h,n,f,c,m,_;return v(),k(U,null,[V("div",{class:"mediacontrols-bg","data-floating":o.useFloatingPlayer},null,8,Ui),V("div",{class:"mediacontrols","data-mobile":e(i)},[V("div",Oi,[r($i,{"show-quality-details-btn":!!e(L)("bp8"),"show-only-artist":!e(L)("bp7"),"color-palette":s.value,"primary-color":o.$vuetify.theme.current.dark?"#fff":"#000"},null,8,["show-quality-details-btn","show-only-artist","color-palette","primary-color"])]),V("div",Yi,[r(dt,{"visible-components":{repeat:{isVisible:e(L)("bp3")},shuffle:{isVisible:e(L)("bp3")},play:{isVisible:!0,icon:{staticWidth:"50px",staticHeight:"50px"}},previous:{isVisible:e(L)("bp3")},next:{isVisible:e(L)("bp3")}}},null,8,["visible-components"]),e(L)("bp6")?(v(),I(Ft,{key:0,color:o.$vuetify.theme.current.dark?s.value.lightColor||"#fff":s.value.darkColor||"#000","is-progress-bar":!1,disabled:!((y=e(t).activePlayerQueue)!=null&&y.active)||((f=(n=(h=e(t).activePlayerQueue)==null?void 0:h.current_item)==null?void 0:n.media_item)==null?void 0:f.media_type)!==e(le).TRACK},null,8,["color","disabled"])):$("",!0)]),V("div",Gi,[V("div",null,[r(Di,{queue:{isVisible:e(L)("bp3"),color:o.$vuetify.theme.current.dark?"#fff":"#000"},player:{isVisible:!0,color:o.$vuetify.theme.current.dark?"#fff":"#000"},volume:{isVisible:!e(i),color:o.$vuetify.theme.current.dark?"#fff":"#000"}},null,8,["queue","player","volume"]),r(dt,{style:{"padding-right":"5px"},"visible-components":{repeat:{isVisible:!1},shuffle:{isVisible:!1},play:{isVisible:e(L)({breakpoint:"bp3",condition:"lt"}),withCircle:!1,icon:{staticWidth:"40px",staticHeight:"40px",color:o.$vuetify.theme.current.dark?"#fff":"#000"}},previous:{isVisible:!1},next:{isVisible:!1}}},null,8,["visible-components"])])])],8,Ni),e(i)?(v(),k("div",Xi,[r(Ce,{width:"100%",color:"secondary","is-powered":(c=e(t).activePlayer)==null?void 0:c.powered,disabled:!e(t).activePlayer||!((m=e(t).activePlayer)!=null&&m.powered),"model-value":Math.round(((_=e(t).activePlayer)==null?void 0:_.group_volume)||0),"prepend-icon":"mdi-volume-minus","append-icon":"mdi-volume-plus","onUpdate:modelValue":u[0]||(u[0]=C=>e(t).activePlayer.group_childs.length>0?e(b).playerCommandGroupVolume(e(t).activePlayerId,C):e(b).playerCommandVolumeSet(e(t).activePlayerId,C)),"onClick:prepend":u[1]||(u[1]=C=>e(t).activePlayer.group_childs.length>0?e(b).playerCommandGroupVolume(e(t).activePlayerId,e(t).activePlayer.group_volume-5):e(b).playerCommandVolumeSet(e(t).activePlayerId,e(t).activePlayer.volume_level-5)),"onClick:append":u[2]||(u[2]=C=>e(t).activePlayer.group_childs.length>0?e(b).playerCommandGroupVolume(e(t).activePlayerId,e(t).activePlayer.group_volume+5):e(b).playerCommandVolumeSet(e(t).activePlayerId,e(t).activePlayer.volume_level+5))},null,8,["is-powered","disabled","model-value"])])):$("",!0)],64)}}});const Ki=O(ji,[["__scopeId","data-v-70f74902"]]);const Ji=J({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...kt(),..._e(),...wt(),...Bt(),...Vt(),...we({tag:"footer"}),...xe()},"VFooter"),Zi=Z()({name:"VFooter",props:Ji(),setup(a,i){let{slots:s}=i;const l=B(),{themeClasses:d}=De(a),{backgroundColorClasses:o,backgroundColorStyles:u}=Oe(D(a,"color")),{borderClasses:y}=$t(a),{elevationClasses:h}=Qt(a),{roundedClasses:n}=St(a),f=Qe(32),{resizeRef:c}=qa(_=>{_.length&&(f.value=_[0].target.clientHeight)}),m=S(()=>a.height==="auto"?f.value:parseInt(a.height,10));return Pa(()=>a.app,()=>{const _=Mt({id:a.name,order:S(()=>parseInt(a.order,10)),position:S(()=>"bottom"),layoutSize:m,elementSize:S(()=>a.height==="auto"?void 0:m.value),active:S(()=>a.app),absolute:D(a,"absolute")});ka(()=>{l.value=_.layoutItemStyles.value})}),ee(()=>r(a.tag,{ref:c,class:["v-footer",d.value,o.value,y.value,h.value,n.value,a.class],style:[u.value,a.app?l.value:{height:ke(a.height)},a.style]},s)),{}}}),eo=A({__name:"Footer",setup(a){const i=S(()=>t.navigationMenuStyle=="horizontal"),s=S(()=>t.navigationMenuStyle!="horizontal"?0:t.isInStandaloneMode?100:80),l=S(()=>i.value?s.value+5:0);return(d,o)=>(v(),k(U,null,[i.value?(v(),k("div",{key:0,class:Ee(d.$vuetify.theme.current.dark?"gradient-dark":"gradient-light"),style:E(`
      position: fixed;
      width: 100%;
      height: ${s.value+(e(L)("bp3")?100:70)}px;
      bottom: 0px;
      z-index: 999;
    `)},null,6)):$("",!0),e(t).navigationMenuStyle=="horizontal"?(v(),I(ql,{key:1,height:s.value},null,8,["height"])):$("",!0),r(Zi,{bottom:"",fixed:"",class:Ee(`d-flex flex-column ${i.value?"mediacontrols-player-float":"mediacontrols-player-default"}`),style:E(`bottom: ${l.value}px;`),elevation:"10",app:""},{default:p(()=>[r(Ki,{"use-floating-player":i.value},null,8,["use-floating-player"])]),_:1},8,["class","style"])],64))}});const to={key:0,class:"text-body-2",style:{"line-height":"1em"}},ao={key:1,class:"text-body-2",style:{"line-height":"1em"}},lo={key:2,class:"text-body-2",style:{"line-height":"1em"}},io=A({__name:"PlayerSelect",setup(a){const i=B(void 0),s=S(()=>{var f,c;const n=[];for(const m in(f=b)==null?void 0:f.players){const _=(c=b)==null?void 0:c.players[m];u(_,!0)&&n.push(_)}return n.slice().sort((m,_)=>{var C;return m.display_name.toUpperCase()>((C=_.display_name)==null?void 0:C.toUpperCase())?1:-1})});ae(()=>t.showPlayersMenu,n=>{n&&i.value==null&&(i.value=t.activePlayer?s.value.indexOf(t.activePlayer):void 0)}),ae(()=>t.activePlayerId,n=>{n&&localStorage.setItem("mass.LastPlayerId",n)}),ae(()=>b.players,n=>{n&&y()},{deep:!0}),ae(()=>b.state,n=>{n.value!=wa.CONNECTED&&(t.activePlayerId=void 0)},{deep:!0});const l=B(),d=B();Me(()=>{var n,f,c;l.value=(c=(f=(n=Ca())==null?void 0:n.vnode)==null?void 0:f.el)==null?void 0:c.getRootNode(),y()});const o=function(n){d.value!=n&&(d.value=n,setTimeout(()=>{var c;const f=(c=l.value)==null?void 0:c.getElementById(n);f==null||f.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},0))},u=function(n,f=!0,c=!1,m=!1){return!(!n.enabled||!n.available&&!f||n.synced_to&&!c||n.active_group&&!c||n.hidden&&!m)},y=function(){if(t.activePlayer&&u(t.activePlayer,!1,!1,!1))return;const n=h();n&&(t.activePlayerId=n.player_id,console.debug("Selected new default player: ",n.display_name))},h=function(){const n=localStorage.getItem("mass.LastPlayerId");if(n&&n in b.players&&u(b.players[n],!1,!1,!1))return b.players[n]};return(n,f)=>(v(),k(U,null,[r(zt,{modelValue:e(t).showPlayersMenu,"onUpdate:modelValue":f[0]||(f[0]=c=>e(t).showPlayersMenu=c)},null,8,["modelValue"]),r(Kt,{modelValue:e(t).showPlayersMenu,"onUpdate:modelValue":f[2]||(f[2]=c=>e(t).showPlayersMenu=c),location:"right",app:"",clipped:"",temporary:"",touchless:"",width:"290",style:{"z-index":"999999"},"z-index":"999999"},{default:p(()=>[r(Ie,{class:"title"},{default:p(()=>[V("b",null,w(n.$t("players")),1)]),_:1}),r(Ka,{modelValue:i.value,"onUpdate:modelValue":f[1]||(f[1]=c=>i.value=c),focusable:"",variant:"accordion",flat:""},{default:p(()=>[(v(!0),k(U,null,K(s.value,c=>(v(),I(Ja,{id:c.player_id,key:c.player_id,disabled:!c.available,flat:"",class:"playerrow"},{default:p(()=>[r(Za,{"hide-actions":"",onClick:m=>{e(t).activePlayerId=c.player_id,o(c.player_id)}},{default:p(()=>[r(ie,{class:"playerrow-list-item"},{prepend:p(()=>[r(R,{size:"45",icon:c.type==e(ce).PLAYER&&c.group_childs.length?"mdi-speaker-multiple":c.icon,color:"primary"},null,8,["icon"])]),title:p(()=>[V("div",null,[V("b",null,w(e(mt)(e(Be)(c),22)),1)])]),subtitle:p(()=>[c.powered?c.active_source!=c.player_id&&e(b).queues[c.active_source]?(v(),k("div",ao,w(n.$t("state."+c.state))+" ("+w(e(b).queues[c.active_source].display_name)+") ",1)):(v(),k("div",lo,w(n.$t("state."+c.state)),1)):(v(),k("div",to,w(n.$t("state.off")),1))]),_:2},1024)]),_:2},1032,["onClick"]),r(el,null,{default:p(()=>[r(Gt,{player:c},null,8,["player"])]),_:2},1024)]),_:2},1032,["id","disabled"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])],64))}});const oo=O(io,[["__scopeId","data-v-1a65af29"]]);function so(a={}){const{immediate:i=!1,onNeedRefresh:s,onOfflineReady:l,onRegistered:d,onRegisteredSW:o,onRegisterError:u}=a;let y,h,n;const f=async(m=!0)=>{await h,await(n==null?void 0:n())};async function c(){if("serviceWorker"in navigator){if(y=await Va(()=>import("./workbox-window.prod.es5-c46a1faa.js"),[],import.meta.url).then(({Workbox:m})=>new m("./sw.js",{scope:"./",type:"classic"})).catch(m=>{u==null||u(m)}),!y)return;n=async()=>{await(y==null?void 0:y.messageSkipWaiting())};{let m=!1;const _=()=>{m=!0,y==null||y.addEventListener("controlling",C=>{C.isUpdate&&window.location.reload()}),s==null||s()};y.addEventListener("installed",C=>{typeof C.isUpdate>"u"?typeof C.isExternal<"u"?C.isExternal?_():!m&&(l==null||l()):C.isExternal?window.location.reload():!m&&(l==null||l()):C.isUpdate||l==null||l()}),y.addEventListener("waiting",_),y.addEventListener("externalwaiting",_)}y.register({immediate:i}).then(m=>{o?o("./sw.js",m):d==null||d(m)}).catch(m=>{u==null||u(m)})}}return h=c(),f}function no(a={}){const{immediate:i=!0,onNeedRefresh:s,onOfflineReady:l,onRegistered:d,onRegisteredSW:o,onRegisterError:u}=a,y=B(!1),h=B(!1);return{updateServiceWorker:so({immediate:i,onNeedRefresh(){y.value=!0,s==null||s()},onOfflineReady(){h.value=!0,l==null||l()},onRegistered:d,onRegisteredSW:o,onRegisterError:u}),offlineReady:h,needRefresh:y}}const uo={key:0,class:"pwa-toast",role:"alert"},ro={class:"message"},co={key:0},mo={key:1},vo=A({__name:"ReloadPrompt",setup(a){const{offlineReady:i,needRefresh:s,updateServiceWorker:l}=no(),d=async()=>{i.value=!1,s.value=!1};return(o,u)=>e(i)||e(s)?(v(),k("div",uo,[V("div",ro,[e(i)?(v(),k("span",co," App ready to work offline ")):(v(),k("span",mo," New content available, click on reload button to update. "))]),e(s)?(v(),k("button",{key:0,onClick:u[0]||(u[0]=y=>e(l)())},"Reload")):$("",!0),V("button",{onClick:d},"Close")])):$("",!0)}});const yo=J({..._e(),...Fa({fullHeight:!0}),...xe()},"VApp"),po=Z()({name:"VApp",props:yo(),setup(a,i){let{slots:s}=i;const l=De(a),{layoutClasses:d,getLayoutItem:o,items:u,layoutRef:y}=Ha(a),{rtlClasses:h}=_t();return ee(()=>{var n;return r("div",{ref:y,class:["v-application",l.themeClasses.value,d.value,h.value,a.class],style:[a.style]},[r("div",{class:"v-application__wrap"},[(n=s.default)==null?void 0:n.call(s)])])}),{getLayoutItem:o,items:u,theme:l}}}),fo=A({__name:"Default",setup(a){return(i,s)=>(v(),k(U,null,[e(t).connected?(v(),I(po,{key:0},{default:p(()=>[r(oo),r(pl),r(eo)]),_:1})):(v(),I(zt,{key:1,class:"centeredoverlay",persistent:"","model-value":!e(t).connected},{default:p(()=>[V("div",null,[r(Ea,{color:"primary",indeterminate:"",size:"64"})])]),_:1},8,["model-value"])),e(t).isInStandaloneMode?(v(),I(vo,{key:2})):$("",!0)],64))}});const Eo=O(fo,[["__scopeId","data-v-e54ca74a"]]);export{Eo as default};
