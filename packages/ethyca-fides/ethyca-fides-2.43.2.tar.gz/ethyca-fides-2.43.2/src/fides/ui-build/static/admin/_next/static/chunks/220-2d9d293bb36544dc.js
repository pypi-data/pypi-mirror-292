(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[220],{96539:function(e,t,s){var r=s(77400).Symbol;e.exports=r},99736:function(e,t,s){var r=s(96539),a=s(34840),i=s(21258),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?a(e):i(e)}},39120:function(e,t,s){var r="object"==typeof s.g&&s.g&&s.g.Object===Object&&s.g;e.exports=r},34840:function(e,t,s){var r=s(96539),a=Object.prototype,i=a.hasOwnProperty,o=a.toString,n=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,n),s=e[n];try{e[n]=void 0;var r=!0}catch(e){}var a=o.call(e);return r&&(t?e[n]=s:delete e[n]),a}},21258:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},77400:function(e,t,s){var r=s(39120),a="object"==typeof self&&self&&self.Object===Object&&self,i=r||a||Function("return this")();e.exports=i},19785:function(e){var t=Array.isArray;e.exports=t},11611:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},92360:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},55193:function(e,t,s){var r=s(99736),a=s(92360);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},90824:function(e,t,s){"use strict";s.d(t,{V:function(){return a}});var r=s(24246);let a=(0,s(17749).IUT)({displayName:"DatabaseIcon",viewBox:"0 0 12 12",path:(0,r.jsx)("path",{fill:"currentColor",d:"M6 12C4.32222 12 2.90278 11.7417 1.74167 11.225C0.580556 10.7083 0 10.0778 0 9.33333V2.66667C0 1.93333 0.586111 1.30556 1.75833 0.783333C2.93056 0.261111 4.34444 0 6 0C7.65556 0 9.06944 0.261111 10.2417 0.783333C11.4139 1.30556 12 1.93333 12 2.66667V9.33333C12 10.0778 11.4194 10.7083 10.2583 11.225C9.09722 11.7417 7.67778 12 6 12ZM6 4.01667C6.98889 4.01667 7.98333 3.875 8.98333 3.59167C9.98333 3.30833 10.5444 3.00556 10.6667 2.68333C10.5444 2.36111 9.98611 2.05556 8.99167 1.76667C7.99722 1.47778 7 1.33333 6 1.33333C4.98889 1.33333 3.99722 1.475 3.025 1.75833C2.05278 2.04167 1.48889 2.35 1.33333 2.68333C1.48889 3.01667 2.05278 3.32222 3.025 3.6C3.99722 3.87778 4.98889 4.01667 6 4.01667ZM6 7.33333C6.46667 7.33333 6.91667 7.31111 7.35 7.26667C7.78333 7.22222 8.19722 7.15833 8.59167 7.075C8.98611 6.99167 9.35833 6.88889 9.70833 6.76667C10.0583 6.64444 10.3778 6.50556 10.6667 6.35V4.35C10.3778 4.50556 10.0583 4.64444 9.70833 4.76667C9.35833 4.88889 8.98611 4.99167 8.59167 5.075C8.19722 5.15833 7.78333 5.22222 7.35 5.26667C6.91667 5.31111 6.46667 5.33333 6 5.33333C5.53333 5.33333 5.07778 5.31111 4.63333 5.26667C4.18889 5.22222 3.76944 5.15833 3.375 5.075C2.98056 4.99167 2.61111 4.88889 2.26667 4.76667C1.92222 4.64444 1.61111 4.50556 1.33333 4.35V6.35C1.61111 6.50556 1.92222 6.64444 2.26667 6.76667C2.61111 6.88889 2.98056 6.99167 3.375 7.075C3.76944 7.15833 4.18889 7.22222 4.63333 7.26667C5.07778 7.31111 5.53333 7.33333 6 7.33333ZM6 10.6667C6.51111 10.6667 7.03056 10.6278 7.55833 10.55C8.08611 10.4722 8.57222 10.3694 9.01667 10.2417C9.46111 10.1139 9.83333 9.96945 10.1333 9.80833C10.4333 9.64722 10.6111 9.48333 10.6667 9.31667V7.68333C10.3778 7.83889 10.0583 7.97778 9.70833 8.1C9.35833 8.22222 8.98611 8.325 8.59167 8.40833C8.19722 8.49167 7.78333 8.55556 7.35 8.6C6.91667 8.64444 6.46667 8.66667 6 8.66667C5.53333 8.66667 5.07778 8.64444 4.63333 8.6C4.18889 8.55556 3.76944 8.49167 3.375 8.40833C2.98056 8.325 2.61111 8.22222 2.26667 8.1C1.92222 7.97778 1.61111 7.83889 1.33333 7.68333V9.33333C1.38889 9.5 1.56389 9.66111 1.85833 9.81667C2.15278 9.97222 2.52222 10.1139 2.96667 10.2417C3.41111 10.3694 3.9 10.4722 4.43333 10.55C4.96667 10.6278 5.48889 10.6667 6 10.6667Z"})})},81695:function(e,t,s){"use strict";s.d(t,{l:function(){return a}});var r=s(24246);let a=(0,s(17749).IUT)({displayName:"DatasetIcon",viewBox:"0 0 16 16",path:(0,r.jsx)("path",{fill:"currentColor",d:"M2 14V2H14V14H2ZM3.33333 12.6667H12.6667V3.33333H3.33333V12.6667ZM4.66667 7.33333H7.33333V4.66667H4.66667V7.33333ZM8.66667 7.33333H11.3333V4.66667H8.66667V7.33333ZM4.66667 11.3333H7.33333V8.66667H4.66667V11.3333ZM8.66667 11.3333H11.3333V8.66667H8.66667V11.3333Z"})})},29137:function(e,t,s){"use strict";s.d(t,{$:function(){return a}});var r=s(24246);let a=(0,s(17749).IUT)({displayName:"TableIcon",viewBox:"0 0 16 16",path:(0,r.jsx)("path",{fill:"currentColor",d:"M2 14V2H14V14H2ZM3.33333 6H12.6667V3.33333H3.33333V6ZM6.88333 9.33333H9.11667V7.33333H6.88333V9.33333ZM6.88333 12.6667H9.11667V10.6667H6.88333V12.6667ZM3.33333 9.33333H5.55V7.33333H3.33333V9.33333ZM10.45 9.33333H12.6667V7.33333H10.45V9.33333ZM3.33333 12.6667H5.55V10.6667H3.33333V12.6667ZM10.45 12.6667H12.6667V10.6667H10.45V12.6667Z"})})},12916:function(e,t,s){"use strict";s.d(t,{Z:function(){return j}});var r=s(24246),a=s(17749),i=s(27378),o=s(65399),n=s(19686);let l=(0,a.IUT)({displayName:"MonitorOffIcon",viewBox:"0 0 12 12",path:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.47125 1H5.85H6.15H6.51188L6.58875 1.36914L7.52062 5.83268L6.42408 4.98635L6.03375 3.11719L5.8038 4.50761L4.99323 3.882L5.40562 1.38867L5.47125 1ZM4.80795 5.0022L4.67675 5.79545L5.48735 6.42109L5.61854 5.62783L4.80795 5.0022ZM6.73856 6.49227L6.96125 7.55866L8.42407 8.6877L8.69498 8.00228L7.94864 7.42624L7.88625 7.58398L7.83501 7.33853L6.73856 6.49227ZM8.33138 6.45844L9.07755 7.03434L9.30188 6.4668H11.55H12V5.5293H11.55H9H8.69812L8.58375 5.82031L8.33138 6.45844ZM7.27551 9.06443L7.35399 9.125H7.28813L7.27551 9.06443ZM4.49147 6.91566L5.30209 7.54131L4.79437 10.6113L4.72875 11H4.35H4.05H3.69563L3.61313 10.6406L2.64563 6.46875H0.45H0V5.53125H0.45H2.69777L3.49646 6.1477L4.15125 8.97266L4.49147 6.91566Z",fill:"currentColor"}),(0,r.jsx)("g",{"clip-path":"url(#clip0_341_3102)",children:(0,r.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.6755 10.4168L0.164222 2.304L0.775218 1.51237L11.2865 9.62517L10.6755 10.4168Z",fill:"currentColor"})}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"clip0_341_3102",children:(0,r.jsx)("rect",{width:"11.5",height:"9",fill:"white",transform:"translate(0 1.5)"})})})]})}),c=(0,a.IUT)({displayName:"MonitorOnIcon",viewBox:"0 0 12 10",path:(0,r.jsx)("path",{d:"M5.47125 0H5.85H6.15H6.51188L6.58875 0.369141L7.88625 6.58398L8.58375 4.82031L8.69812 4.5293H9H11.55H12V5.4668H11.55H9.30188L8.36625 7.83398L8.25188 8.125H7.95H7.65H7.28813L7.21125 7.75586L6.03375 2.11719L4.79437 9.61133L4.72875 10H4.35H4.05H3.69563L3.61313 9.64062L2.64563 5.46875H0.45H0V4.53125H0.45H3H3.35438L3.43688 4.89062L4.15125 7.97266L5.40562 0.388672L5.47125 0Z",fill:"currentColor"})});var u=s(35682),d=s(6111),x=s(59104),h=s(52962),j=e=>{let{resource:t}=e,s=(0,h.G)(t),[j]=(0,d.v8)(),[m]=(0,d.vi)(),[p]=(0,d.Tl)(),{successAlert:g}=(0,o.VY)(),[f,C]=(0,i.useState)(!1),{diff_status:L,child_diff_statuses:v}=t,H=s===x.X.SCHEMA,V=s===x.X.FIELD,b=H&&void 0===L||!V&&L===n.LL.ADDITION,y=L!==n.LL.MUTED,M=L===n.LL.MUTED,Z=L===n.LL.MONITORED&&v&&(v[n.LL.ADDITION]||v[n.LL.REMOVAL]);return(0,r.jsxs)(a.Ugi,{onClick:e=>e.stopPropagation(),children:[b&&(0,r.jsx)(u.Z,{title:"Monitor",icon:(0,r.jsx)(c,{}),onClick:async()=>{C(!0),await j({staged_resource_urn:t.urn,monitor_config_id:t.monitor_config_id}),g("Data discovery has started. The results may take some time to appear in the “Data discovery“ tab.","".concat(t.name||"The resource"," is now being monitored.")),C(!1)},disabled:f}),M&&(0,r.jsx)(u.Z,{title:"Monitor",icon:H?(0,r.jsx)(c,{}):(0,r.jsx)(a.ONd,{}),onClick:async()=>{C(!0),await p({staged_resource_urn:t.urn}),g("Data discovery has started. The results may take some time to appear in the “Data discovery“ tab.","".concat(t.name||"The resource"," is now being monitored.")),C(!1)},disabled:f}),Z&&(0,r.jsx)(u.Z,{title:"Confirm",icon:(0,r.jsx)(a.nQG,{}),onClick:async()=>{C(!0),await j({staged_resource_urn:t.urn,monitor_config_id:t.monitor_config_id}),g('These changes have been added to a Fides dataset. To view, navigate to "Manage datasets".',"Table changes confirmed"),C(!1)},disabled:f}),y&&(0,r.jsx)(u.Z,{title:"Ignore",icon:H?(0,r.jsx)(l,{}):(0,r.jsx)(a.tpL,{}),onClick:async()=>{C(!0),await m({staged_resource_urn:t.urn}),C(!1)},disabled:f}),f?(0,r.jsx)(a.X40,{position:"static"}):null]})}},3745:function(e,t,s){"use strict";s.d(t,{Z:function(){return d}});var r=s(24246),a=s(17749),i=s(86677),o=s(90824),n=s(81695);let l=(0,a.IUT)({displayName:"FieldIcon",viewBox:"0 0 16 16",path:(0,r.jsx)("path",{d:"M12.6667 12.6667V10.6667H3.33333V12.6667H12.6667ZM12.6667 9.33333V6.66667H3.33333V9.33333H12.6667ZM12.6667 5.33333V3.33333H3.33333V5.33333H12.6667ZM3.33333 14C2.96667 14 2.65278 13.8694 2.39167 13.6083C2.13056 13.3472 2 13.0333 2 12.6667V3.33333C2 2.96667 2.13056 2.65278 2.39167 2.39167C2.65278 2.13056 2.96667 2 3.33333 2H12.6667C13.0333 2 13.3472 2.13056 13.6083 2.39167C13.8694 2.65278 14 2.96667 14 3.33333V12.6667C14 13.0333 13.8694 13.3472 13.6083 13.6083C13.3472 13.8694 13.0333 14 12.6667 14H3.33333Z",fill:"currentColor"})});var c=s(29137);let u=[(0,r.jsx)(o.V,{boxSize:4},"database"),(0,r.jsx)(n.l,{boxSize:5},"dataset"),(0,r.jsx)(c.$,{boxSize:5},"table"),(0,r.jsx)(l,{boxSize:5},"field")];var d=e=>{let{resourceUrn:t,parentLink:s,onPathClick:o=()=>{}}=e,n=(0,i.useRouter)();if(!t)return(0,r.jsx)(a.aGc,{separator:"/","data-testid":"results-breadcrumb",fontSize:"sm",fontWeight:"semibold",mt:-1,mb:0,children:(0,r.jsxs)(a.gN6,{children:[u[0],(0,r.jsx)(a.Atw,{ml:1,children:"All activity"})]})});let l=t.split(".");return(0,r.jsx)(a.aGc,{separator:"/","data-testid":"results-breadcrumb",fontSize:"sm",fontWeight:"normal",mt:-1,mb:0,children:l.map((e,t)=>{if(0===t)return null;let i=1===t,c=t===l.length-1;return(0,r.jsxs)(a.gN6,{fontWeight:c?"semibold":"normal",color:c?"gray.800":"gray.500",children:[u[t-1],(0,r.jsx)(a.Atw,{ml:1,onClick:()=>i?n.push(s):o(l.slice(0,t+1).join(".")),children:e})]},e)})})}},88152:function(e,t,s){"use strict";s.d(t,{Z:function(){return Z}});var r=s(24246),a=s(59003),i=s(92222),o=s(17749),n=s(86677),l=s(27378),c=s(52850),u=s(6111),d=s(98320),x=s(12916),h=s(21635),j=s(12118),m=s(59104),p=s(15025),g=e=>{let{resourceType:t}=e,s=(0,i.Cl)(),a=[];return t?t===m.X.SCHEMA?{columns:[s.accessor(e=>e.name,{id:"name",cell:e=>(0,r.jsx)(j.Z,{result:e.row.original}),header:e=>(0,r.jsx)(c.Rr,{value:"Name",...e})}),s.accessor(e=>e.urn,{id:"project",cell:e=>(0,r.jsx)(c.G3,{value:(0,p.Z)(e.getValue())}),header:e=>(0,r.jsx)(c.Rr,{value:"Project",...e})}),s.display({id:"status",cell:e=>(0,r.jsx)(h.Z,{result:e.row.original}),header:e=>(0,r.jsx)(c.Rr,{value:"Status",...e})}),s.accessor(e=>e.system,{id:"system",cell:e=>(0,r.jsx)(c.G3,{value:e.getValue()}),header:e=>(0,r.jsx)(c.Rr,{value:"System",...e})}),s.accessor(e=>e.monitor_config_id,{id:"monitor",cell:e=>(0,r.jsx)(c.G3,{value:e.getValue()}),header:e=>(0,r.jsx)(c.Rr,{value:"Detected by",...e})}),s.accessor(e=>e.updated_at,{id:"time",cell:e=>(0,r.jsx)(d.Cy,{time:e.getValue()}),header:e=>(0,r.jsx)(c.Rr,{value:"When",...e})}),s.display({id:"actions",cell:e=>(0,r.jsx)(x.Z,{resource:e.row.original}),header:"Actions"})]}:t===m.X.TABLE?{columns:[s.accessor(e=>e.name,{id:"name",cell:e=>(0,r.jsx)(j.Z,{result:e.row.original}),header:e=>(0,r.jsx)(c.Rr,{value:"Table name",...e})}),s.accessor(e=>e.description,{id:"description",cell:e=>{var t;return(0,r.jsx)(c.G3,{value:null!==(t=e.getValue())&&void 0!==t?t:"--"})},header:e=>(0,r.jsx)(c.Rr,{value:"Description",...e})}),s.display({id:"status",cell:e=>(0,r.jsx)(h.Z,{result:e.row.original}),header:e=>(0,r.jsx)(c.Rr,{value:"Status",...e})}),s.accessor(e=>e.monitor_config_id,{id:"monitor",cell:e=>(0,r.jsx)(c.G3,{value:e.getValue()}),header:e=>(0,r.jsx)(c.Rr,{value:"Detected by",...e})}),s.accessor(e=>e.updated_at,{id:"time",cell:e=>(0,r.jsx)(d.Cy,{time:e.getValue()}),header:e=>(0,r.jsx)(c.Rr,{value:"When",...e})}),s.display({id:"actions",cell:e=>(0,r.jsx)(x.Z,{resource:e.row.original}),header:"Actions"})]}:t===m.X.FIELD?{columns:[s.accessor(e=>e.name,{id:"name",cell:e=>(0,r.jsx)(j.Z,{result:e.row.original}),header:e=>(0,r.jsx)(c.Rr,{value:"Field name",...e})}),s.accessor(e=>e.description,{id:"description",cell:e=>{var t;return(0,r.jsx)(c.G3,{value:null!==(t=e.getValue())&&void 0!==t?t:"--"})},header:e=>(0,r.jsx)(c.Rr,{value:"Description",...e})}),s.display({id:"status",cell:e=>(0,r.jsx)(h.Z,{result:e.row.original}),header:e=>(0,r.jsx)(c.Rr,{value:"Status",...e})}),s.accessor(e=>e.monitor_config_id,{id:"monitor",cell:e=>(0,r.jsx)(c.G3,{value:e.getValue()}),header:e=>(0,r.jsx)(c.Rr,{value:"Detected by",...e})}),s.accessor(e=>e.updated_at,{id:"time",cell:e=>(0,r.jsx)(d.Cy,{time:e.getValue()}),header:e=>(0,r.jsx)(c.Rr,{value:"When",...e})}),s.display({id:"actions",cell:e=>(0,r.jsx)(x.Z,{resource:e.row.original}),header:"Actions"})]}:{columns:a}:{columns:a}},f=s(38637),C=s(87573),L=s(52962),v=s(71329),H=s(2053),V=s(19686),b=s(22770);let y={items:[],total:0,page:1,size:50,pages:1},M=()=>(0,r.jsx)(o.gCW,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"empty-state",alignSelf:"center",margin:"auto",children:(0,r.jsxs)(o.gCW,{children:[(0,r.jsx)(o.xvT,{fontSize:"md",fontWeight:"600",children:"No activity found"}),(0,r.jsx)(o.xvT,{fontSize:"sm",children:"You're up to date!"})]})});var Z=e=>{var t;let{resourceUrn:s}=e,d=(0,n.useRouter)(),[x,h]=(0,l.useState)(""),[j,p]=(0,l.useState)((null===(t=d.query)||void 0===t?void 0:t.showFullSchema)==="true"),Z=[V.LL.ADDITION,V.LL.REMOVAL];j&&(Z.push(V.LL.MONITORED),Z.push(V.LL.MUTED));let w=[V.LL.ADDITION,V.LL.REMOVAL];j&&(w.push(V.LL.MONITORED),w.push(V.LL.MUTED));let{PAGE_SIZES:_,pageSize:R,setPageSize:T,onPreviousPageClick:I,isPreviousPageDisabled:S,onNextPageClick:D,isNextPageDisabled:N,startRange:O,endRange:k,pageIndex:E,setTotalPages:A}=(0,c.oi)(),{isFetching:z,isLoading:G,data:U}=(0,u.z8)({staged_resource_urn:s,page:E,size:R,child_diff_status:w,diff_status:Z,search:x}),P=(0,L.G)(null==U?void 0:U.items[0]),{columns:F}=g({resourceType:P}),{items:W,total:B,pages:X}=(0,l.useMemo)(()=>null!=U?U:y,[U]);(0,l.useEffect)(()=>{A(X)},[X,A]);let $=(0,l.useMemo)(()=>F,[F]),{navigateToDetectionResults:q}=(0,f.Z)(),Q=(0,a.b7)({getCoreRowModel:(0,i.sC)(),getGroupedRowModel:(0,i.qe)(),getExpandedRowModel:(0,i.rV)(),getRowId:v.Z,columns:$,manualPagination:!0,data:W});return G?(0,r.jsx)(c.I4,{rowHeight:36,numRows:36}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Q$,{children:(0,r.jsxs)(o.kCb,{direction:"row",alignItems:"center",justifyContent:"space-between",width:"full",children:[(0,r.jsxs)(o.kCb,{gap:6,align:"center",children:[(0,r.jsx)(o.xuv,{w:400,flexShrink:0,children:(0,r.jsx)(b.M,{value:x,onChange:h})}),(0,r.jsx)(C.Z,{})]}),(0,r.jsxs)(o.kCb,{direction:"row",alignItems:"center",children:[(0,r.jsx)(o.rsf,{size:"sm",isChecked:j,onChange:()=>p(!j),colorScheme:"purple","data-testid":"full-schema-toggle"}),(0,r.jsx)(o.xvT,{marginLeft:2,fontSize:"xs",fontWeight:"medium",children:"Show full schema"})]})]})}),(0,r.jsx)(c.ZK,{tableInstance:Q,onRowClick:e=>q({resourceUrn:e.urn,showFullSchema:j}),getRowIsClickable:e=>P!==m.X.FIELD||(0,H.Z)(e),emptyTableNotice:(0,r.jsx)(M,{})}),(0,r.jsx)(c.s8,{totalRows:B||0,pageSizes:_,setPageSize:T,onPreviousPageClick:I,isPreviousPageDisabled:S||z,onNextPageClick:D,isNextPageDisabled:N||z,startRange:O,endRange:k})]})}}}]);