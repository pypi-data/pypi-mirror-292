(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4623],{19785:function(e){var t=Array.isArray;e.exports=t},21286:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dataset/[id]",function(){return o(312)}])},312:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return _}});var l=o(24246),i=o(92222),n=o(59003),s=o(17749),a=o(86677),c=o(27378),r=o(90824),d=o(81695),u=o(43124),x=o(11032),h=o(71824),m=o(52850),j=o(52987),p=o(39006),f=o(16781),b=o(57311),C=o(435),g=o(98894),y=o(5067),v=e=>{let{dataset:t,collection:o,isOpen:i,onClose:n}=e,a=null==t?void 0:t.collections.indexOf(o),[c]=(0,C.TG)(),r=(0,s.pmc)(),{isOpen:d,onOpen:u,onClose:x}=(0,s.qY0)(),h=async e=>{let l={...o,...e},i=(0,y.jC)(t,l,a);try{await c(i),r((0,f.t5)("Successfully modified collection"))}catch(e){r((0,f.Vo)(e))}n()},m=async()=>{if(t&&void 0!==a){let e=(0,y.qe)(t,a);try{await c(e),r((0,f.t5)("Successfully deleted collection"))}catch(e){r((0,f.Vo)(e))}n(),x()}};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(b.ZP,{isOpen:i,onClose:n,description:"Collections are an array of objects that describe the Dataset's collections. Provide additional context to this collection by filling out the fields below.",header:(0,l.jsx)(b.zR,{title:"Collection Name: ".concat(null==o?void 0:o.name),onDelete:u}),footer:(0,l.jsx)(b.Gn,{onClose:n,formId:g.e}),children:(0,l.jsx)(g.Z,{values:o,onSubmit:h,dataType:"collection",showDataCategories:!1})}),(0,l.jsx)(s.cVQ,{isOpen:d,onClose:x,onConfirm:m,title:"Delete Collection",message:(0,l.jsxs)(s.xvT,{children:["You are about to permanently delete the collection named"," ",(0,l.jsx)(s.xvT,{color:"complimentary.500",as:"span",fontWeight:"bold",children:null==o?void 0:o.name})," ","from this dataset. Are you sure you would like to continue?"]})})]})};let w=(0,i.Cl)(),S=()=>(0,l.jsx)(s.gCW,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"no-results-notice",alignSelf:"center",margin:"auto",textAlign:"center",children:(0,l.jsx)(s.gCW,{children:(0,l.jsx)(s.xvT,{fontSize:"md",fontWeight:"600",children:"No collections found."})})});var _=()=>{let e=(0,a.useRouter)(),{id:t}=e.query,o=Array.isArray(t)?t[0]:t,{isLoading:f,data:b}=(0,j.oM)(o),C=(0,c.useMemo)(()=>(null==b?void 0:b.collections)||[],[b]),[g,y]=(0,c.useState)(!1),[_,R]=(0,c.useState)(),[k,N]=(0,c.useState)(),O=(0,c.useMemo)(()=>[w.accessor(e=>e.name,{id:"name",cell:e=>(0,l.jsx)(m.G3,{value:e.getValue()}),header:e=>(0,l.jsx)(m.Rr,{value:"Collection Name",...e}),size:180}),w.accessor(e=>e.description,{id:"description",cell:e=>(0,l.jsx)(m.G3,{value:e.getValue()}),header:e=>(0,l.jsx)(m.Rr,{value:"Description",...e}),size:300}),w.display({id:"actions",header:"Actions",cell:e=>{let{row:t}=e,o=t.original;return(0,l.jsx)(s.Ugi,{spacing:0,"data-testid":"collection-".concat(o.name),children:(0,l.jsx)(s.zxk,{variant:"outline",size:"xs",leftIcon:(0,l.jsx)(s.dY8,{}),onClick:()=>{R(o),y(!0)},children:"Edit"})})},meta:{disableRowClick:!0}})],[]),T=(0,c.useMemo)(()=>k?C.filter(e=>e.name.toLowerCase().includes(k.toLowerCase())):C,[C,k]),z=(0,n.b7)({getCoreRowModel:(0,i.sC)(),getFilteredRowModel:(0,i.vL)(),getSortedRowModel:(0,i.tj)(),columns:O,data:T});return(0,l.jsxs)(u.Z,{title:"Dataset - ".concat(o),mainProps:{paddingTop:0},children:[(0,l.jsx)(h.Z,{breadcrumbs:[{title:"Datasets"}],children:(0,l.jsx)(p.Z,{breadcrumbs:[{title:"All datasets",icon:(0,l.jsx)(r.V,{boxSize:4}),link:x.$m},{title:o,icon:(0,l.jsx)(d.l,{boxSize:5})}]})}),f?(0,l.jsx)(m.I4,{rowHeight:36,numRows:15}):(0,l.jsxs)(s.xuv,{"data-testid":"collections-table",children:[(0,l.jsx)(m.Q$,{children:(0,l.jsx)(m.HO,{globalFilter:k,setGlobalFilter:N,placeholder:"Search",testid:"collections-search"})}),(0,l.jsx)(m.ZK,{tableInstance:z,emptyTableNotice:(0,l.jsx)(S,{}),onRowClick:t=>{e.push({pathname:x.cH,query:{id:o,urn:t.name}})}})]}),(0,l.jsx)(v,{dataset:b,collection:_,isOpen:g,onClose:()=>y(!1)})]})}}},function(e){e.O(0,[6451,2850,7096,2888,9774,179],function(){return e(e.s=21286)}),_N_E=e.O()}]);