(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7477],{96539:function(e,t,s){var a=s(77400).Symbol;e.exports=a},99736:function(e,t,s){var a=s(96539),i=s(34840),n=s(21258),r=a?a.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":r&&r in Object(e)?i(e):n(e)}},39120:function(e,t,s){var a="object"==typeof s.g&&s.g&&s.g.Object===Object&&s.g;e.exports=a},34840:function(e,t,s){var a=s(96539),i=Object.prototype,n=i.hasOwnProperty,r=i.toString,o=a?a.toStringTag:void 0;e.exports=function(e){var t=n.call(e,o),s=e[o];try{e[o]=void 0;var a=!0}catch(e){}var i=r.call(e);return a&&(t?e[o]=s:delete e[o]),i}},21258:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},77400:function(e,t,s){var a=s(39120),i="object"==typeof self&&self&&self.Object===Object&&self,n=a||i||Function("return this")();e.exports=n},19785:function(e){var t=Array.isArray;e.exports=t},11611:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},92360:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},55193:function(e,t,s){var a=s(99736),i=s(92360);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==a(e)}},45550:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/data-discovery/activity",function(){return s(39052)}])},12916:function(e,t,s){"use strict";s.d(t,{Z:function(){return x}});var a=s(24246),i=s(17749),n=s(27378),r=s(65399),o=s(19686);let c=(0,i.IUT)({displayName:"MonitorOffIcon",viewBox:"0 0 12 12",path:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.47125 1H5.85H6.15H6.51188L6.58875 1.36914L7.52062 5.83268L6.42408 4.98635L6.03375 3.11719L5.8038 4.50761L4.99323 3.882L5.40562 1.38867L5.47125 1ZM4.80795 5.0022L4.67675 5.79545L5.48735 6.42109L5.61854 5.62783L4.80795 5.0022ZM6.73856 6.49227L6.96125 7.55866L8.42407 8.6877L8.69498 8.00228L7.94864 7.42624L7.88625 7.58398L7.83501 7.33853L6.73856 6.49227ZM8.33138 6.45844L9.07755 7.03434L9.30188 6.4668H11.55H12V5.5293H11.55H9H8.69812L8.58375 5.82031L8.33138 6.45844ZM7.27551 9.06443L7.35399 9.125H7.28813L7.27551 9.06443ZM4.49147 6.91566L5.30209 7.54131L4.79437 10.6113L4.72875 11H4.35H4.05H3.69563L3.61313 10.6406L2.64563 6.46875H0.45H0V5.53125H0.45H2.69777L3.49646 6.1477L4.15125 8.97266L4.49147 6.91566Z",fill:"currentColor"}),(0,a.jsx)("g",{"clip-path":"url(#clip0_341_3102)",children:(0,a.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.6755 10.4168L0.164222 2.304L0.775218 1.51237L11.2865 9.62517L10.6755 10.4168Z",fill:"currentColor"})}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"clip0_341_3102",children:(0,a.jsx)("rect",{width:"11.5",height:"9",fill:"white",transform:"translate(0 1.5)"})})})]})}),l=(0,i.IUT)({displayName:"MonitorOnIcon",viewBox:"0 0 12 10",path:(0,a.jsx)("path",{d:"M5.47125 0H5.85H6.15H6.51188L6.58875 0.369141L7.88625 6.58398L8.58375 4.82031L8.69812 4.5293H9H11.55H12V5.4668H11.55H9.30188L8.36625 7.83398L8.25188 8.125H7.95H7.65H7.28813L7.21125 7.75586L6.03375 2.11719L4.79437 9.61133L4.72875 10H4.35H4.05H3.69563L3.61313 9.64062L2.64563 5.46875H0.45H0V4.53125H0.45H3H3.35438L3.43688 4.89062L4.15125 7.97266L5.40562 0.388672L5.47125 0Z",fill:"currentColor"})});var u=s(35682),d=s(6111),L=s(59104),f=s(52962),x=e=>{let{resource:t}=e,s=(0,f.G)(t),[x]=(0,d.v8)(),[g]=(0,d.vi)(),[j]=(0,d.Tl)(),{successAlert:p}=(0,r.VY)(),[h,v]=(0,n.useState)(!1),{diff_status:I,child_diff_statuses:_}=t,T=s===L.X.SCHEMA,m=s===L.X.FIELD,C=T&&void 0===I||!m&&I===o.LL.ADDITION,A=I!==o.LL.MUTED,S=I===o.LL.MUTED,b=I===o.LL.MONITORED&&_&&(_[o.LL.ADDITION]||_[o.LL.REMOVAL]);return(0,a.jsxs)(i.Ugi,{onClick:e=>e.stopPropagation(),children:[C&&(0,a.jsx)(u.Z,{title:"Monitor",icon:(0,a.jsx)(l,{}),onClick:async()=>{v(!0),await x({staged_resource_urn:t.urn,monitor_config_id:t.monitor_config_id}),p("Data discovery has started. The results may take some time to appear in the “Data discovery“ tab.","".concat(t.name||"The resource"," is now being monitored.")),v(!1)},disabled:h}),S&&(0,a.jsx)(u.Z,{title:"Monitor",icon:T?(0,a.jsx)(l,{}):(0,a.jsx)(i.ONd,{}),onClick:async()=>{v(!0),await j({staged_resource_urn:t.urn}),p("Data discovery has started. The results may take some time to appear in the “Data discovery“ tab.","".concat(t.name||"The resource"," is now being monitored.")),v(!1)},disabled:h}),b&&(0,a.jsx)(u.Z,{title:"Confirm",icon:(0,a.jsx)(i.nQG,{}),onClick:async()=>{v(!0),await x({staged_resource_urn:t.urn,monitor_config_id:t.monitor_config_id}),p('These changes have been added to a Fides dataset. To view, navigate to "Manage datasets".',"Table changes confirmed"),v(!1)},disabled:h}),A&&(0,a.jsx)(u.Z,{title:"Ignore",icon:T?(0,a.jsx)(c,{}):(0,a.jsx)(i.tpL,{}),onClick:async()=>{v(!0),await g({staged_resource_urn:t.urn}),v(!1)},disabled:h}),h?(0,a.jsx)(i.X40,{position:"static"}):null]})}},37429:function(e,t,s){"use strict";var a=s(24246),i=s(17749),n=s(27378),r=s(65399),o=s(19686),c=s(35682),l=s(6111);t.Z=e=>{let{resource:t}=e,[s]=(0,l.cM)(),[u]=(0,l.vi)(),[d,L]=(0,n.useState)(!1),{diff_status:f,child_diff_statuses:x,top_level_field_name:g}=t,{successAlert:j}=(0,r.VY)(),p=f===o.LL.CLASSIFICATION_ADDITION||f===o.LL.CLASSIFICATION_UPDATE,h=x&&(x[o.LL.CLASSIFICATION_ADDITION]||x[o.LL.CLASSIFICATION_UPDATE]),v=(p||h)&&!g,I=p||h;return(0,a.jsxs)(i.Ugi,{onClick:e=>e.stopPropagation(),children:[v&&(0,a.jsx)(c.Z,{title:"Confirm",icon:(0,a.jsx)(i.nQG,{}),onClick:async()=>{L(!0),await s({staged_resource_urn:t.urn}),j('These changes have been added to a Fides dataset. To view, navigate to "Manage datasets".',"Table changes confirmed"),L(!1)},disabled:d}),I&&(0,a.jsx)(c.Z,{title:"Ignore",icon:(0,a.jsx)(i.tpL,{}),onClick:async()=>{L(!0),await u({staged_resource_urn:t.urn}),L(!1)},disabled:d}),d?(0,a.jsx)(i.X40,{position:"static"}):null]})}},39052:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return N}});var a,i,n=s(24246),r=s(27378),o=s(65464),c=s(71824),l=s(38637),u=s(92222),d=s(59003),L=s(17749),f=s(52850),x=s(98320),g=s(6111),j=s(87573),p=s(21635),h=s(12118),v=s(71329),I=s(12916),_=s(37429),T=s(22770);(a=i||(i={})).DATASET="Dataset",a.CLASSIFICATION="Classification";var m=s(15025),C=s(51557),A=s(58525),S=e=>(0,A.Z)(e)===C.E.CLASSIFICATION?i.CLASSIFICATION:i.DATASET;let b={items:[],total:0,page:1,size:50,pages:1},y=()=>(0,n.jsx)(L.gCW,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"empty-state",alignSelf:"center",margin:"auto",children:(0,n.jsxs)(L.gCW,{children:[(0,n.jsx)(L.xvT,{fontSize:"md",fontWeight:"600",children:"No activity found"}),(0,n.jsx)(L.xvT,{fontSize:"sm",children:"You're up to date!"})]})}),D=(0,u.Cl)();var H=e=>{let{onRowClick:t,statusFilters:s,childsStatusFilters:a}=e,[o,c]=(0,r.useState)(""),{PAGE_SIZES:l,pageSize:C,setPageSize:A,onPreviousPageClick:H,isPreviousPageDisabled:O,onNextPageClick:N,isNextPageDisabled:w,startRange:M,endRange:Z,pageIndex:E,setTotalPages:R}=(0,f.oi)(),{isFetching:k,isLoading:P,data:F}=(0,g.z8)({diff_status:s,child_diff_status:a,page:E,size:C,search:o}),{items:V,total:U,pages:z}=(0,r.useMemo)(()=>null!=F?F:b,[F]);(0,r.useEffect)(()=>{R(z)},[z,R]);let G=(0,r.useMemo)(()=>[D.accessor(e=>e.name,{id:"name",cell:e=>(0,n.jsx)(h.Z,{result:e.row.original}),header:e=>(0,n.jsx)(f.Rr,{value:"Name",...e})}),D.accessor(e=>e.urn,{id:"project",cell:e=>(0,n.jsx)(f.G3,{value:(0,m.Z)(e.getValue())}),header:e=>(0,n.jsx)(f.Rr,{value:"Project",...e})}),D.display({id:"status",cell:e=>(0,n.jsx)(p.Z,{result:e.row.original}),header:e=>(0,n.jsx)(f.Rr,{value:"Status",...e})}),D.accessor(e=>e.system,{id:"system",cell:e=>(0,n.jsx)(f.G3,{value:e.getValue()}),header:e=>(0,n.jsx)(f.Rr,{value:"System",...e})}),D.accessor(e=>e.monitor_config_id,{id:"monitor",cell:e=>(0,n.jsx)(f.G3,{value:e.getValue()}),header:e=>(0,n.jsx)(f.Rr,{value:"Detected by",...e})}),D.accessor(e=>e.updated_at,{id:"time",cell:e=>(0,n.jsx)(x.Cy,{time:e.getValue()}),header:e=>(0,n.jsx)(f.Rr,{value:"When",...e})}),D.accessor(e=>e,{id:"action",cell:e=>S(e.getValue())===i.DATASET?(0,n.jsx)(I.Z,{resource:e.getValue()}):(0,n.jsx)(_.Z,{resource:e.getValue()}),header:e=>(0,n.jsx)(f.Rr,{value:"Action",...e})})],[]),X=(0,d.b7)({getCoreRowModel:(0,u.sC)(),getGroupedRowModel:(0,u.qe)(),getExpandedRowModel:(0,u.rV)(),getRowId:v.Z,columns:G,manualPagination:!0,data:V});return P?(0,n.jsx)(f.I4,{rowHeight:36,numRows:36}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.Q$,{children:(0,n.jsxs)(L.kCb,{gap:6,align:"center",children:[(0,n.jsx)(L.xuv,{w:400,flexShrink:0,children:(0,n.jsx)(T.M,{value:o,onChange:c})}),(0,n.jsx)(j.Z,{})]})}),(0,n.jsx)(f.ZK,{tableInstance:X,onRowClick:t,emptyTableNotice:(0,n.jsx)(y,{})}),(0,n.jsx)(f.s8,{totalRows:U||0,pageSizes:l,setPageSize:A,onPreviousPageClick:H,isPreviousPageDisabled:O||k,onNextPageClick:N,isNextPageDisabled:w||k,startRange:M,endRange:Z})]})},O=s(19686),N=()=>{let{navigateToDetectionResults:e,navigateToDiscoveryResults:t}=(0,l.Z)();return(0,n.jsxs)(o.Z,{title:"Data discovery",mainProps:{padding:"0 40px 48px"},children:[(0,n.jsx)(c.Z,{breadcrumbs:[{title:"All activity"}]}),(0,n.jsx)(H,{onRowClick:s=>{if(S(s)===i.DATASET){e({resourceUrn:s.urn});return}t({resourceUrn:s.urn})},statusFilters:[O.LL.ADDITION,O.LL.REMOVAL,O.LL.CLASSIFICATION_ADDITION,O.LL.CLASSIFICATION_UPDATE],childsStatusFilters:[O.LL.ADDITION,O.LL.REMOVAL,O.LL.CLASSIFICATION_ADDITION,O.LL.CLASSIFICATION_UPDATE]})]})}}},function(e){e.O(0,[6451,2850,581,2888,9774,179],function(){return e(e.s=45550)}),_N_E=e.O()}]);