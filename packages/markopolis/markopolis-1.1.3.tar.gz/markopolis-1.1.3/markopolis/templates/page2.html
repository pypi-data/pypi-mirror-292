<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>{{ title }}</title>
		<link rel="stylesheet" href="/static/fonts.css" />
		<link rel="stylesheet" href="/static/sty.css" />

		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css"
			integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+"
			crossorigin="anonymous"
		/>

		<script
			defer
			src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"
			integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg"
			crossorigin="anonymous"
		></script>

		<script
			defer
			src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"
			integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk"
			crossorigin="anonymous"
			onload="renderMathInElement(document.body);"
		></script>

		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
		/>

		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Arvo:ital,wght@0,400;0,700;1,400;1,700&display=swap"
			rel="stylesheet"
		/>

		<link
			href="https://fonts.googleapis.com/css2?family=Literata:ital,opsz,wght@0,7..72,200..900;1,7..72,200..900&display=swap"
			rel="stylesheet"
		/>
		<link
			href="https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&display=swap"
			rel="stylesheet"
		/>

		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css"
			id="light-theme"
		/>
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/dark.min.css"
			id="dark-theme"
			disabled
		/>
		<script
			src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"
		></script>
		<script src="/static/js/filetree.js"></script>
		<!-- <script src="/static/js/callouts.js"></script> -->
		<!-- <script src="/static/js/menu.js"></script> -->

		<script
			src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"
		></script>
		<script>
		mermaid.initialize({ startOnLoad: true });
		</script>
	</head>

	<body>
		<nav>
			<div class="site-title">{{site_title}}</div>
		</nav>
		<div class="sidebar">
			<div class="menu">
			  {% macro render_folder(folder, parent_id) %}
			  {% for member in folder.members %}
			  {% if member.filename %}
			  <div class="file">
			    <a href="{{ member.link }}">
			      {{ member.title }}
			    </a>
			  </div>
			  {% elif member.folder_name %}
			  <div class="folder">
			    <button
			      class="folder-btn"
			      onclick="toggleFolder('{{ parent_id }}-{{ member.folder_name | replace('/', '-') }}', '{{ parent_id }}-chevron-{{ member.folder_name | replace('/', '-') }}')"
			    >
			      <span>{{ member.folder_name }}</span>
			      <div class="chevron">
			        <svg
			          id="{{ parent_id }}-chevron-{{ member.folder_name | replace('/', '-') }}"
			          focusable="false"
			          preserveAspectRatio="xMidYMid meet"
			          fill="currentColor"
			          width="20"
			          height="20"
			          viewBox="0 0 32 32"
			          aria-hidden="true"
			          xmlns="http://www.w3.org/2000/svg"
			          style="transition: transform 0.3s ease;"
			        >
			          <path d="M16 22L6 12 7.4 10.6 16 19.2 24.6 10.6 26 12z"></path>
			        </svg>
			      </div>
			    </button>
			    <div
			      id="{{ parent_id }}-{{ member.folder_name | replace('/', '-') }}"
			      class="folder-content"
			      style="display: none;"
			    >
			      {{ render_folder(member, parent_id ~ '-' ~ member.folder_name | replace('/', '-')) }}
			    </div>
			  </div>
			  {% endif %}
			  {% endfor %}
			  {% endmacro %}

			  <!-- Render root level directly without it being a collapsible folder -->
			  {% for member in notes_list.root.members %}
			  {% if member.filename %}
			  <div class="file">
			    <a href="{{ member.link }}">
			      {{ member.title }}
			    </a>
			  </div>
			  {% elif member.folder_name %}
			  <div class="folder">
			    <button
			      class="folder-btn"
			      onclick="toggleFolder('root-{{ member.folder_name | replace('/', '-') }}', 'root-chevron-{{ member.folder_name | replace('/', '-') }}')"
			    >
			      <span>{{ member.folder_name }}</span>
			      <div class="chevron">
			        <svg
			          id="root-chevron-{{ member.folder_name | replace('/', '-') }}"
			          focusable="false"
			          preserveAspectRatio="xMidYMid meet"
			          fill="currentColor"
			          width="20"
			          height="20"
			          viewBox="0 0 32 32"
			          aria-hidden="true"
			          xmlns="http://www.w3.org/2000/svg"
			          style="transition: transform 0.3s ease;"
			        >
			          <path d="M16 22L6 12 7.4 10.6 16 19.2 24.6 10.6 26 12z"></path>
			        </svg>
			      </div>
			    </button>
			    <div
			      id="root-{{ member.folder_name | replace('/', '-') }}"
			      class="folder-content"
			      style="display: none;"
			    >
			      {{ render_folder(member, 'root-' ~ member.folder_name | replace('/', '-')) }}
			    </div>
			  </div>
			  {% endif %}
			  {% endfor %}
			</div>
			<div class="hint">Press Ctrl-k to search</div>
		</div>
		<div class="main">
			<div class="page">
				<div class="title">
					<h1>{{ frontmatter.title}}</h1>
					<div class="tags">
                        {% for tag in frontmatter.tags %}
                        <div class="tag">{{ tag }}</div>
                        {% endfor %}
					</div>
				</div>
				<div class="content">
					{{ content | add_heading_ids | safe }}
				</div>
			</div>
		</div>

		<!--
			<div class="command-palette">
				<input
					type="text"
					id="search-input"
					placeholder="Search notes..."
				/>
				<div id="search-results"></div>
			</div>
		-->
		<script>
		hljs.highlightAll();
		</script>
		<!-- <script src="/static/js/search.js"></script> -->
		<!-- <script src="/static/js/theme.js"></script> -->
		<!-- <script src="/static/js/toc.js"></script> -->
	</body>
</html>
