{"version":3,"file":"lib_index_js.cc08504316485c558298.js","mappings":"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","sources":["webpack://@noworkflow/labextension/./style/index.css","webpack://@noworkflow/labextension/./src/coderenderer.ts","webpack://@noworkflow/labextension/./src/historyrenderer.ts","webpack://@noworkflow/labextension/./src/index.ts","webpack://@noworkflow/labextension/./src/trialrenderer.ts","webpack://@noworkflow/labextension/./style/index.css?f675"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/@jupyterlab/builder/node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/@jupyterlab/builder/node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_0___ from \"-!../../../node_modules/@jupyterlab/builder/node_modules/css-loader/dist/cjs.js!./base.css\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n`, \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import { IRenderMime } from \"@jupyterlab/rendermime-interfaces\";\nimport { Message } from \"@lumino/messaging\";\nimport { Widget } from \"@lumino/widgets\";\nimport { makeid } from \"@noworkflow/utils\";\nimport CodeMirror from 'codemirror';\n\n\n/**\n * A widget for rendering data, for usage with rendermime.\n */\nexport class RenderedCode extends Widget implements IRenderMime.IRenderer {\n  /**\n   * Create a new widget for rendering\n   */\n  constructor(options: IRenderMime.IRendererOptions) {\n    super();\n    this._mimeType = options.mimeType;\n    this.addClass('jp-RenderedNowCode');\n    this.div = document.createElement('div');\n    this.node.appendChild(this.div);\n  }\n\n  /**\n   * Render into this widget's node.\n   */\n  renderModel(model: IRenderMime.IMimeModel): Promise<void> {\n    var self = this;\n    return new Promise<void>((resolve, reject) => {\n      let data = model.data[this._mimeType] as any;\n      var code_id = makeid();\n      var textarea = document.createElement('textarea');\n      this.div.appendChild(textarea);\n      textarea.id = code_id;\n      textarea.value = data.code;\n      self.code_mirror = CodeMirror.fromTextArea(\n        textarea, {\n          lineNumbers: true,\n          firstLineNumber: data.firstLineNumber,\n          mode: \"python\",\n          readOnly: true\n      });\n      self.code_mirror.setValue(data.code);\n      var marks = data.marks;\n      marks.forEach(function(mark:any) {\n        self.code_mirror?.markText.apply(self.code_mirror, mark)\n      });\n\n      if (data.showSelection) {\n        var selection = document.createElement('input');\n        selection.id = code_id + '-selection';\n        selection.type = 'text';\n        this.div.appendChild(selection);\n        self.code_mirror.on('cursorActivity', function(cm: any) {\n          var tcursor = cm.getCursor(true);\n          var fcursor = cm.getCursor(false);\n          selection.value = (\n            \"[\" + tcursor.line + \", \" + tcursor.ch + \"], \"+\n            \"[\" + fcursor.line + \", \" + fcursor.ch + \"]\"\n          );\n        });\n      }\n      \n      this.update();\n      resolve();\n    });\n  }\n\n  /**\n   * A message handler invoked on an `'after-show'` message.\n   */\n  protected onAfterShow(msg: Message): void {\n    this.update();\n  }\n\n  /**\n   * A message handler invoked on a `'resize'` message.\n   */\n  protected onResize(msg: Widget.ResizeMessage): void {\n    this.update();\n  }\n\n  /**\n   * A message handler invoked on an `'update-request'` message.\n   */\n  protected onUpdateRequest(msg: Message): void {\n    // Update size after update\n    var self = this;\n    if (this.isVisible && self.code_mirror) {\n      setTimeout(function() {\n        self.code_mirror?.refresh();\n      },1);\n    }\n  }\n\n  div: HTMLDivElement;\n  code_mirror: CodeMirror.EditorFromTextArea | undefined;\n  private _mimeType: string;\n}\n\n  \n/**\n * A mime renderer factory for data.\n */\nexport const codeFactory: IRenderMime.IRendererFactory = {\n  safe: false,\n  mimeTypes: ['application/noworkflow.code+json'],\n  createRenderer: options => new RenderedCode(options)\n};\n  \n  ","import { IRenderMime } from \"@jupyterlab/rendermime-interfaces\";\nimport { Message } from \"@lumino/messaging\";\nimport { Widget } from \"@lumino/widgets\";\nimport { HistoryGraph, HistoryGraphData } from \"@noworkflow/history\";\nimport { makeid } from \"@noworkflow/utils\";\n\n\n/**\n * A widget for rendering data, for usage with rendermime.\n */\nexport class RenderedHistory extends Widget implements IRenderMime.IRenderer {\n  /**\n   * Create a new widget for rendering\n   */\n  constructor(options: IRenderMime.IRendererOptions) {\n    super();\n    this._mimeType = options.mimeType;\n    this.addClass('jp-RenderedNowHistory');\n    this.div = document.createElement('div');\n    \n    this.node.appendChild(this.div);\n  }\n\n  /**\n   * Render into this widget's node.\n   */\n  renderModel(model: IRenderMime.IMimeModel): Promise<void> {\n    return new Promise<void>((resolve, reject) => {\n      let data = model.data[this._mimeType] as any | HistoryGraphData;\n      this.graph = new HistoryGraph('history-' + makeid(), this.div, {\n        width: data.width,\n        height: data.height,\n        hintMessage: \"\"\n      });\n      this.graph.load(data)\n      this.update();\n      resolve();\n    });\n  }\n\n  /**\n   * A message handler invoked on an `'after-show'` message.\n   */\n  protected onAfterShow(msg: Message): void {\n    this.update();\n  }\n\n  /**\n   * A message handler invoked on a `'resize'` message.\n   */\n  protected onResize(msg: Widget.ResizeMessage): void {\n    this.update();\n  }\n\n  /**\n   * A message handler invoked on an `'update-request'` message.\n   */\n  protected onUpdateRequest(msg: Message): void {\n    // Update size after update\n    if (this.isVisible && this.graph) {\n      let width =  this.node.getBoundingClientRect().width - 24;\n      this.graph.config.width = width;\n      this.div.style.width = width + \"px\";\n      this.graph.updateWindow();\n    }\n  }\n\n  graph: HistoryGraph | undefined;\n  div: HTMLDivElement;\n  private _mimeType: string;\n}\n\n  \n/**\n * A mime renderer factory for data.\n */\nexport const historyFactory: IRenderMime.IRendererFactory = {\n  safe: false,\n  mimeTypes: ['application/noworkflow.history+json'],\n  createRenderer: options => new RenderedHistory(options)\n};\n","import { IRenderMime } from '@jupyterlab/rendermime-interfaces';\n\nimport '../style/index.css';\nimport { historyFactory } from './historyrenderer';\nimport { trialFactory } from './trialrenderer';\nimport { codeFactory } from './coderenderer';\n\n\nconst TYPES: {\n  [key: string]: { name: string; extensions: string[]; factory: IRenderMime.IRendererFactory };\n} = {\n  'application/noworkflow.history+json': {\n    name: 'noWorkflow History',\n    extensions: ['.nowhistory'],\n    factory: historyFactory\n  },\n  'application/noworkflow.trial+json': {\n    name: 'noWorkflow Trial',\n    extensions: ['.nowtrial'],\n    factory: trialFactory\n  },\n  'application/noworkflow.code+json': {\n    name: 'noWorkflow Code',\n    extensions: ['.nowcode'],\n    factory: codeFactory\n  }\n};\n\n\n/**\n * Extension definition.\n */\nconst extensions: IRenderMime.IExtension[] = Object.keys(TYPES).map(k => {\n  const { name, factory } = TYPES[k];\n  return {\n    id: `jupyterlab-noworkflow:${name}`,\n    rendererFactory: factory,\n    rank: 100,\n    dataType: 'json',\n    fileTypes: [\n      {\n        name,\n        mimeTypes: [k],\n        extensions: TYPES[k].extensions\n      }\n    ],\n    documentWidgetFactoryOptions: {\n      name,\n      primaryFileType: name,\n      fileTypes: [name, 'json'],\n      defaultFor: [name]\n    }\n  } as IRenderMime.IExtension;\n});\n\nexport default extensions;\n","import { IRenderMime } from \"@jupyterlab/rendermime-interfaces\";\nimport { Message } from \"@lumino/messaging\";\nimport { Widget } from \"@lumino/widgets\";\nimport { TrialGraph, TrialGraphData } from \"@noworkflow/trial\";\nimport { makeid } from \"@noworkflow/utils\";\n\n/**\n * A widget for rendering data, for usage with rendermime.\n */\nexport class RenderedTrial extends Widget implements IRenderMime.IRenderer {\n  /**\n   * Create a new widget for rendering\n   */\n  constructor(options: IRenderMime.IRendererOptions) {\n    super();\n    this._mimeType = options.mimeType;\n    this.addClass('jp-RenderedNowTrial');\n    this.div = document.createElement('div');\n    \n    this.node.appendChild(this.div);\n  }\n\n  /**\n   * Render into this widget's node.\n   */\n  renderModel(model: IRenderMime.IMimeModel): Promise<void> {\n    return new Promise<void>((resolve, reject) => {\n      let data = model.data[this._mimeType] as any | TrialGraphData;\n      this.graph = new TrialGraph('trial-' + makeid(), this.div, {\n        width: data.width,\n        height: data.height,\n        genDataflow: false\n      });\n      this.graph.load(data, data.trial1, data.trial2)\n      this.update();\n      resolve();\n    });\n  }\n\n  /**\n   * A message handler invoked on an `'after-show'` message.\n   */\n  protected onAfterShow(msg: Message): void {\n    this.update();\n  }\n\n  /**\n   * A message handler invoked on a `'resize'` message.\n   */\n  protected onResize(msg: Widget.ResizeMessage): void {\n    this.update();\n  }\n\n  /**\n   * A message handler invoked on an `'update-request'` message.\n   */\n  protected onUpdateRequest(msg: Message): void {\n    // Update size after update\n    if (this.isVisible && this.graph) {\n      let width =  this.node.getBoundingClientRect().width - 24;\n      this.graph.config.width = width;\n      this.div.style.width = width + \"px\";\n      this.graph.updateWindow();\n    }\n  }\n\n  graph: TrialGraph | undefined;\n  div: HTMLDivElement;\n  private _mimeType: string;\n}\n\nexport const trialFactory: IRenderMime.IRendererFactory = {\n  safe: false,\n  mimeTypes: ['application/noworkflow.trial+json'],\n  createRenderer: options => new RenderedTrial(options)\n};\n","\n      import API from \"!../../../node_modules/@jupyterlab/builder/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/@jupyterlab/builder/node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/@jupyterlab/builder/node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/@jupyterlab/builder/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/@jupyterlab/builder/node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/@jupyterlab/builder/node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/@jupyterlab/builder/node_modules/css-loader/dist/cjs.js!./index.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/@jupyterlab/builder/node_modules/css-loader/dist/cjs.js!./index.css\";\n       export default content && content.locals ? content.locals : undefined;\n"],"names":[],"sourceRoot":""}