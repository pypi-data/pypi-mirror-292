<!DOCTYPE html>
<html class='ch_96 ch_97' style="background-color:black;"><head>
<title>大设计</title><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1.0'><base target='_blank'>
<style>
    * {vertical-align:middle; text-decoration:none; position:relative; padding:0; overflow:auto; outline:none; margin:0; font-size:1rem; font-family:'Chinese Quote', 'Segoe UI', Roboto, RobotoNum, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif; box-sizing:border-box; border-width:0; border-style:solid;}
    .ch_96 {width:100%; height:100%; display:block; background-color:white;}
    .ch_98 {width:100%; position:relative; overflow:hidden; height:100%; display:block; background-color:white;}
    .ch_121 {display:inline-block;}
    .ch_103 {z-index:50; width:200%; position:absolute; padding:0; overflow:hidden; margin:0; height:5rem; grid-template-columns:1fr 1fr 1fr 1fr; display:inline-grid; border-width:0; border-radius:0; align-items:center;}
    .ch_114 {z-index:500; position:absolute; padding:0; overflow:hidden; margin:0; justify-items:center; justify-content:start; grid-template-rows:1.8rem auto; grid-template-columns:auto 1.8rem auto auto 1fr; display:inline-grid; column-gap:0.1rem; border-width:0; border-radius:0; align-items:center; align-content:center;}
    .ch_123 {z-index:500; row-gap:0.1rem; position:absolute; padding:0; margin:0; justify-items:end; grid-template-rows:auto auto; display:inline-grid; border-width:0; border-radius:0;}
    .ch_116:active {color:rgb(255, 17, 0);}
    .ch_105 {vertical-align:middle; display:inline-block;}
    .ch_108 {z-index:200; vertical-align:middle; position:absolute; padding:0; margin:0; display:inline-block; border-width:0; border-radius:0;}
    .ch_109 {z-index:300; vertical-align:middle; position:absolute; padding:0; margin:0; display:inline-block; border-width:0; border-radius:0;}
    .ch_110 {z-index:400; vertical-align:middle; position:absolute; padding:0; margin:0; display:inline-block; border-width:0; border-radius:0;}
    .ch_111 {z-index:250; vertical-align:middle; position:absolute; padding:0; margin:0; display:inline-block; border-width:0; border-radius:0;}
    .ch_107 {z-index:75; white-space:pre-wrap; vertical-align:baseline; position:absolute; padding:0; overflow-wrap:break-word; max-width:25rem; margin:0; line-height:1.75; border-width:0; border-radius:0;}
    .ch_106 > * {vertical-align:baseline;}
    * {scrollbar-width:none; -ms-overflow-style:none  /* 对 IE 和 Edge 隐藏滚动条 */;}
    *::-webkit-scrollbar {display:none;}
    .ch_104 > * {width:100%;}
    .ch_102[switch='1'] {visibility:visible;}
    .ch_101[switch=''] {visibility:hidden;}
    .ch_112 > * {font-size:1.4rem; color:red;}
    .ch_113 > :nth-child(6) {grid-column:1 / 6; font-size:1rem; display:none; color:gray;}
    .ch_115:hover > :nth-child(6) {display:inline-block;}
    .ch_122 > :nth-child(2) {font-size:1rem; display:none; color:gray;}
    .ch_124:hover > :nth-child(2) {display:inline-block;}
    .ch_118[switch='1'] {background-color:rgb(239, 194, 59);}
    .ch_119[switch=''] {background-color:rgb(34, 153, 232);}
    .ch_120:hover {border-color:red;}
    .ch_117 {z-index:600; padding:0.2rem; margin:0; justify-self:end; font-size:0.8rem; color:black; border-width:0.1rem; border-radius:0; border-color:transparent; background-color:transparent; align-self:center;}
</style></head>
<body class='ch_98 ch_99 ch_100'>
<script>
"use strict";

                    if (1 + 1 === 2) {
                        window.ch = new Proxy(
                            new Map(),
                            {get: (target, name) => target.get(name), set: (target, name, value) => target.set(name, value)}
                        )
                    }
                    else {
                        window.ch = {}
                        console.log('type(ch) is not Map !')
                    }
                
</script><div class='ch_101 ch_102 ch_103 ch_104' id=ch_64 switch='' style="left:0; top:0;"><img class='ch_105' src='oa_/雷电.gif' style="transform:rotate(-20deg);"><img class='ch_105' src='oa_/雷电.gif' style="transform:scaleX(-1) scaleY(1) rotate(-20deg);"><img class='ch_105' src='oa_/雷电.gif' style="transform:rotate(-20deg);"><img class='ch_105' src='oa_/雷电.gif' style="transform:scaleX(-1) scaleY(1) rotate(-20deg);"></div><pre class='ch_106 ch_107' id=ch_78 style="left:10px; top:100px;">
这是一个简约的世界模拟图景，它复现了自然界中生物间的基本互动规律。

在这个模拟中：

蚊子：遵循着其生存的本能 —— 吸血，因此它如影随形地萦绕在女孩的身侧；

女孩：遵循着基本的生活需求 —— 进食，故而不由自主地靠近食物的所在；

食物：每隔 6 秒钟随机移动到一个新的位置；

你，作为这个世界的幕后操控者，<strong>可用鼠标拖动蚊子、女孩、食物穿梭于虚拟空间的每一个角落，</strong>在它们毫无防备与察觉之下，悄无声息地操控这个世界的流转。
</pre><img class='ch_108' src='oa_/食物.png' id=ch_16 style="left:900px; top:200px; height:100px;"><img class='ch_109' src='oa_/女孩.gif' id=ch_71 style="left:600px; top:200px; height:180px;"><img class='ch_110' src='oa_/蚊子.gif' id=ch_25 style="left:300px; top:200px; height:50px;"><img class='ch_111' src='oa_/金子.gif' id=ch_32 state='1' style="left:300px; top:600px; height:50px;"><img class='ch_111' src='oa_/金子.gif' id=ch_39 state='1' style="left:900px; top:600px; height:50px;"><div class='ch_112 ch_113 ch_114 ch_115' id=ch_46 style="left:10px; top:10px;"><button class='ch_116 ch_117 ch_118 ch_119 ch_120' id=ch_67 switch=''>赏金模式</button><img class='ch_105' src='oa_/金币.gif' style="height:35px;"><div class='ch_121'>$</div><div class='ch_121' id=ch_89>0</div><div class='ch_121'></div><div class='ch_121'>启用赏金模式后，你将不能直接通过鼠标拖动女孩移动；此时，你需要策略性地拖动食物，引导女孩走向金币，让她的足部踏在金币上，从而收取金币。</div></div><div class='ch_122 ch_123 ch_124' id=ch_53 style="right:10px; top:10px;"><button class='ch_116 ch_117 ch_118 ch_119 ch_120' id=ch_59 switch=''>雷电</button><div class='ch_121' style="max-width:10rem;">启用雷电后，当蚊子接触到雷电时，会瞬间被电毙，并于 10 秒后复活。</div></div>
<script>
"use strict";

document.documentElement.setAttribute('is_x_screen', String(window.innerWidth > window.innerHeight))
document.documentElement.setAttribute('is_coarse_pointer', String(window.matchMedia("(pointer: coarse)").matches))
ch.ch_17 = document.getElementById("ch_16")
ch.ch_26 = document.getElementById("ch_25")
ch.ch_33 = document.getElementById("ch_32")
ch.ch_40 = document.getElementById("ch_39")
ch.ch_47 = document.getElementById("ch_46")
ch.ch_54 = document.getElementById("ch_53")
ch.ch_72 = document.getElementById("ch_71")
ch.ch_79 = document.getElementById("ch_78")
ch.ch_18 = ele => {
                return sync_value => {
                    let info = new Map()
                    ele.addEventListener('mousedown', () => {
                        info.set('mousedown_style', Object.assign({}, ele.style))
                        info.set('mousedown_event', event)
                        info.set('is_mouse_down', 'true')
                    })
                    document.documentElement.addEventListener('mouseup', () => {
                        info.set('is_mouse_down', '')
                    })
                    document.documentElement.addEventListener('mousemove', () => {
                        if (info.get('is_mouse_down')) {
                            info.set('mousemove_event', event)
                            sync_value([info])
                        }
                    })
                }
            }
ch.ch_14 = (items, last_value) =>
            {
                let sync_value = value => {
                    if (last_value !== value) {
                        last_value = value
                        for (let [set_value, bijection_] of items) {
                            if (bijection_ && bijection_.has(value))
                                {set_value(bijection_.get(value))}
                            else
                                {set_value(value)}
                        }
                    }
                }
                return bijection =>
                    value => {
                        if (bijection && bijection.has(value)) {value = bijection.get(value)}
                        sync_value(value)
                    }
            }
ch.ch_69 = document.getElementById("ch_67")
ch.ch_21 = (ele, switch_=null) =>
            value => {
                if (! (switch_ && switch_.getAttribute('switch'))) {
                    let info = value[0]
                    let mousedown_style = info.get('mousedown_style')
                    let mousedown_event = info.get('mousedown_event')
                    let mousemove_event = info.get('mousemove_event')
                    ele.style.left = parseInt(mousedown_style.left) + mousemove_event.pageX - mousedown_event.pageX + 'px'
                    ele.style.top = parseInt(mousedown_style.top) + mousemove_event.pageY - mousedown_event.pageY + 'px'
                }
            }
ch.ch_75 = new Map([])
ch.ch_76 = [ch.ch_21(ch.ch_72, ch.ch_69), ch.ch_75]
ch.ch_70 = [ch.ch_76]
ch.ch_73 = new Map([])
ch.ch_74 = ch.ch_14(ch.ch_70, Symbol())
ch.ch_18(ch.ch_72)(ch.ch_74(ch.ch_73))
ch.ch_82 = new Map([])
ch.ch_83 = [ch.ch_21(ch.ch_79, null), ch.ch_82]
ch.ch_77 = [ch.ch_83]
ch.ch_80 = new Map([])
ch.ch_81 = ch.ch_14(ch.ch_77, Symbol())
ch.ch_18(ch.ch_79)(ch.ch_81(ch.ch_80))
ch.ch_8 = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver
ch.ch_86 = (ele, style_name) => {
                let styles = Object.assign({}, ele.style)
                return sync_value => {
                    new ch.ch_8(
                        (records, _) => {
                            let value = ele.style[style_name]
                            if (styles[style_name] !== value) {
                                styles[style_name] = value
                                sync_value(value)
                            }
                        }
                    ).observe(ele, { attributes:true, attributeFilter:['style'] })
                }
            }
ch.ch_90 = document.getElementById("ch_89")
ch.ch_91 = gold =>
            value => {
                let people = ch.ch_72.getBoundingClientRect()
                let self = gold.getBoundingClientRect()
                if (((people.left + 45 <= self.left) && (self.left <= people.right - 50)) || ((people.left + 45 <= self.right) && (self.right <= people.right - 50))) {
                    if ((self.top <= people.bottom - 15) && (people.bottom <= self.bottom + 20)) {
                        gold.setAttribute('state', '2')
                        if (ch.ch_69.getAttribute('switch')) { ch.ch_90.textContent = String(parseInt(ch.ch_90.textContent) + 10) }
                    }
                }
            }
ch.ch_92 = new Map([])
ch.ch_93 = [ch.ch_91(ch.ch_33), ch.ch_92]
ch.ch_94 = new Map([])
ch.ch_95 = [ch.ch_91(ch.ch_40), ch.ch_94]
ch.ch_85 = [ch.ch_93, ch.ch_95]
ch.ch_87 = new Map([])
ch.ch_88 = ch.ch_14(ch.ch_85, Symbol())
ch.ch_86(ch.ch_72, "left")(ch.ch_88(ch.ch_87))
ch.ch_22 = new Map([])
ch.ch_23 = [ch.ch_21(ch.ch_17, null), ch.ch_22]
ch.ch_15 = [ch.ch_23]
ch.ch_19 = new Map([])
ch.ch_20 = ch.ch_14(ch.ch_15, Symbol())
ch.ch_18(ch.ch_17)(ch.ch_20(ch.ch_19))
ch.ch_29 = new Map([])
ch.ch_30 = [ch.ch_21(ch.ch_26, null), ch.ch_29]
ch.ch_24 = [ch.ch_30]
ch.ch_27 = new Map([])
ch.ch_28 = ch.ch_14(ch.ch_24, Symbol())
ch.ch_18(ch.ch_26)(ch.ch_28(ch.ch_27))
ch.ch_36 = new Map([])
ch.ch_37 = [ch.ch_21(ch.ch_33, null), ch.ch_36]
ch.ch_31 = [ch.ch_37]
ch.ch_34 = new Map([])
ch.ch_35 = ch.ch_14(ch.ch_31, Symbol())
ch.ch_18(ch.ch_33)(ch.ch_35(ch.ch_34))
ch.ch_43 = new Map([])
ch.ch_44 = [ch.ch_21(ch.ch_40, null), ch.ch_43]
ch.ch_38 = [ch.ch_44]
ch.ch_41 = new Map([])
ch.ch_42 = ch.ch_14(ch.ch_38, Symbol())
ch.ch_18(ch.ch_40)(ch.ch_42(ch.ch_41))
ch.ch_50 = new Map([])
ch.ch_51 = [ch.ch_21(ch.ch_47, null), ch.ch_50]
ch.ch_45 = [ch.ch_51]
ch.ch_48 = new Map([])
ch.ch_49 = ch.ch_14(ch.ch_45, Symbol())
ch.ch_18(ch.ch_47)(ch.ch_49(ch.ch_48))
ch.ch_57 = new Map([])
ch.ch_58 = [ch.ch_21(ch.ch_54, null), ch.ch_57]
ch.ch_52 = [ch.ch_58]
ch.ch_55 = new Map([])
ch.ch_56 = ch.ch_14(ch.ch_52, Symbol())
ch.ch_18(ch.ch_54)(ch.ch_56(ch.ch_55))
ch.ch_4 = (func) => new Promise(resolve => requestAnimationFrame(() => {func(); resolve()}))
ch.ch_5 = (seconds) => new Promise(resolve => setTimeout(resolve, seconds * 1000))
ch.ch_12 = async (items, seconds=0, interval=0, stop=null) => {
            if (seconds) {
                let start_time = performance.now()  // 立即获取当前时间，以尽可能让时间准确
                let milliseconds = seconds * 1000
                let end_time = start_time + milliseconds
                for (let item of items) {
                    item['start_value'] = await item['get_value']()
                    item['distance'] = item['end_value'] - item['start_value']
                    item['gradient'] = item['distance'] / milliseconds
                }
                let finished = false
                let scroll = async () => {
                    let current_time = performance.now()
                    if (current_time < end_time) {
                        for (let item of items) {
                            if (! item['stop'] && (! item['continue'] || await item['continue']())) {
                                await item['set_value'](item['gradient'] * (current_time - start_time) + item['start_value'])
                            }
                            else {item['stop'] = true}
                        }
                    }
                    else {finished = true}
                }
                while (! finished) {
                    if (stop && await stop()) { return }
                    await ch.ch_4(scroll)
                    if (interval) { await ch.ch_5(interval) }
                }
            }
            if (stop && await stop()) { return }
            for (let item of items) {
                if (! item['stop'] && (! item['continue'] || await item['continue']())) {
                    await item['set_value'](item['end_value'])  // 无论 seconds 是否为空值都须要执行，以确保最终位置正确
                }
            }
        }
ch.ch_10 = window.innerWidth
ch.ch_11 = window.innerHeight
ch.ch_13 = (a, b) => a + (b - a) * Math.random()
ch.ch_66 = document.getElementById("ch_64")
ch.ch_84 = async (ele, wavelength, period=0, interval=0, aim=null, limit=false, is_gold=false, is_thunder=false, kill_switch=null) => {
            let self_width = null
            while (! self_width) {
                self_width = ele.clientWidth
                await ch.ch_5(0.1)
            }
            let self_height = ele.clientHeight
            let total_width = self_width + ch.ch_10
            let total_height = self_height + ch.ch_11

            let stop_value = false
            ele.addEventListener('mousedown', () => { stop_value = true })
            document.documentElement.addEventListener('mouseup', () => { stop_value = false })
            let creat_stop = () => {
                let cache = false
                return () => {
                    if ((! cache) && stop_value) {cache = true}
                    return cache
                }
            }

            let get_x_value = () => (parseInt(ele.style.left) + self_width) % total_width
            let set_x_value = value => ele.style.left = ((value >= 0) ? (value % total_width - self_width) : (value % total_width + total_width - self_width)) + 'px'
            let get_y_value = () => (parseInt(ele.style.top) + self_height) % total_height
            let set_y_value = value => ele.style.top = ((value >= 0) ? (value % total_height - self_height) : (value % total_height + total_height - self_height)) + 'px'

            while (true) {
                let stop = creat_stop()
                if (stop()) {
                    await ch.ch_5(0.2)
                    continue
                }
                let items = null
                if (is_gold) {
                    if (ele.getAttribute('state') === '1') {
                        await ch.ch_5(0.2)
                        continue
                    }
                    items = [
                        {
                            'get_value': get_y_value,
                            'set_value': set_y_value,
                            'end_value': parseInt(ele.style.top) + self_height - 100,
                        },
                    ]
                    await ch.ch_12(items, 0.5, 0, stop); if (interval) await ch.ch_5(interval)
                    ele.style.visibility = 'hidden'
                    await ch.ch_5(2)
                    items = [
                        {
                            'get_value': get_x_value,
                            'set_value': set_x_value,
                            'end_value': self_width + ch.ch_13(10, ch.ch_10 - self_width - 10),
                        },
                        {
                            'get_value': get_y_value,
                            'set_value': set_y_value,
                            'end_value': self_height + ch.ch_13(10, ch.ch_11 - self_height - 10),
                        },
                    ]
                    await ch.ch_12(items, 0, 0, stop); if (interval) await ch.ch_5(interval)
                    ele.style.visibility = 'visible'
                    ele.setAttribute('state', '1')
                }
                else if (is_thunder) {
                    items = [
                        {
                            'get_value': () => parseInt(ele.style.left),
                            'set_value': value => ele.style.left = ((value >= -ch.ch_10) ? value : (value + ch.ch_10)) + 'px',
                            'end_value': parseInt(ele.style.left) - ch.ch_10,
                        },
                    ]
                    await ch.ch_12(items, period, 0, stop); if (interval) await ch.ch_5(interval)
                }
                else {
                    if (limit) {
                        items = [
                            {
                                'get_value': get_x_value,
                                'set_value': set_x_value,
                                'end_value': self_width + ch.ch_13(10, ch.ch_10 - self_width - 10),
                            },
                            {
                                'get_value': get_y_value,
                                'set_value': set_y_value,
                                'end_value': self_height + ch.ch_13(10, ch.ch_11 - self_height - 10),
                            },
                        ]
                        await ch.ch_12(items, period, 0, stop); if (interval) await ch.ch_5(interval)
                    }
                    else {
                        items = [
                            {
                                'get_value': get_x_value,
                                'set_value': set_x_value,
                                'end_value': parseInt((aim || ele).style.left) + self_width + ch.ch_13(wavelength[0], wavelength[1]),
                            },
                            {
                                'get_value': get_y_value,
                                'set_value': set_y_value,
                                'end_value': parseInt((aim || ele).style.top) + self_height + ch.ch_13(wavelength[0], wavelength[1]),
                            },
                        ]
                        if (kill_switch && kill_switch.getAttribute('switch')) {
                            let fall = false
                            let stop_2 = () => {
                                let value_1 = stop()
                                fall = fall || ( parseInt(ele.style.top) + 22.5 < parseInt(kill_switch.clientHeight) )
                                return value_1 || fall
                            }
                            await ch.ch_12(items, period, 0, stop_2)
                            if (fall) {
                                await ch.ch_5(0.25)
                                items = [
                                    {
                                        'get_value': get_y_value,
                                        'set_value': set_y_value,
                                        'end_value': self_height + ch.ch_11 - 5,
                                    },
                                ]
                                await ch.ch_12(items, 0.9, 0)
                                await ch.ch_5(10)
                            }
                            else {
                                if (interval) await ch.ch_5(interval)
                            }
                        }
                        else {
                            await ch.ch_12(items, period, 0, stop); if (interval) await ch.ch_5(interval)
                        }
                    }
                }
            }
        }
ch.ch_84(ch.ch_66, [-700, 700], 40, 0, null, false, false, true, null)
ch.ch_17.addEventListener('load', async () => {ch.ch_84(ch.ch_17, [-700, 700], 2, 6, null, true, false, false, null)})
ch.ch_72.addEventListener('load', async () => {ch.ch_84(ch.ch_72, [-180, 100], 3, 0, ch.ch_17, false, false, false, null)})
ch.ch_26.addEventListener('load', async () => {ch.ch_84(ch.ch_26, [-50, 180], 1, 0, ch.ch_72, false, false, false, ch.ch_66)})
ch.ch_33.addEventListener('load', async () => {ch.ch_84(ch.ch_33, [-700, 700], 2, 0, null, false, true, false, null)})
ch.ch_40.addEventListener('load', async () => {ch.ch_84(ch.ch_40, [-700, 700], 2, 0, null, false, true, false, null)})
ch.ch_7 = (ele, name, value) => {
            try {ele.setAttribute(name, value)} catch (e) {}
            try {ele[name] = value} catch (e) {}
        }
ch.ch_62 = document.getElementById("ch_59")
ch.ch_60 = new Map([["v", -1]])
ch.ch_65 = new Map([["v", -1]])
ch.ch_68 = new Map([["v", -1]])
ch.ch_61 = (values, i) => {
            let total = values.length
            return () => {
                i.set('v', i.get('v') + 1)
                return values[i.get('v') % total]
            }
        }
ch.ch_63 = (ele, name, polling) => {
                    ch.ch_7(ele, name, polling())
                }
ch.ch_69.addEventListener('click', async () => {ch.ch_63(ch.ch_69, "switch", ch.ch_61(["1", ""], ch.ch_68))})
ch.ch_62.addEventListener('click', async () => {ch.ch_63(ch.ch_62, "switch", ch.ch_61(["1", ""], ch.ch_60))
ch.ch_63(ch.ch_66, "switch", ch.ch_61(["1", ""], ch.ch_65))})

</script>
</body>
</html>