(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[5129],{43323:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var o=r(67294),n=r(35944);function a(e,t){class r extends o.Component{constructor(e){super(e),this.container=void 0,this.setContainerRef=this.setContainerRef.bind(this)}componentDidMount(){this.execute()}componentDidUpdate(){this.execute()}componentWillUnmount(){this.container=void 0,null!=t&&t.componentWillUnmount&&t.componentWillUnmount.bind(this)()}setContainerRef(e){this.container=e}execute(){this.container&&e(this.container,this.props)}render(){const{id:e,className:t}=this.props;return(0,n.tZ)("div",{ref:this.setContainerRef,id:e,className:t})}}const a=r;return e.displayName&&(a.displayName=e.displayName),e.propTypes&&(a.propTypes={...a.propTypes,...e.propTypes}),e.defaultProps&&(a.defaultProps=e.defaultProps),r}},67869:(e,t,r)=>{"use strict";r.d(t,{E8:()=>P,CW:()=>d.Z,bA:()=>T.Z,kI:()=>o,A5:()=>n.Z,uO:()=>C.Z,Gz:()=>h.Z,Ys:()=>m.Z,$5:()=>p.Z,Dg:()=>g.Z,Jm:()=>v.Z,XF:()=>f.Z,q5:()=>_.Z,PK:()=>Z.Z,gE:()=>a.Z,yE:()=>y.Z,Sk:()=>D.Z,eL:()=>s.Z,Iw:()=>R.I,zR:()=>u.Z,eY:()=>F.eY,Fx:()=>F.Fx,UM:()=>A.Z,Bs:()=>S.Z,T8:()=>l.Z,Zf:()=>E.Zf,Gh:()=>E.Gh,B_:()=>i.Z,Qg:()=>E.Qg,D9:()=>F.ZP,j3:()=>c.Z,oo:()=>E.oo,vq:()=>E.vq});var o=r(28062),n=r(97466),a=r(15226),i=r(81545),s=r(58586),c=r(45511),l=r(2995),u=r(98195),d=r(27965),h=r(86698),m=r(69224),p=r(77781),g=r(64236),f=r(65445),y=r(36361),_=r(79615),v=r(13304),C=r(64457),T=r(17412),Z=r(14735),D=r(53183),A=r(132),S=r(31225),E=r(25130),R=r(85671),F=r(77205);const P="#00A699"},8608:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var o=r(62761);function n(e,t,r){let o=e,n=t(o);for(;!r(n);){if(o-=1,o<0){o=e;break}n=t(o)}return o}function a(e){const{idealFontSize:t,maxWidth:r,maxHeight:a,style:i,...s}=e;let c;if(null!=t)c=t;else{if(null==a)throw new Error("You must specify at least one of maxHeight or idealFontSize");c=Math.floor(a)}function l(e){return(0,o.Z)({...s,style:{...i,fontSize:`${e}px`}})}return null!=r&&(c=n(c,l,(e=>e.width>0&&e.width<=r))),null!=a&&(c=n(c,l,(e=>e.height>0&&e.height<=a))),c}},2445:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var o=r(61888),n=r(66529),a=r(10660);function i(e,t){const{texts:r,className:i,style:s,container:c}=e,l=new Map;let u,d;l.set("",{height:0,width:0});const h=r.map((e=>{if(l.has(e))return l.get(e);u||(d=n.Y.createInContainer(c),u=n.S.createInContainer(d)),(0,a.Z)(u,{className:i,style:s,text:e});const r=(0,o.Z)(u,t);return l.set(e,r),r}));return d&&u&&setTimeout((()=>{n.S.removeFromContainer(d),n.Y.removeFromContainer(c)}),500),h}},62761:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var o=r(10660),n=r(61888),a=r(66529);function i(e,t){const{text:r,className:i,style:s,container:c}=e;if(0===r.length)return{height:0,width:0};const l=a.Y.createInContainer(c),u=a.S.createInContainer(l);(0,o.Z)(u,{className:i,style:s,text:r});const d=(0,n.Z)(u,t);return setTimeout((()=>{a.S.removeFromContainer(l),a.Y.removeFromContainer(c)}),500),d}},66529:(e,t,r)=>{"use strict";r.d(t,{Y:()=>a,S:()=>i});class o{constructor(e){this.activeNodes=new Map,this.factoryFn=void 0,this.factoryFn=e}createInContainer(e=document.body){if(this.activeNodes.has(e)){const t=this.activeNodes.get(e);return t.counter+=1,t.node}const t=this.factoryFn();return e.append(t),this.activeNodes.set(e,{counter:1,node:t}),t}removeFromContainer(e=document.body){if(this.activeNodes.has(e)){const t=this.activeNodes.get(e);t.counter-=1,0===t.counter&&(e.removeChild(t.node),this.activeNodes.delete(e))}}}const n="http://www.w3.org/2000/svg",a=new o((function(){const e=document.createElementNS(n,"svg");return e.style.position="absolute",e.style.top="-100%",e.style.left="-100%",e.style.width="0",e.style.height="0",e.style.opacity="0",e.style.pointerEvents="none",e})),i=new o((function(){return document.createElementNS(n,"text")}))},61888:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const o={height:20,width:100};function n(e,t=o){const{width:r,height:n}=e.getBBox?e.getBBox():t;return{height:Math.ceil(n),width:Math.ceil(r)}}},10660:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const o=["font","fontWeight","fontStyle","fontSize","fontFamily","letterSpacing"];function n(e,{className:t,style:r={},text:n}={}){const a=e;return a.textContent!==n&&(a.textContent=void 0===n?null:n),a.getAttribute("class")!==t&&a.setAttribute("class",null!=t?t:""),a.style.removeProperty("font"),a.style.removeProperty("font-weight"),a.style.removeProperty("font-style"),a.style.removeProperty("font-size"),a.style.removeProperty("font-family"),a.style.removeProperty("letter-spacing"),o.filter((e=>void 0!==r[e]&&null!==r[e])).forEach((e=>{a.style[e]=`${r[e]}`})),a}},15208:(e,t,r)=>{"use strict";r.d(t,{d:()=>n});var o=r(67294);const n=(e,t)=>{const r=(0,o.useRef)(!1);(0,o.useEffect)((()=>{r.current?e():r.current=!0}),[...t||[e]])}},78243:(e,t,r)=>{"use strict";r.d(t,{W:()=>n});var o=r(67294);function n(e){const t=(0,o.useRef)(null),[r,n]=(0,o.useState)(!1),a=e=>{const[t]=e;n(t.intersectionRatio<1)};return(0,o.useEffect)((()=>{const r=new IntersectionObserver(a,e),o=t.current;return o&&r.observe(o),()=>{o&&r.unobserve(o)}}),[t,e]),[t,r]}},51794:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var o=r(67294);const n=()=>{const[e,t]=(0,o.useState)(0),[r,n]=(0,o.useState)(!1),a=(0,o.useRef)(null),i=(0,o.useRef)(null);return(0,o.useLayoutEffect)((()=>{var e;const r=()=>{const e=a.current;if(!e)return;const r=i.current,{scrollWidth:o,clientWidth:s,childNodes:c}=e;if(o>s){const e=6,o=(null==r?void 0:r.offsetWidth)||0,a=s-e,i=c.length;let l=0,u=0;for(let e=0;e<i;e+=1)a-l-o<=0&&(u+=1),l+=c[e].offsetWidth;i>1&&u?(n(!0),t(u)):(n(!1),t(1))}else n(!1),t(0)},o=new ResizeObserver(r),s=null==(e=a.current)?void 0:e.parentElement;return s&&o.observe(s),r(),()=>{o.disconnect()}}),[i.current]),[a,i,e,r]}},53792:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AnnotationOpacity:()=>xe.TJ,AnnotationSourceType:()=>xe.u$,AnnotationStyle:()=>xe.QW,AnnotationType:()=>xe.JJ,ApiLegacy:()=>o,ApiV1:()=>n,AppSection:()=>Nt.Tr,AxisType:()=>Nt.we,BRAND_COLOR:()=>lt.E8,Behavior:()=>Nt.cg,CACHE_AVAILABLE:()=>ce.wE,CACHE_KEY:()=>ce.oy,COMMON_ERR_MESSAGES:()=>ce.tU,CategoricalAirbnb:()=>lt.CW,CategoricalBlueToGreen:()=>lt.bA,CategoricalColorNamespace:()=>lt.kI,CategoricalColorScale:()=>lt.A5,CategoricalColorsOfRainbow:()=>lt.uO,CategoricalD3:()=>lt.Gz,CategoricalEcharts:()=>lt.Ys,CategoricalGoogle:()=>lt.$5,CategoricalLyft:()=>lt.Dg,CategoricalModernSunset:()=>lt.Jm,CategoricalPreset:()=>lt.XF,CategoricalPresetSuperset:()=>lt.q5,CategoricalRedToYellow:()=>lt.PK,CategoricalScheme:()=>lt.gE,CategoricalSuperset:()=>lt.yE,CategoricalWavesOfBlue:()=>lt.Sk,ChartClient:()=>Zt,ChartDataProvider:()=>wt,ChartFrame:()=>Ut,ChartLabel:()=>Nt.Df,ChartMetadata:()=>Dt.Z,ChartPlugin:()=>At.Z,ChartProps:()=>vt.Z,ColorScheme:()=>lt.eL,ColorSchemeGroup:()=>lt.Iw,ColorSchemeRegistry:()=>lt.zR,ComparisonTimeRangeType:()=>ct,ComparisonType:()=>O.wj,ContributionType:()=>L.YC,CtasEnum:()=>L.WN,CurrencyFormatter:()=>sr.Z,DEFAULT_BASE_URL:()=>ce.w0,DEFAULT_D3_FORMAT:()=>Ne.A,DEFAULT_D3_TIME_FORMAT:()=>Ge.M,DEFAULT_FETCH_RETRY_OPTIONS:()=>ce.pG,DEFAULT_METRICS:()=>x.BH,DTTM_ALIAS:()=>ye.W3,DataMaskType:()=>ee.gT,DatasourceKey:()=>Ae.Z,DatasourceType:()=>x.i9,EXTRA_FORM_DATA_APPEND_KEYS:()=>ye.Ci,EXTRA_FORM_DATA_OVERRIDE_EXTRA_KEYS:()=>ye.fn,EXTRA_FORM_DATA_OVERRIDE_KEYS:()=>ye.Ay,EXTRA_FORM_DATA_OVERRIDE_REGULAR_KEYS:()=>ye.NU,EXTRA_FORM_DATA_OVERRIDE_REGULAR_MAPPINGS:()=>ye.gn,EmotionCacheProvider:()=>ut.zo,ErrorTypeEnum:()=>L.C5,ExtensibleFunction:()=>a.Z,FAST_DEBOUNCE:()=>$t.o,FeatureFlag:()=>S.TT,GenericDataType:()=>k.Z,HTTP_STATUS_NOT_MODIFIED:()=>ce.D_,HTTP_STATUS_OK:()=>ce.m7,LOCAL_PREFIX:()=>We.D,LabelsColorMap:()=>lt.eY,LabelsColorMapSource:()=>lt.Fx,NO_TIME_RANGE:()=>ye.vM,NativeFilterType:()=>ee.BE,NumberFormats:()=>Me.default,NumberFormatter:()=>we.Z,NumberFormatterRegistry:()=>Ie.Z,OverwritePolicy:()=>c.r,PREVIEW_TIME:()=>ze.F,PREVIEW_VALUE:()=>we.G,PandasAxis:()=>D,Plugin:()=>i.Z,Preset:()=>s.Z,QueryMode:()=>I.n,QueryState:()=>L.Tb,Registry:()=>c.Z,RegistryWithDefaultKey:()=>l.Z,RollingType:()=>O.su,SEPARATOR:()=>mr.UD,SLOW_DEBOUNCE:()=>$t.M,SMART_DATE_DETAILED_ID:()=>Ke.w,SMART_DATE_ID:()=>qe.y,SMART_DATE_VERBOSE_ID:()=>$e.K,SafeMarkdown:()=>Vt.Z,SequentialCommon:()=>lt.UM,SequentialD3:()=>lt.Bs,SequentialScheme:()=>lt.T8,SuperChart:()=>Rt.Z,SupersetApiError:()=>be.P,SupersetApiErrorType:()=>be.M,SupersetClient:()=>ie.Z,SupersetClientClass:()=>se.Z,ThemeProvider:()=>ut.f6,TimeFormats:()=>We.default,TimeFormatter:()=>ze.Z,TimeGranularity:()=>et.A,TooltipFrame:()=>jt,TooltipTable:()=>Kt,TypedRegistry:()=>u.Z,WithLegend:()=>Gt,__hack_reexport_AdvancedAnalytics:()=>O.ZP,__hack_reexport_Column:()=>b.ZP,__hack_reexport_Dashboard:()=>ee.ZP,__hack_reexport_Datasource:()=>x.ZP,__hack_reexport_Metric:()=>w.ZP,__hack_reexport_Query:()=>L.ZP,__hack_reexport_QueryFormData:()=>I.Z,__hack_reexport_QueryResponse:()=>k.C,__hack_reexport_Time:()=>te,__hack_reexport_chart_Base:()=>Nt.ZP,__hack_reexport_chart_QueryResponse:()=>It,__hack_reexport_chart_TransformFunction:()=>Lt,__hack_reexport_connection:()=>le,__hack_reexport_dimension:()=>st,__hack_reexport_jed:()=>oe,__hack_reexport_translation:()=>ne,addAlpha:()=>lt.Zf,addLocaleData:()=>re.oK,addTranslation:()=>re.Zt,addTranslations:()=>re.hk,buildCustomFormatters:()=>cr.zn,buildQueryContext:()=>_e.Z,buildQueryObject:()=>ve.Z,callApi:()=>ae.Z,chartLabelExplanations:()=>Nt.t$,chartLabelWeight:()=>Nt.eH,checkForHtml:()=>Pe.Ue,computeCustomDateTime:()=>hr.sr,computeMaxFontSize:()=>ot.Z,concludedQueryStateList:()=>L.yv,configure:()=>re.jQ,convertFilter:()=>Ce.Z,convertKeysToCamelCase:()=>d.Z,createD3NumberFormatter:()=>ke.Z,createD3TimeFormatter:()=>He.Z,createDurationFormatter:()=>Oe.Z,createEmotionCache:()=>ut.S9,createLoadableRenderer:()=>St.Z,createMultiFormatter:()=>je.Z,createSiAtMostNDigitFormatter:()=>Be,createSmartDateDetailedFormatter:()=>Ke.f,createSmartDateFormatter:()=>qe.i,createSmartDateVerboseFormatter:()=>$e.B,createSmartNumberFormatter:()=>Ye.Z,css:()=>ut.iv,customTimeRangeDecode:()=>pr.c,defineSharedModule:()=>ue.vO,defineSharedModules:()=>ue.YW,denormalizeTimestamp:()=>Je,emotionCache:()=>ut.Yi,ensureIsArray:()=>h.Z,ensureIsInt:()=>m.Z,evalExpression:()=>Xt.f,extractQueryFields:()=>Re.Z,extractTimegrain:()=>Te.Z,fetchTimeRange:()=>mr.z1,finestTemporalGrainFormatter:()=>Ve.Z,formatNumber:()=>Le.uf,formatTime:()=>Qe.mr,formatTimeRange:()=>Qe.ns,getAnalogousColors:()=>lt.Gh,getCategoricalSchemeRegistry:()=>lt.B_,getChartBuildQueryRegistry:()=>Ct.Z,getChartComponentRegistry:()=>Ft.Z,getChartControlPanelRegistry:()=>Pt.Z,getChartMetadataRegistry:()=>Tt.Z,getChartTransformPropsRegistry:()=>xt.Z,getClientErrorMessage:()=>Pe.d7,getClientErrorObject:()=>Pe.O$,getColumnLabel:()=>Ze.Z,getComparisonFilters:()=>ur,getComparisonInfo:()=>dr,getContrastingColor:()=>lt.Qg,getCurrencySymbol:()=>sr.j,getCustomFormatter:()=>cr.So,getErrorFromStatusCode:()=>Pe.T6,getErrorText:()=>Pe.HR,getExtensionsRegistry:()=>Jt.I,getLabelsColorMap:()=>lt.D9,getMetricLabel:()=>De.Z,getMultipleTextDimensions:()=>rt.Z,getNumberFormatter:()=>Le.JB,getNumberFormatterRegistry:()=>Le.ZP,getParagraphContents:()=>F.Ah,getSelectedText:()=>A.Z,getSequentialSchemeRegistry:()=>lt.j3,getTextDimension:()=>tt.Z,getTimeFormatter:()=>Qe.bt,getTimeFormatterForGranularity:()=>Qe.uh,getTimeFormatterRegistry:()=>Qe.ZP,getTimeOffset:()=>hr.dS,getTimeRangeFormatter:()=>Qe.Rg,getValueFormatter:()=>cr.kZ,getXAxisColumn:()=>Fe.Bw,getXAxisLabel:()=>Fe.M8,hasHtmlTagPattern:()=>F.k3,hexToRgb:()=>lt.oo,initFeatureFlags:()=>S.fG,isAdhocColumn:()=>b.GA,isAdhocMetricSQL:()=>w.q5,isAdhocMetricSimple:()=>w.nX,isBinaryAdhocFilter:()=>M.kC,isBinaryOperator:()=>N.VU,isDefined:()=>p.Z,isEqualArray:()=>f.Z,isEventAnnotationLayer:()=>xe.pD,isFeatureEnabled:()=>S.cr,isFilterDivider:()=>ee.nY,isFormulaAnnotationLayer:()=>xe.x5,isFreeFormAdhocFilter:()=>M.jz,isIntervalAnnotationLayer:()=>xe.Ry,isJsonString:()=>F.Pb,isNativeFilter:()=>ee.kI,isNativeFilterWithDataMask:()=>ee.S0,isPhysicalColumn:()=>b.s9,isPostProcessingAggregation:()=>U,isPostProcessingBoxplot:()=>B,isPostProcessingCompare:()=>j,isPostProcessingContribution:()=>Y,isPostProcessingCum:()=>H,isPostProcessingDiff:()=>G,isPostProcessingFlatten:()=>V,isPostProcessingHistogram:()=>J,isPostProcessingPivot:()=>W,isPostProcessingProphet:()=>z,isPostProcessingRank:()=>X,isPostProcessingRename:()=>$,isPostProcessingResample:()=>K,isPostProcessingRolling:()=>Q,isPostProcessingSort:()=>q,isProbablyHTML:()=>F.Kv,isQueryFormColumn:()=>b.Gk,isQueryFormMetric:()=>w.I0,isRecordAnnotationResult:()=>xe.$c,isRequired:()=>g.Z,isSavedMetric:()=>w.AG,isSetAdhocFilter:()=>M.VK,isSetOperator:()=>N.XA,isSimpleAdhocFilter:()=>M.Ki,isTableAnnotationLayer:()=>xe.mn,isTimeseriesAnnotationLayer:()=>xe.nl,isTimeseriesAnnotationResult:()=>xe.b4,isUnaryAdhocFilter:()=>M._l,isUnaryOperator:()=>N.CW,isValidExpression:()=>Xt.$,isXAxisSet:()=>Fe.SR,jsx:()=>ut.tZ,keyframes:()=>ut.F4,legacyValidateInteger:()=>dt.Z,legacyValidateNumber:()=>ht.Z,logging:()=>v.Z,lruCache:()=>Z,makeApi:()=>pe.Z,makeSingleton:()=>y.Z,mergeMargin:()=>at,normalizeOrderBy:()=>Se.Z,normalizeTimeColumn:()=>Ee.T,normalizeTimestamp:()=>Xe.Z,parseDttmToDate:()=>hr.NM,parseErrorJson:()=>Pe.MV,parseLength:()=>it.Z,parseStringResponse:()=>Pe.oz,promiseTimeout:()=>_,reactify:()=>Et.Z,removeDuplicates:()=>C.Z,removeHTMLTags:()=>F.ZU,reset:()=>ue.mc,resetTranslation:()=>re.sq,retrieveErrorMessage:()=>Pe.J2,rgbToHex:()=>lt.vq,runningQueryStateList:()=>L.sn,safeHtmlSpan:()=>F.Ul,sanitizeHtml:()=>F.Z6,sanitizeHtmlIfNeeded:()=>F.T4,seed:()=>E.D,seedRandom:()=>E.b,setD3Format:()=>Le.KF,styled:()=>ut.iK,supersetTheme:()=>ut.K6,t:()=>re.t,testQuery:()=>L.Qn,testQueryResponse:()=>L.pY,testQueryResults:()=>L.eh,tn:()=>re.tn,tooltipHtml:()=>P.G,truncationCSS:()=>ir.B,typedMemo:()=>R.l,useCSSTextTruncation:()=>ir.Z,useChangeEffect:()=>er.S,useComponentDidMount:()=>tr.J,useComponentDidUpdate:()=>rr.d,useElementOnScreen:()=>or.W,usePrevious:()=>nr.D,useTheme:()=>ut.Fg,useTruncation:()=>ar.Z,validateInteger:()=>mt.Z,validateMapboxStylesUrl:()=>yt.Z,validateMaxValue:()=>ft.Z,validateNonEmpty:()=>gt.Z,validateNumber:()=>pt.Z,validateTimeComparisonRangeValues:()=>_t,withTheme:()=>ut.Zz});var o={};r.r(o),r.d(o,{__hack_reexport_query_api_legacy:()=>me,getDatasourceMetadata:()=>he,getFormData:()=>de});var n={};r.r(n),r.d(n,{default:()=>fe,getChartData:()=>ge});var a=r(54732),i=r(91189),s=r(46449),c=r(90537),l=r(29243),u=r(53652),d=r(78036),h=r(55786),m=r(77675),p=r(37731),g=r(49714),f=r(1111),y=r(1875);function _(e,t){return new Promise((r=>{setTimeout((()=>{r(e())}),t)}))}var v=r(68492),C=r(74765);class T{constructor(e){if(this.cache=void 0,this.capacity=void 0,e<1)throw new Error("The capacity in LRU must be greater than 0.");this.capacity=e,this.cache=new Map}has(e){return this.cache.has(e)}get(e){if("string"!=typeof e)throw new TypeError("The LRUCache key must be string.");if(this.cache.has(e)){const t=this.cache.get(e);return this.cache.delete(e),this.cache.set(e,t),t}}set(e,t){if("string"!=typeof e)throw new TypeError("The LRUCache key must be string.");this.cache.size>=this.capacity&&this.cache.delete(this.cache.keys().next().value),this.cache.set(e,t)}clear(){this.cache.clear()}get size(){return this.cache.size}}function Z(e=100){return new T(e)}var D,A=r(50523),S=r(93185),E=r(70406),R=r(26635),F=r(32103),P=r(31986),x=r(46078),b=r(72813),M=r(46306),w=r(62446),N=r(31612),L=r(43716),I=r(20620),k=r(88889),O=r(62363);function U(e){return"aggregation"===(null==e?void 0:e.operation)}function B(e){return"boxplot"===(null==e?void 0:e.operation)}function Y(e){return"contribution"===(null==e?void 0:e.operation)}function W(e){return"pivot"===(null==e?void 0:e.operation)}function z(e){return"prophet"===(null==e?void 0:e.operation)}function G(e){return"diff"===(null==e?void 0:e.operation)}function Q(e){return"rolling"===(null==e?void 0:e.operation)}function H(e){return"cum"===(null==e?void 0:e.operation)}function j(e){return"compare"===(null==e?void 0:e.operation)}function q(e){return"sort"===(null==e?void 0:e.operation)}function K(e){return"resample"===(null==e?void 0:e.operation)}function $(e){return"rename"===(null==e?void 0:e.operation)}function V(e){return"flatten"===(null==e?void 0:e.operation)}function X(e){return"rank"===(null==e?void 0:e.operation)}function J(e){return"histogram"===(null==e?void 0:e.operation)}!function(e){e[e.Row=0]="Row",e[e.Column=1]="Column"}(D||(D={}));var ee=r(10916);const te={};var re=r(61988);const oe={},ne={};var ae=r(97065),ie=r(31069),se=r(99619),ce=r(16416);const le={};var ue=r(81847);function de({client:e=ie.Z,sliceId:t,overrideFormData:r,requestConfig:o}){const n=e.get({endpoint:`/api/v1/form_data/?slice_id=${t}`,...o}).then((({json:e})=>e));return r?n.then((e=>({...e,...r}))):n}function he({client:e=ie.Z,datasourceKey:t,requestConfig:r}){return e.get({endpoint:`/superset/fetch_datasource_metadata?datasourceKey=${t}`,...r}).then((e=>e.json))}const me={};var pe=r(22102);const ge=(0,pe.Z)({method:"POST",endpoint:"/api/v1/chart/data"}),fe={getChartData:ge};var ye=r(5364),_e=r(61654),ve=r(65946),Ce=r(78483),Te=r(5031),Ze=r(10581),De=r(56652),Ae=r(67706),Se=r(82028),Ee=r(78444),Re=r(69363),Fe=r(11146),Pe=r(44818),xe=r(34804),be=r(18014),Me=r(45636),we=r(77809),Ne=r(43230),Le=r(67190),Ie=r(18212),ke=r(43851),Oe=r(75430),Ue=r(16722);function Be(e={}){const{description:t,n:r=3,id:o,label:n}=e,a=(0,Ue.WU)(`.${r}s`);return new we.Z({description:t,formatFunc:e=>{const t=a(e);return t.slice(-1)<"A"?parseFloat(t).toString():t},id:null!=o?o:`si_at_most_${r}_digit`,label:null!=n?n:`SI with at most ${r} significant digits`})}var Ye=r(84986),We=r(42846),ze=r(69244),Ge=r(90596),Qe=r(51115),He=r(69),je=r(25778),qe=r(78900),Ke=r(62720),$e=r(40962),Ve=r(47249),Xe=r(88484);function Je(e){const t=e.match(Xe.t);return t?`${t[1]}T${t[2]}`:e}var et=r(18010),tt=r(62761),rt=r(2445),ot=r(8608);function nt(e,t=0,r=0){return Number.isNaN(t)||null===t?r:Number.isNaN(r)||null===r?t:e(t,r)}function at(e={},t={},r="expand"){const{top:o,left:n,bottom:a,right:i}=e,s="expand"===r?Math.max:Math.min;return{bottom:nt(s,a,t.bottom),left:nt(s,n,t.left),right:nt(s,i,t.right),top:nt(s,o,t.top)}}var it=r(80644);const st={};var ct,lt=r(67869),ut=r(51995),dt=r(75294),ht=r(99298),mt=r(33444),pt=r(872),gt=r(95826),ft=r(74029),yt=r(50431);!function(e){e.Custom="c",e.InheritedRange="r",e.Month="m",e.Week="w",e.Year="y"}(ct||(ct={}));const _t=(e,t)=>{const r=e===ct.Custom,o=null==t?void 0:t.every((e=>0===(0,h.Z)(e).length));return r&&o?[(0,re.t)("Filters for comparison must have a value")]:[]};var vt=r(9330),Ct=r(19427),Tt=r(11064);class Zt{constructor(e={}){this.client=void 0;const{client:t=ie.Z}=e;this.client=t}loadFormData(e,t){return"sliceId"in e?this.client.get({endpoint:`/api/v1/form_data/?slice_id=${e.sliceId}`,...t}).then((e=>e.json)).then((t=>({...t,...e.formData}))):e.formData?Promise.resolve(e.formData):Promise.reject(new Error("At least one of sliceId or formData must be specified"))}async loadQueryData(e,t){const{viz_type:r}=e,o=(0,Tt.Z)(),n=(0,Ct.Z)();if(o.has(r)){var a;const{useLegacyApi:i}=o.get(r),s=null!=(a=await n.get(r))?a:()=>e,c=i?{endpoint:"/superset/explore_json/",postPayload:{form_data:s(e)},...t}:{endpoint:"/api/v1/chart/data",jsonPayload:{query_context:s(e)},...t};return this.client.post(c).then((e=>Array.isArray(e.json)?e.json:[e.json]))}return Promise.reject(new Error(`Unknown chart type: ${r}`))}loadDatasource(e,t){return this.client.get({endpoint:`/superset/fetch_datasource_metadata?datasourceKey=${e}`,...t}).then((e=>e.json))}loadAnnotation(e){return(0,p.Z)(e.sourceType)?Promise.reject(new Error("This feature is not implemented yet.")):Promise.resolve({})}loadAnnotations(e){return Array.isArray(e)&&e.length>0?Promise.all(e.map((e=>this.loadAnnotation(e)))).then((t=>e.reduce(((e,r,o)=>{const n=e;return n[r.name]=t[o],n}),{}))):Promise.resolve({})}loadChartData(e){return this.loadFormData(e).then((e=>Promise.all([this.loadAnnotations(e.annotation_layers),this.loadDatasource(e.datasource),this.loadQueryData(e)]).then((([t,r,o])=>({annotationData:t,datasource:r,formData:e,queriesData:o})))))}}var Dt=r(48805),At=r(84912),St=r(89453),Et=r(43323),Rt=r(88274),Ft=r(54085),Pt=r(37687),xt=r(74464),bt=r(67294);class Mt extends bt.PureComponent{constructor(e){super(e),this.chartClient=void 0,this.handleFetchData=()=>{const{loadDatasource:e,formDataRequestOptions:t,datasourceRequestOptions:r,queryRequestOptions:o}=this.props;this.setState({status:"loading"},(()=>{try{this.chartClient.loadFormData(this.extractSliceIdAndFormData(),t).then((t=>Promise.all([e?this.chartClient.loadDatasource(t.datasource,r):Promise.resolve(void 0),this.chartClient.loadQueryData(t,o)]).then((([e,r])=>({datasource:e,formData:t,queriesData:r}))))).then(this.handleReceiveData).catch(this.handleError)}catch(e){this.handleError(e)}}))},this.handleReceiveData=e=>{const{onLoaded:t}=this.props;t&&t(e),this.setState({payload:e,status:"loaded"})},this.handleError=e=>{const{onError:t}=this.props;t&&t(e),this.setState({error:e,status:"error"})},this.state={status:"uninitialized"},this.chartClient=new Zt({client:e.client})}componentDidMount(){this.handleFetchData()}componentDidUpdate(e){const{formData:t,sliceId:r}=this.props;t===e.formData&&r===e.sliceId||this.handleFetchData()}extractSliceIdAndFormData(){const{formData:e,sliceId:t}=this.props;return e?{formData:e}:{sliceId:t}}render(){const{children:e}=this.props,{status:t,payload:r,error:o}=this.state;switch(t){case"loading":return e({loading:!0});case"loaded":return e({payload:r});case"error":return e({error:o});default:return null}}}const wt=Mt;var Nt=r(16355);const Lt={},It={};var kt=r(35944);function Ot(e){return(0,p.Z)(e)&&"number"==typeof e}class Ut extends bt.PureComponent{render(){const{contentWidth:e,contentHeight:t,width:r,height:o,renderContent:n}=this.props,a=Ot(e)&&e>r,i=Ot(t)&&t>o;return a||i?(0,kt.tZ)("div",{style:{height:o,overflowX:a?"auto":"hidden",overflowY:i?"auto":"hidden",width:r},children:n({height:Math.max(null!=t?t:0,o),width:Math.max(null!=e?e:0,r)})}):n({height:o,width:r})}}Ut.defaultProps={renderContent(){}};var Bt=r(49302);const Yt={display:"flex",flexGrow:0,flexShrink:0,order:-1},Wt={flexBasis:"auto",flexGrow:1,flexShrink:1,position:"relative"};class zt extends bt.PureComponent{getContainerDirection(){const{position:e}=this.props;return"left"===e?"row":"right"===e?"row-reverse":"bottom"===e?"column-reverse":"column"}getLegendJustifyContent(){const{legendJustifyContent:e,position:t}=this.props;return e||("left"===t||"right"===t?"flex-start":"flex-end")}render(){const{className:e,debounceTime:t,width:r,height:o,position:n,renderChart:a,renderLegend:i}=this.props,s="left"===n||"right"===n,c={display:"flex",flexDirection:this.getContainerDirection(),height:o,width:r},l={...Wt};s?l.width=0:l.height=0;const u=s?"column":"row",d={...Yt,flexDirection:u,justifyContent:this.getLegendJustifyContent()};return(0,kt.BX)("div",{className:`with-legend ${e}`,style:c,children:[i&&(0,kt.tZ)("div",{className:"legend-container",style:d,children:i({direction:u})}),(0,kt.tZ)("div",{className:"main-container",style:l,children:(0,kt.tZ)(Bt.Z,{debounceTime:t,children:e=>e.width>0&&e.height>0?a(e):null})})]})}}zt.defaultProps={className:"",height:"auto",position:"top",width:"auto"};const Gt=zt,Qt={padding:8};class Ht extends bt.PureComponent{render(){const{className:e,children:t}=this.props;return(0,kt.tZ)("div",{className:e,style:Qt,children:t})}}Ht.defaultProps={className:""};const jt=Ht,qt={paddingLeft:8,textAlign:"right"};class Kt extends bt.PureComponent{render(){const{className:e,data:t}=this.props;return(0,kt.tZ)("table",{className:e,children:(0,kt.tZ)("tbody",{children:t.map((({key:e,keyColumn:t,keyStyle:r,valueColumn:o,valueStyle:n})=>(0,kt.BX)("tr",{children:[(0,kt.tZ)("td",{style:r,children:null!=t?t:e}),(0,kt.tZ)("td",{style:n?{...qt,...n}:qt,children:o})]},e)))})})}}Kt.defaultProps={className:"",data:[]};var $t=r(68122),Vt=r(78186),Xt=r(60524),Jt=r(75049),er=r(28291),tr=r(4756),rr=r(15208),or=r(78243),nr=r(85716),ar=r(51794),ir=r(3297),sr=r(37208),cr=r(1819);const lr=(e,t)=>{var r,o,n;const a=null!=(r=null==(o=e.adhoc_filters)?void 0:o.findIndex((e=>"operator"in e&&"TEMPORAL_RANGE"===e.operator)))?r:-1,i=-1!==a&&e.adhoc_filters?e.adhoc_filters[a]:null;i&&"comparator"in i&&"string"==typeof i.comparator&&null!=t&&t.time_range&&(i.comparator=t.time_range);const s=i?[i]:[],c=null==(n=e.adhoc_filters)?void 0:n.filter(((e,t)=>a!==t));return c?[...s,...c]:s},ur=lr,dr=(e,t,r)=>{let o;return o=t!==ct.Custom?{...e,adhoc_filters:lr(e,r),extra_form_data:{...r,time_range:void 0}}:{...e,adhoc_filters:e.adhoc_custom,extra_form_data:{...r,time_range:void 0}},o};var hr=r(21283),mr=r(6882),pr=r(91988)},47249:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var o=r(90317),n=r(69842),a=r(69244);function i(e,t=!1){const r=t?o.i$:o.g0,i=r("%Y-%m-%d %H:%M:%S.%L"),s=r("%Y-%m-%d %H:%M:%S"),c=r("%Y-%m-%d %H:%M"),l=r("%Y-%m-%d %H:%M"),u=r("%Y-%m-%d"),d=r("%Y-%m-%d"),h=r("%Y"),{hasMillisecond:m,hasSecond:p,hasMinute:g,hasHour:f,isNotFirstDayOfMonth:y,isNotFirstMonth:_}=t?n.Z:n.b;let v=h;return e.forEach((e=>{v===h&&_(e)&&(v=d),v===d&&y(e)&&(v=u),v===u&&f(e)&&(v=l),v===l&&g(e)&&(v=c),v===c&&p(e)&&(v=s),v===s&&m(e)&&(v=i)})),new a.Z({description:"Use the finest grain in an array of dates to format all dates in the array",formatFunc:v,id:"finest_temporal_grain",label:"Format temporal columns with the finest grain",useLocalTime:t})}},50523:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});const o=()=>{var e;return null==(e=window.getSelection())?void 0:e.toString()}},70406:(e,t,r)=>{"use strict";r.d(t,{D:()=>a,b:()=>i});var o=r(36377),n=r.n(o);function a(e){return n()(e)}function i(){return n()("superset-ui")()}},26635:(e,t,r)=>{"use strict";r.d(t,{l:()=>o});const o=r(67294).memo},75042:()=>{}}]);
//# sourceMappingURL=0592ac5060d29a2c0132.chunk.js.map