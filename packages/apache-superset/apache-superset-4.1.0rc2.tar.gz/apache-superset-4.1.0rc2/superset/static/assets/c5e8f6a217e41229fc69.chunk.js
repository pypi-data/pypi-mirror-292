"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[8680],{58680:(e,t,r)=>{r.r(t),r.d(t,{default:()=>u});var n=r(63475),c=r(35944);function u(e){const{height:t,width:r,echartOptions:u,refs:h}=e;return(0,c.tZ)(n.Z,{refs:h,height:t,width:r,echartOptions:u})}},63475:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(67294),c=r(51995),u=r(31431),h=r(35944);const i=c.iK.div`
  height: ${({height:e})=>e};
  width: ${({width:e})=>e};
`;function s({width:e,height:t,echartOptions:r,eventHandlers:c,zrEventHandlers:s,selectedValues:a={},refs:d},l){const f=(0,n.useRef)(null);d&&(d.divRef=f);const o=(0,n.useRef)(),g=(0,n.useMemo)((()=>Object.keys(a)||[]),[a]),p=(0,n.useRef)([]);(0,n.useImperativeHandle)(l,(()=>({getEchartInstance:()=>o.current}))),(0,n.useEffect)((()=>{f.current&&(o.current||(o.current=(0,u.S1)(f.current)),Object.entries(c||{}).forEach((([e,t])=>{var r,n;null==(r=o.current)||r.off(e),null==(n=o.current)||n.on(e,t)})),Object.entries(s||{}).forEach((([e,t])=>{var r,n;null==(r=o.current)||r.getZr().off(e),null==(n=o.current)||n.getZr().on(e,t)})),o.current.setOption(r,!0))}),[r,c,s]),(0,n.useEffect)((()=>{o.current&&(o.current.dispatchAction({type:"downplay",dataIndex:p.current.filter((e=>!g.includes(e)))}),g.length&&o.current.dispatchAction({type:"highlight",dataIndex:g}),p.current=g)}),[g]);const w=(0,n.useCallback)((({width:e,height:t})=>{o.current&&o.current.resize({width:e,height:t})}),[]);return(0,n.useEffect)((()=>(w({width:e,height:t}),()=>{var e;return null==(e=o.current)?void 0:e.dispose()})),[]),(0,n.useLayoutEffect)((()=>{w({width:e,height:t})}),[e,t,w]),(0,h.tZ)(i,{ref:f,height:t,width:e})}const a=(0,n.forwardRef)(s)}}]);
//# sourceMappingURL=c5e8f6a217e41229fc69.chunk.js.map